function $parcel$export(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var $de853134146c98b0$var$cachedSetTimeout,$de853134146c98b0$var$cachedClearTimeout,$de853134146c98b0$var$currentQueue,$b14bff6a84745601$var$cache,$parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function $parcel$interopDefault(e){return e&&e.__esModule?e.default:e}var $parcel$modules={},$parcel$inits={},parcelRequire=$parcel$global.parcelRequirec65f;null==parcelRequire&&((parcelRequire=function(e){if(e in $parcel$modules)return $parcel$modules[e].exports;if(e in $parcel$inits){var t=$parcel$inits[e];delete $parcel$inits[e];var r={id:e,exports:{}};return $parcel$modules[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){$parcel$inits[e]=t},$parcel$global.parcelRequirec65f=parcelRequire);var parcelRegister=parcelRequire.register;parcelRegister("2jQ4E",function(e,t){$parcel$export(e.exports,"vop",function(){return n});var r=parcelRequire("eyNeX");let n=(e=1,t,...n)=>{let i=[,,].concat(n),a=(...n)=>{let a=i[n[e].length]||t;return a?a(...n):(0,r.unsupported)(`no impl for vec size ${n[e].length}`)};return a.add=(e,t)=>i[e]=t,a.default=e=>t=e,a.impl=e=>null!=e&&i[e]||t,a}}),parcelRegister("eyNeX",function(e,t){$parcel$export(e.exports,"unsupported",function(){return n});let r=(0,parcelRequire("bHeZe").defError)(()=>"unsupported operation"),n=e=>{throw new r(e)}}),parcelRegister("bHeZe",function(e,t){$parcel$export(e.exports,"defError",function(){return r});let r=(e,t=e=>void 0!==e?": "+e:"")=>class extends Error{origMessage;constructor(r){super(e(r)+t(r)),this.origMessage=void 0!==r?String(r):""}}}),parcelRegister("6VkLY",function(e,t){$parcel$export(e.exports,"add2",function(){return p});var r=parcelRequire("bIpLh"),n=parcelRequire("2FEXC");let[i,a,o,s]=(0,r.defOpVV)(n.$add),p=a}),parcelRegister("bIpLh",function(e,t){$parcel$export(e.exports,"defOpVV",function(){return n});var r=parcelRequire("2jQ4E");let n=(e,t=1,n=!0)=>{let i=n?(t,r,n)=>{t||(t=r);for(let i=r.length;i-- >0;)t[i]=e(r[i],n[i]);return t}:(t,r,n)=>{t||(t=n);for(let i=r.length;i-- >0;)t[i]=e(r[i],n[i]);return t},a=n?(t,r,n)=>(t||(t=r),t[0]=e(r[0],n[0]),t[1]=e(r[1],n[1]),t):(t,r,n)=>(t||(t=n),t[0]=e(r[0],n[0]),t[1]=e(r[1],n[1]),t),o=n?(t,r,n)=>(t||(t=r),t[0]=e(r[0],n[0]),t[1]=e(r[1],n[1]),t[2]=e(r[2],n[2]),t):(t,r,n)=>(t||(t=n),t[0]=e(r[0],n[0]),t[1]=e(r[1],n[1]),t[2]=e(r[2],n[2]),t),s=n?(t,r,n)=>(t||(t=r),t[0]=e(r[0],n[0]),t[1]=e(r[1],n[1]),t[2]=e(r[2],n[2]),t[3]=e(r[3],n[3]),t):(t,r,n)=>(t||(t=n),t[0]=e(r[0],n[0]),t[1]=e(r[1],n[1]),t[2]=e(r[2],n[2]),t[3]=e(r[3],n[3]),t);return[(0,r.vop)(t,i,a,o,s),a,o,s]}}),parcelRegister("2FEXC",function(e,t){$parcel$export(e.exports,"$add",function(){return r}),$parcel$export(e.exports,"$div",function(){return n}),$parcel$export(e.exports,"$madd",function(){return i}),$parcel$export(e.exports,"$mix",function(){return a}),$parcel$export(e.exports,"$mul",function(){return o}),$parcel$export(e.exports,"$sub",function(){return s});let r=(e,t)=>e+t,n=(e,t)=>e/t,i=(e,t,r)=>e*t+r,a=(e,t,r)=>e+(t-e)*r,o=(e,t)=>e*t,s=(e,t)=>e-t}),parcelRegister("bT76s",function(e,t){$parcel$export(e.exports,"defOpVN",function(){return n});var r=parcelRequire("2jQ4E");let n=(e,t=1)=>{let n=(t,r,n)=>{t||(t=r);for(let i=r.length;i-- >0;)t[i]=e(r[i],n);return t},i=(t,r,n)=>(t||(t=r),t[0]=e(r[0],n),t[1]=e(r[1],n),t),a=(t,r,n)=>(t||(t=r),t[0]=e(r[0],n),t[1]=e(r[1],n),t[2]=e(r[2],n),t),o=(t,r,n)=>(t||(t=r),t[0]=e(r[0],n),t[1]=e(r[1],n),t[2]=e(r[2],n),t[3]=e(r[3],n),t);return[(0,r.vop)(t,n,i,a,o),i,a,o]}}),parcelRegister("8sn0R",function(e,t){$parcel$export(e.exports,"divN2",function(){return p});var r=parcelRequire("bT76s"),n=parcelRequire("2FEXC");let[i,a,o,s]=(0,r.defOpVN)(n.$div),p=a}),parcelRegister("cXii6",function(e,t){$parcel$export(e.exports,"fit",function(){return i}),$parcel$export(e.exports,"fit01",function(){return a});var r=parcelRequire("bYNp4");let n=(e,t,r)=>r!==t?(e-t)/(r-t):0,i=(e,t,r,i,a)=>i+(a-i)*n(e,t,r),a=(e,t,n)=>t+(n-t)*(0,r.clamp01)(e)}),parcelRegister("bYNp4",function(e,t){$parcel$export(e.exports,"clamp",function(){return r}),$parcel$export(e.exports,"clamp01",function(){return n}),$parcel$export(e.exports,"clamp11",function(){return i});let r=(e,t,r)=>e<t?t:e>r?r:e,n=e=>e<0?0:e>1?1:e,i=e=>e<-1?-1:e>1?1:e}),parcelRegister("jegOU",function(e,t){$parcel$export(e.exports,"map",function(){return n}),$parcel$export(e.exports,"default",function(){return i});var r=parcelRequire("j3ERp");let n=(e,t,n=[])=>(0,r.reduce)((r,n,i)=>(r[i]=e(n,i,t,r),r),t,n||t);var i=n}),parcelRegister("j3ERp",function(e,t){$parcel$export(e.exports,"reduce",function(){return n}),$parcel$export(e.exports,"default",function(){return i});let r=Array.prototype.reduce,n=(e,t,n)=>void 0===n?r.call(t,e):r.call(t,e,n);var i=n}),parcelRegister("iFz86",function(e,t){$parcel$export(e.exports,"defOpVVV",function(){return n});var r=parcelRequire("2jQ4E");let n=(e,t=1,n=!0)=>{let i=n?(t,r,n,i)=>{t||(t=r);for(let a=r.length;a-- >0;)t[a]=e(r[a],n[a],i[a]);return t}:(t,r,n,i)=>{t||(t=i);for(let a=r.length;a-- >0;)t[a]=e(r[a],n[a],i[a]);return t},a=n?(t,r,n,i)=>(t||(t=r),t[0]=e(r[0],n[0],i[0]),t[1]=e(r[1],n[1],i[1]),t):(t,r,n,i)=>(t||(t=i),t[0]=e(r[0],n[0],i[0]),t[1]=e(r[1],n[1],i[1]),t),o=n?(t,r,n,i)=>(t||(t=r),t[0]=e(r[0],n[0],i[0]),t[1]=e(r[1],n[1],i[1]),t[2]=e(r[2],n[2],i[2]),t):(t,r,n,i)=>(t||(t=i),t[0]=e(r[0],n[0],i[0]),t[1]=e(r[1],n[1],i[1]),t[2]=e(r[2],n[2],i[2]),t),s=n?(t,r,n,i)=>(t||(t=r),t[0]=e(r[0],n[0],i[0]),t[1]=e(r[1],n[1],i[1]),t[2]=e(r[2],n[2],i[2]),t[3]=e(r[3],n[3],i[3]),t):(t,r,n,i)=>(t||(t=i),t[0]=e(r[0],n[0],i[0]),t[1]=e(r[1],n[1],i[1]),t[2]=e(r[2],n[2],i[2]),t[3]=e(r[3],n[3],i[3]),t);return[(0,r.vop)(t,i,a,o,s),a,o,s]}}),parcelRegister("21EMZ",function(e,t){$parcel$export(e.exports,"handLinksFull",function(){return p}),$parcel$export(e.exports,"handLinksDraw",function(){return d}),$parcel$export(e.exports,"getHandPoser",function(){return c});var r=parcelRequire("9YZLi"),n=parcelRequire("6VkLY"),i=parcelRequire("8sn0R"),a=parcelRequire("agHfn"),o=parcelRequire("jegOU"),s=parcelRequire("j3ERp");let p=[[0,1],[1,2],[2,5],[5,9],[9,13],[13,17],[17,0],[2,3],[3,4],[5,6],[6,7],[7,8],[9,10],[10,11],[11,12],[13,14],[14,15],[15,16],[17,18],[18,19],[19,20]],d=[[1,2],[2,5],[5,9],[9,13],[13,17],[17,0],[3,4],[5,6],[7,8],[9,10],[11,12],[13,14],[15,16],[17,18],[19,20]],l=[[-1,-1],[1,1]];async function c(e={}){let{hands:t=1,mode:p="VIDEO"}=e,d=e.vision=await r.FilesetResolver.forVisionTasks("./tracker/wasm"),u=e.hands=await r.HandLandmarker.createFromOptions(d,{baseOptions:{modelAssetPath:"hand_landmarker.task",delegate:"GPU"},numHands:t,runningMode:p});return e.track=e=>{let t=u.detectForVideo(e,performance.now()),r=t.landmarksNDC=(0,o.map)(e=>(0,o.map)(({x:e,y:t,z:r})=>(0,a.fit01_2)(null,[e,t,r],...l),e,0),t.landmarks,0),p=t.meanNDC=[0,0];return(0,i.divN2)(p,p,(0,s.reduce)((e,t)=>(0,s.reduce)((e,t)=>(0,n.add2)(p,p,t)&&e+1,t,e),r,0)),t},e}}),parcelRegister("9YZLi",function(module,exports){let supportsSimd;$parcel$export(module.exports,"HandLandmarker",function(){return HandLandmarker_1}),$parcel$export(module.exports,"FilesetResolver",function(){return FilesetResolver_1});var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==$parcel$global?$parcel$global:"undefined"!=typeof self?self:{},vision={},fileset_resolver={};Object.defineProperty(fileset_resolver,"__esModule",{value:!0}),fileset_resolver.FilesetResolver=void 0;let WASM_SIMD_CHECK=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);async function isSimdSupported(){if(void 0===supportsSimd)try{await WebAssembly.instantiate(WASM_SIMD_CHECK),supportsSimd=!0}catch(e){supportsSimd=!1}return supportsSimd}async function createFileset(e,t=""){let r=await isSimdSupported()?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:`${t}/${e}_${r}.js`,wasmBinaryPath:`${t}/${e}_${r}.wasm`}}class FilesetResolver$1{static isSimdSupported(){return isSimdSupported()}static forAudioTasks(e){return createFileset("audio",e)}static forTextTasks(e){return createFileset("text",e)}static forVisionTasks(e){return createFileset("vision",e)}}fileset_resolver.FilesetResolver=FilesetResolver$1;var drawing_utils={};Object.defineProperty(drawing_utils,"__esModule",{value:!0}),drawing_utils.DrawingUtils=void 0;let DEFAULT_OPTIONS={color:"white",lineWidth:4,radius:6};function addDefaultOptions(e){return e=e||{},Object.assign(Object.assign(Object.assign({},DEFAULT_OPTIONS),{fillColor:e.color}),e)}function resolve(e,t){return e instanceof Function?e(t):e}class DrawingUtils$1{constructor(e){this.ctx=e}static clamp(e,t,r){return Math.max(Math.min(t,r),Math.min(Math.max(t,r),e))}static lerp(e,t,r,n,i){let a=n*(1-(e-t)/(r-t))+i*(1-(r-e)/(r-t));return DrawingUtils$1.clamp(a,n,i)}drawLandmarks(e,t){if(!e)return;let r=this.ctx,n=addDefaultOptions(t);r.save();let i=r.canvas,a=0;for(let t of e){r.fillStyle=resolve(n.fillColor,{index:a,from:t}),r.strokeStyle=resolve(n.color,{index:a,from:t}),r.lineWidth=resolve(n.lineWidth,{index:a,from:t});let e=new Path2D;e.arc(t.x*i.width,t.y*i.height,resolve(n.radius,{index:a,from:t}),0,2*Math.PI),r.fill(e),r.stroke(e),++a}r.restore()}drawConnectors(e,t,r){if(!e||!t)return;let n=this.ctx,i=addDefaultOptions(r);n.save();let a=n.canvas,o=0;for(let r of t){n.beginPath();let t=e[r.start],s=e[r.end];t&&s&&(n.strokeStyle=resolve(i.color,{index:o,from:t,to:s}),n.lineWidth=resolve(i.lineWidth,{index:o,from:t,to:s}),n.moveTo(t.x*a.width,t.y*a.height),n.lineTo(s.x*a.width,s.y*a.height)),++o,n.stroke()}n.restore()}drawBoundingBox(e,t){let r=this.ctx,n=addDefaultOptions(t);r.save(),r.beginPath(),r.lineWidth=resolve(n.lineWidth,{}),r.strokeStyle=resolve(n.color,{}),r.fillStyle=resolve(n.fillColor,{}),r.moveTo(e.originX,e.originY),r.lineTo(e.originX+e.width,e.originY),r.lineTo(e.originX+e.width,e.originY+e.height),r.lineTo(e.originX,e.originY+e.height),r.lineTo(e.originX,e.originY),r.stroke(),r.fill(),r.restore()}}drawing_utils.DrawingUtils=DrawingUtils$1;var image={},image_shader_context={};Object.defineProperty(image_shader_context,"__esModule",{value:!0}),image_shader_context.MPImageShaderContext=image_shader_context.assertNotNull=void 0;let VERTEX_SHADER="\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",FRAGMENT_SHADER="\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D inputTexture;\n   void main() {\n     gl_FragColor = texture2D(inputTexture, vTex);\n   }\n ";function assertNotNull(e,t){if(null===e)throw Error(`Unable to obtain required WebGL resource: ${t}`);return e}image_shader_context.assertNotNull=assertNotNull;class MPImageShaderBuffers{constructor(e,t,r,n){this.gl=e,this.vertexArrayObject=t,this.vertexBuffer=r,this.textureBuffer=n}bind(){this.gl.bindVertexArray(this.vertexArrayObject)}unbind(){this.gl.bindVertexArray(null)}close(){this.gl.deleteVertexArray(this.vertexArrayObject),this.gl.deleteBuffer(this.vertexBuffer),this.gl.deleteBuffer(this.textureBuffer)}}class MPImageShaderContext{compileShader(e,t){let r=this.gl,n=assertNotNull(r.createShader(t),"Failed to create WebGL shader");if(r.shaderSource(n,e),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS)){let e=r.getShaderInfoLog(n);throw Error(`Could not compile WebGL shader: ${e}`)}return r.attachShader(this.program,n),n}setupShaders(){let e=this.gl;if(this.program=assertNotNull(e.createProgram(),"Failed to create WebGL program"),this.vertexShader=this.compileShader(VERTEX_SHADER,e.VERTEX_SHADER),this.fragmentShader=this.compileShader(FRAGMENT_SHADER,e.FRAGMENT_SHADER),e.linkProgram(this.program),!e.getProgramParameter(this.program,e.LINK_STATUS)){let t=e.getProgramInfoLog(this.program);throw Error(`Error during program linking: ${t}`)}this.aVertex=e.getAttribLocation(this.program,"aVertex"),this.aTex=e.getAttribLocation(this.program,"aTex")}createBuffers(e){let t=this.gl,r=assertNotNull(t.createVertexArray(),"Failed to create vertex array");t.bindVertexArray(r);let n=assertNotNull(t.createBuffer(),"Failed to create buffer");t.bindBuffer(t.ARRAY_BUFFER,n),t.enableVertexAttribArray(this.aVertex),t.vertexAttribPointer(this.aVertex,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),t.STATIC_DRAW);let i=assertNotNull(t.createBuffer(),"Failed to create buffer");t.bindBuffer(t.ARRAY_BUFFER,i),t.enableVertexAttribArray(this.aTex),t.vertexAttribPointer(this.aTex,2,t.FLOAT,!1,0,0);let a=e?[0,1,0,0,1,0,1,1]:[0,0,0,1,1,1,1,0];return t.bufferData(t.ARRAY_BUFFER,new Float32Array(a),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindVertexArray(null),new MPImageShaderBuffers(t,r,n,i)}getShaderBuffers(e){return e?(this.shaderBuffersFlipVertically||(this.shaderBuffersFlipVertically=this.createBuffers(!0)),this.shaderBuffersFlipVertically):(this.shaderBuffersPassthrough||(this.shaderBuffersPassthrough=this.createBuffers(!1)),this.shaderBuffersPassthrough)}maybeInitGL(e){if(this.gl){if(e!==this.gl)throw Error("Cannot change GL context once initialized")}else this.gl=e}run(e,t,r){this.maybeInitGL(e),this.program||this.setupShaders();let n=this.getShaderBuffers(t);e.useProgram(this.program),n.bind();let i=r();return n.unbind(),i}bindFramebuffer(e,t){this.maybeInitGL(e),this.framebuffer||(this.framebuffer=assertNotNull(e.createFramebuffer(),"Failed to create framebuffe.")),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}unbindFramebuffer(){var e;null==(e=this.gl)||e.bindFramebuffer(this.gl.FRAMEBUFFER,null)}close(){if(this.program){let e=this.gl;e.deleteProgram(this.program),e.deleteShader(this.vertexShader),e.deleteShader(this.fragmentShader)}this.framebuffer&&this.gl.deleteFramebuffer(this.framebuffer),this.shaderBuffersPassthrough&&this.shaderBuffersPassthrough.close(),this.shaderBuffersFlipVertically&&this.shaderBuffersFlipVertically.close()}}image_shader_context.MPImageShaderContext=MPImageShaderContext,Object.defineProperty(image,"__esModule",{value:!0}),image.MPImage=void 0;let image_shader_context_1$2=image_shader_context;!function(e){e[e.IMAGE_DATA=0]="IMAGE_DATA",e[e.IMAGE_BITMAP=1]="IMAGE_BITMAP",e[e.WEBGL_TEXTURE=2]="WEBGL_TEXTURE"}(MPImageType||(MPImageType={}));class MPImage$1{constructor(e,t,r,n,i,a,o){this.containers=e,this.ownsImageBitmap=t,this.ownsWebGLTexture=r,this.canvas=n,this.shaderContext=i,this.width=a,this.height=o}hasImageData(){return!!this.getContainer(MPImageType.IMAGE_DATA)}hasImageBitmap(){return!!this.getContainer(MPImageType.IMAGE_BITMAP)}hasWebGLTexture(){return!!this.getContainer(MPImageType.WEBGL_TEXTURE)}getAsImageData(){return this.convertToImageData()}getAsImageBitmap(){return this.convertToImageBitmap()}getAsWebGLTexture(){return this.convertToWebGLTexture()}getContainer(e){switch(e){case MPImageType.IMAGE_DATA:return this.containers.find(e=>e instanceof ImageData);case MPImageType.IMAGE_BITMAP:return this.containers.find(e=>"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap);case MPImageType.WEBGL_TEXTURE:return this.containers.find(e=>"undefined"!=typeof WebGLTexture&&e instanceof WebGLTexture);default:throw Error(`Type is not supported: ${e}`)}}clone(){let e=[];for(let t of this.containers){let r;if(t instanceof ImageData)r=new ImageData(t.data,this.width,this.height);else if(t instanceof WebGLTexture){let e=this.getGL(),t=this.getShaderContext();e.activeTexture(e.TEXTURE1),r=(0,image_shader_context_1$2.assertNotNull)(e.createTexture(),"Failed to create texture"),e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,null),t.bindFramebuffer(e,r),t.run(e,!1,()=>{this.bindTexture(),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),this.unbindTexture()}),t.unbindFramebuffer(),this.unbindTexture()}else{if(!(t instanceof ImageBitmap))throw Error(`Type is not supported: ${t}`);this.convertToWebGLTexture(),this.bindTexture(),r=this.copyTextureToBitmap(),this.unbindTexture()}e.push(r)}return new MPImage$1(e,this.hasImageBitmap(),this.hasWebGLTexture(),this.canvas,this.shaderContext,this.width,this.height)}getOffscreenCanvas(){if(!(this.canvas instanceof OffscreenCanvas))throw Error("Conversion to ImageBitmap requires that the MediaPipe Tasks is initialized with an OffscreenCanvas");return this.canvas}getGL(){if(!this.canvas)throw Error("Conversion to different image formats require that a canvas is passed when iniitializing the image.");return this.gl||(this.gl=(0,image_shader_context_1$2.assertNotNull)(this.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),this.gl}getShaderContext(){return this.shaderContext||(this.shaderContext=new image_shader_context_1$2.MPImageShaderContext),this.shaderContext}convertToImageBitmap(){let e=this.getContainer(MPImageType.IMAGE_BITMAP);return e||(this.convertToWebGLTexture(),e=this.convertWebGLTextureToImageBitmap(),this.containers.push(e),this.ownsImageBitmap=!0),e}convertToImageData(){let e=this.getContainer(MPImageType.IMAGE_DATA);if(!e){let t=this.getGL(),r=this.getShaderContext(),n=new Uint8Array(this.width*this.height*4),i=this.convertToWebGLTexture();r.bindFramebuffer(t,i),t.readPixels(0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,n),r.unbindFramebuffer(),e=new ImageData(new Uint8ClampedArray(n.buffer),this.width,this.height),this.containers.push(e)}return e}convertToWebGLTexture(){let e=this.getContainer(MPImageType.WEBGL_TEXTURE);if(!e){let t=this.getGL();e=this.bindTexture();let r=this.getContainer(MPImageType.IMAGE_BITMAP)||this.convertToImageData();t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r),this.unbindTexture()}return e}bindTexture(){let e=this.getGL();e.viewport(0,0,this.width,this.height),e.activeTexture(e.TEXTURE0);let t=this.getContainer(MPImageType.WEBGL_TEXTURE);return t||(t=(0,image_shader_context_1$2.assertNotNull)(e.createTexture(),"Failed to create texture"),this.containers.push(t),this.ownsWebGLTexture=!0),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),t}unbindTexture(){this.gl.bindTexture(this.gl.TEXTURE_2D,null)}copyTextureToBitmap(){let e=this.getGL();return this.getShaderContext().run(e,!0,()=>this.runWithResizedCanvas(()=>(e.bindFramebuffer(e.FRAMEBUFFER,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),this.getOffscreenCanvas().transferToImageBitmap())))}convertWebGLTextureToImageBitmap(){this.bindTexture();let e=this.copyTextureToBitmap();return this.unbindTexture(),e}runWithResizedCanvas(e){let t=this.canvas;if(t.width===this.width&&t.height===this.height)return e();let r=t.width,n=t.height;t.width=this.width,t.height=this.height;let i=e();return t.width=r,t.height=n,i}close(){this.ownsImageBitmap&&this.getContainer(MPImageType.IMAGE_BITMAP).close(),this.ownsWebGLTexture&&this.getGL().deleteTexture(this.getContainer(MPImageType.WEBGL_TEXTURE))}}image.MPImage=MPImage$1;var mask={};Object.defineProperty(mask,"__esModule",{value:!0}),mask.MPMask=void 0;let image_shader_context_1$1=image_shader_context;!function(e){e[e.UINT8_ARRAY=0]="UINT8_ARRAY",e[e.FLOAT32_ARRAY=1]="FLOAT32_ARRAY",e[e.WEBGL_TEXTURE=2]="WEBGL_TEXTURE"}(MPMaskType||(MPMaskType={}));class MPMask$1{constructor(e,t,r,n,i,a){this.containers=e,this.ownsWebGLTexture=t,this.canvas=r,this.shaderContext=n,this.width=i,this.height=a}hasUint8Array(){return!!this.getContainer(MPMaskType.UINT8_ARRAY)}hasFloat32Array(){return!!this.getContainer(MPMaskType.FLOAT32_ARRAY)}hasWebGLTexture(){return!!this.getContainer(MPMaskType.WEBGL_TEXTURE)}getAsUint8Array(){return this.convertToUint8Array()}getAsFloat32Array(){return this.convertToFloat32Array()}getAsWebGLTexture(){return this.convertToWebGLTexture()}getContainer(e){switch(e){case MPMaskType.UINT8_ARRAY:return this.containers.find(e=>e instanceof Uint8Array);case MPMaskType.FLOAT32_ARRAY:return this.containers.find(e=>e instanceof Float32Array);case MPMaskType.WEBGL_TEXTURE:return this.containers.find(e=>"undefined"!=typeof WebGLTexture&&e instanceof WebGLTexture);default:throw Error(`Type is not supported: ${e}`)}}clone(){let e=[];for(let t of this.containers){let r;if(t instanceof Uint8Array)r=new Uint8Array(t);else if(t instanceof Float32Array)r=new Float32Array(t);else{if(!(t instanceof WebGLTexture))throw Error(`Type is not supported: ${t}`);{let e=this.getGL(),t=this.getShaderContext();e.activeTexture(e.TEXTURE1),r=(0,image_shader_context_1$1.assertNotNull)(e.createTexture(),"Failed to create texture"),e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.R32F,this.width,this.height,0,e.RED,e.FLOAT,null),e.bindTexture(e.TEXTURE_2D,null),t.bindFramebuffer(e,r),t.run(e,!1,()=>{this.bindTexture(),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),this.unbindTexture()}),t.unbindFramebuffer(),this.unbindTexture()}}e.push(r)}return new MPMask$1(e,this.hasWebGLTexture(),this.canvas,this.shaderContext,this.width,this.height)}getGL(){if(!this.canvas)throw Error("Conversion to different image formats require that a canvas is passed when iniitializing the image.");if(this.gl||(this.gl=(0,image_shader_context_1$1.assertNotNull)(this.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),!this.gl.getExtension("EXT_color_buffer_float"))throw Error("Missing required EXT_color_buffer_float extension");return this.gl}getShaderContext(){return this.shaderContext||(this.shaderContext=new image_shader_context_1$1.MPImageShaderContext),this.shaderContext}convertToFloat32Array(){let e=this.getContainer(MPMaskType.FLOAT32_ARRAY);if(!e){let t=this.getContainer(MPMaskType.UINT8_ARRAY);if(t)e=new Float32Array(t).map(e=>e/255);else{let t=this.getGL(),r=this.getShaderContext();e=new Float32Array(this.width*this.height);let n=this.convertToWebGLTexture();r.bindFramebuffer(t,n),t.readPixels(0,0,this.width,this.height,t.RED,t.FLOAT,e),r.unbindFramebuffer()}this.containers.push(e)}return e}convertToUint8Array(){let e=this.getContainer(MPMaskType.UINT8_ARRAY);return e||(e=new Uint8Array(this.convertToFloat32Array().map(e=>255*e)),this.containers.push(e)),e}convertToWebGLTexture(){let e=this.getContainer(MPMaskType.WEBGL_TEXTURE);if(!e){let t=this.getGL();e=this.bindTexture();let r=this.convertToFloat32Array();t.texImage2D(t.TEXTURE_2D,0,t.R32F,this.width,this.height,0,t.RED,t.FLOAT,r),this.unbindTexture()}return e}bindTexture(){let e=this.getGL();e.viewport(0,0,this.width,this.height),e.activeTexture(e.TEXTURE0);let t=this.getContainer(MPMaskType.WEBGL_TEXTURE);return t||(t=(0,image_shader_context_1$1.assertNotNull)(e.createTexture(),"Failed to create texture"),this.containers.push(t),this.ownsWebGLTexture=!0),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),t}unbindTexture(){this.gl.bindTexture(this.gl.TEXTURE_2D,null)}close(){this.ownsWebGLTexture&&this.getGL().deleteTexture(this.getContainer(MPMaskType.WEBGL_TEXTURE))}}mask.MPMask=MPMask$1;var face_detector={},calculator_pb={},googleProtobuf={};!function(exports){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,r){e instanceof String&&(e=String(e));for(var n=e.length,i=0;i<n;i++){var a=e[i];if(t.call(r,a,i,e))return{i:i,v:a}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==commonjsGlobal&&null!=commonjsGlobal?commonjsGlobal:e},$jscomp.global=$jscomp.getGlobal(commonjsGlobal),$jscomp.polyfill=function(e,t,r,n){if(t){for(r=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var i=e[n];i in r||(r[i]={}),r=r[i]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.findIndex",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).i}},"es6","es3"),$jscomp.checkStringArgs=function(e,t,r){if(null==e)throw TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.endsWith",function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=r.length),t=Math.max(0,Math.min(0|t,r.length));for(var n=e.length;0<n&&0<t;)if(r[--t]!=e[--n])return!1;return 0>=n}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var n=r.length,i=e.length;t=Math.max(0,Math.min(0|t,r.length));for(var a=0;a<i&&t<n;)if(r[t++]!=e[a++])return!1;return a>=i}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||0x4fffffff<e)throw RangeError("Invalid count value");e|=0;for(var r="";e;)1&e&&(r+=t),(e>>>=1)&&(t+=t);return r}},"es6","es3");var COMPILED1=!0,goog=goog||{};goog.global=commonjsGlobal||self,goog.exportPath_=function(e,t,r){e=e.split("."),r=r||goog.global,e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(var n;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t},goog.define=function(e,t){return t},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){goog.exportPath_(e,t)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if("string"!=typeof e||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=e},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&"function"==typeof e.getCurrentModulePath&&!!e.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||"function"!=typeof t.getCurrentModulePath)throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw Error("Importing test-only code into non-debug environment"+((e=e||"")?": "+e:"."))},goog.forwardDeclare=function(e){},goog.getObjectByName=function(e,t){e=e.split("."),t=t||goog.global;for(var r=0;r<e.length;r++)if(null==(t=t[e[r]]))return null;return t},goog.globalize=function(e,t){for(var r in t=t||goog.global,e)t[r]=e[r]},goog.addDependency=function(e,t,r,n){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED1,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var r=e.call(void 0,{});else{if("string"!=typeof e)throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),r=goog.loadModuleFromSource_.call(void 0,e)}var n=goog.moduleLoaderState_.moduleName;if("string"!=typeof n||!n)throw Error('Invalid module name "'+n+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof r&&null!=r&&Object.seal(r),goog.loadedModules_[n]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(e){return null}},goog.transpile_=function(e,t,r){var n=goog.global.$jscomp;n||(goog.global.$jscomp=n={});var i=n.transpile;if(!i){var a=goog.basePath+goog.TRANSPILER,o=goog.loadFileSync_(a);if(o){if((function(){(0,eval)(o+"\n//# sourceURL="+a)}).call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,i=(n=goog.global.$jscomp).transpile}}return i||(i=n.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),i(e,t,r)},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return Object.prototype.hasOwnProperty.call(e,goog.UID_PROPERTY_)&&e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if("function"==typeof e.clone)return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e,t,r){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var r in t)e[r]=t[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(e){}if(void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,r=t.createElement("script");r.type="text/javascript",r.defer=!1,r.appendChild(t.createTextNode(e)),t.head.appendChild(r),t.head.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var r=function(e){return goog.cssNameMapping_[e]||e},n=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(r(e[n]));return t.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:n:function(e){return e},e=t?e+"-"+n(t):n(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},goog.getMsg=function(e,t,r){return r&&r.html&&(e=e.replace(/</g,"&lt;")),t&&(e=e.replace(/\{\$([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,r)},goog.exportProperty=function(e,t,r){e[t]=r},goog.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(e,r,n){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[r].apply(e,i)}},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},goog.defineClass=function(e,t){var r=t.constructor,n=t.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,e),e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),null!=n&&(n instanceof Function?n(r):goog.defineClass.applyProperties_(r,n)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var r=!goog.defineClass.isUnsealable_(t),n=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===n&&r&&Object.seal instanceof Function&&Object.seal(t),t};return n},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},goog.tagUnsealableClass=function(e){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var t=null,r=goog.global.trustedTypes||goog.global.TrustedTypes;if(!r||!r.createPolicy)return t;try{t=r.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(e){goog.logToConsole_(e.message)}return t},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.object={},goog.object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},goog.object.forEach=function(e,t,r){for(var n in e)t.call(r,e[n],n,e)},goog.object.filter=function(e,t,r){var n,i={};for(n in e)t.call(r,e[n],n,e)&&(i[n]=e[n]);return i},goog.object.map=function(e,t,r){var n,i={};for(n in e)i[n]=t.call(r,e[n],n,e);return i},goog.object.some=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return!0;return!1},goog.object.every=function(e,t,r){for(var n in e)if(!t.call(r,e[n],n,e))return!1;return!0},goog.object.getCount=function(e){var t,r=0;for(t in e)r++;return r},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,r=[],n=0;for(t in e)r[n++]=e[t];return r},goog.object.getKeys=function(e){var t,r=[],n=0;for(t in e)r[n++]=t;return r},goog.object.getValueByKeys=function(e,t){var r=goog.isArrayLike(t),n=r?t:arguments;for(r=+!r;r<n.length;r++){if(null==e)return;e=e[n[r]]}return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var r in e)if(e[r]==t)return!0;return!1},goog.object.findKey=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return n},goog.object.findValue=function(e,t,r){return(t=goog.object.findKey(e,t,r))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var r;return(r=t in e)&&delete e[t],r},goog.object.add=function(e,t,r){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,r)},goog.object.get=function(e,t,r){return null!==e&&t in e?e[t]:r},goog.object.set=function(e,t,r){e[t]=r},goog.object.setIfUndefined=function(e,t,r){return t in e?e[t]:e[t]=r},goog.object.setWithReturnValueIfNotSet=function(e,t,r){return t in e?e[t]:(r=r(),e[t]=r)},goog.object.equals=function(e,t){for(var r in e)if(!(r in t)||e[r]!==t[r])return!1;for(var n in t)if(!(n in e))return!1;return!0},goog.object.clone=function(e){var t,r={};for(t in e)r[t]=e[t];return r},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(goog.isFunction(e.clone))return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.object.unsafeClone(e[r]);return t}return e},goog.object.transpose=function(e){var t,r={};for(t in e)r[e[t]]=t;return r},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var r,n,i=1;i<arguments.length;i++){for(r in n=arguments[i])e[r]=n[r];for(var a=0;a<goog.object.PROTOTYPE_FIELDS_.length;a++)r=goog.object.PROTOTYPE_FIELDS_[a],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&Array.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var r={},n=0;n<t;n+=2)r[arguments[n]]=arguments[n+1];return r},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&Array.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},n=0;n<t;n++)r[arguments[n]]=!0;return r},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&Object.freeze(t=Object.create(e)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t,r){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var n={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||r);){for(var i=Object.getOwnPropertyNames(e),a=0;a<i.length;a++)n[i[a]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(n)},goog.object.getSuperClass=function(e){return(e=Object.getPrototypeOf(e.prototype))&&e.constructor};var jspb={asserts:{}};jspb.asserts.doAssertFailure=function(e,t,r,n){var i="Assertion failed";if(r){i+=": "+r;var a=n}else e&&(i+=": "+e,a=t);throw Error(""+i,a||[])},jspb.asserts.assert=function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];return e||jspb.asserts.doAssertFailure("",null,t,n),e},jspb.asserts.assertString=function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];return"string"!=typeof e&&jspb.asserts.doAssertFailure("Expected string but got %s: %s.",[goog.typeOf(e),e],t,n),e},jspb.asserts.assertArray=function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];return Array.isArray(e)||jspb.asserts.doAssertFailure("Expected array but got %s: %s.",[goog.typeOf(e),e],t,n),e},jspb.asserts.fail=function(e,t){for(var r=[],n=1;n<arguments.length;++n)r[n-1]=arguments[n];throw Error("Failure"+(e?": "+e:""),r)},jspb.asserts.assertInstanceof=function(e,t,r,n){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];return e instanceof t||jspb.asserts.doAssertFailure("Expected instanceof %s but got %s.",[jspb.asserts.getType(t),jspb.asserts.getType(e)],r,i),e},jspb.asserts.getType=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},jspb.BinaryConstants={},jspb.ConstBinaryMessage=function(){},jspb.BinaryMessage=function(){},jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var t=jspb.BinaryConstants.FieldType,r=jspb.BinaryConstants.WireType;switch(e){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return r.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return r.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return r.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return r.FIXED32;default:return r.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=0x80000000,jspb.BinaryConstants.TWO_TO_32=0x100000000,jspb.BinaryConstants.TWO_TO_52=0x10000000000000,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0xffffffffffffffff,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){goog.debug.Error.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,t){for(var r="",n=(e=e.split("%s")).length-1,i=0;i<n;i++)r+=e[i]+(i<t.length?t[i]:"%s");return r+e[n]},goog.asserts.doAssertFailure_=function(e,t,r,n){var i="Assertion failed";if(r){i+=": "+r;var a=n}else e&&(i+=": "+e,a=t);e=new goog.asserts.AssertionError(""+i,a||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertExists=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&null==e&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&"number"!=typeof e&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&"string"!=typeof e&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!Array.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&"boolean"!=typeof e&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,r,n){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],r,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof e&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,r)}:function(e,t,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,"string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,r);for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return -1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==r?e.length-1:r)}:function(e,t,r){if(0>(r=null==r?e.length-1:r)&&(r=Math.max(0,e.length+r)),"string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.lastIndexOf(t,r);for(;0<=r;r--)if(r in e&&e[r]===t)return r;return -1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,r){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,r)}:function(e,t,r){for(var n=e.length,i="string"==typeof e?e.split(""):e,a=0;a<n;a++)a in i&&t.call(r,i[a],a,e)},goog.array.forEachRight=function(e,t,r){var n=e.length,i="string"==typeof e?e.split(""):e;for(--n;0<=n;--n)n in i&&t.call(r,i[n],n,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=[],a=0,o="string"==typeof e?e.split(""):e,s=0;s<n;s++)if(s in o){var p=o[s];t.call(r,p,s,e)&&(i[a++]=p)}return i},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=Array(n),a="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in a&&(i[o]=t.call(r,a[o],o,e));return i},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,r,n){return goog.asserts.assert(null!=e.length),n&&(t=goog.bind(t,n)),Array.prototype.reduce.call(e,t,r)}:function(e,t,r,n){var i=r;return goog.array.forEach(e,function(r,a){i=t.call(n,i,r,a,e)}),i},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,r,n){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),n&&(t=goog.bind(t,n)),Array.prototype.reduceRight.call(e,t,r)}:function(e,t,r,n){var i=r;return goog.array.forEachRight(e,function(r,a){i=t.call(n,i,r,a,e)}),i},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,r)}:function(e,t,r){for(var n=e.length,i="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in i&&t.call(r,i[a],a,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,r)}:function(e,t,r){for(var n=e.length,i="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in i&&!t.call(r,i[a],a,e))return!1;return!0},goog.array.count=function(e,t,r){var n=0;return goog.array.forEach(e,function(e,i,a){t.call(r,e,i,a)&&++n},r),n},goog.array.find=function(e,t,r){return 0>(t=goog.array.findIndex(e,t,r))?null:"string"==typeof e?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,r){for(var n=e.length,i="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in i&&t.call(r,i[a],a,e))return a;return -1},goog.array.findRight=function(e,t,r){return 0>(t=goog.array.findIndexRight(e,t,r))?null:"string"==typeof e?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,r){var n=e.length,i="string"==typeof e?e.split(""):e;for(--n;0<=n;n--)if(n in i&&t.call(r,i[n],n,e))return n;return -1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!Array.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,r){goog.array.splice(e,r,0,t)},goog.array.insertArrayAt=function(e,t,r){goog.partial(goog.array.splice,e,r,0).apply(null,t)},goog.array.insertBefore=function(e,t,r){var n;2==arguments.length||0>(n=goog.array.indexOf(e,r))?e.push(t):goog.array.insertAt(e,t,n)},goog.array.remove=function(e,t){var r;return(r=0<=(t=goog.array.indexOf(e,t)))&&goog.array.removeAt(e,t),r},goog.array.removeLast=function(e,t){return 0<=(t=goog.array.lastIndexOf(e,t))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,r){return 0<=(t=goog.array.findIndex(e,t,r))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,r){var n=0;return goog.array.forEachRight(e,function(i,a){t.call(r,i,a,e)&&goog.array.removeAt(e,a)&&n++}),n},goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var r=Array(t),n=0;n<t;n++)r[n]=e[n];return r}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(goog.isArrayLike(n)){var i=e.length||0,a=n.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=n[o]}else e.push(n)}},goog.array.splice=function(e,t,r,n){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,r){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,r)},goog.array.removeDuplicates=function(e,t,r){t=t||e;var n=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};r=r||n,n={};for(var i=0,a=0;a<e.length;){var o=e[a++],s=r(o);Object.prototype.hasOwnProperty.call(n,s)||(n[s]=!0,t[i++]=o)}t.length=i},goog.array.binarySearch=function(e,t,r){return goog.array.binarySearch_(e,r||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,r){return goog.array.binarySearch_(e,t,!0,void 0,r)},goog.array.binarySearch_=function(e,t,r,n,i){for(var a,o=0,s=e.length;o<s;){var p=o+(s-o>>>1),d=r?t.call(i,e[p],p,e):t(n,e[p]);0<d?o=p+1:(s=p,a=!d)}return a?o:-o-1},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]={index:n,value:e[n]};var i=t||goog.array.defaultCompare;for(goog.array.sort(r,function(e,t){return i(e.value,t.value)||e.index-t.index}),n=0;n<e.length;n++)e[n]=r[n].value},goog.array.sortByKey=function(e,t,r){var n=r||goog.array.defaultCompare;goog.array.sort(e,function(e,r){return n(t(e),t(r))})},goog.array.sortObjectsByKey=function(e,t,r){goog.array.sortByKey(e,function(e){return e[t]},r)},goog.array.isSorted=function(e,t,r){t=t||goog.array.defaultCompare;for(var n=1;n<e.length;n++){var i=t(e[n-1],e[n]);if(0<i||0==i&&r)return!1}return!0},goog.array.equals=function(e,t,r){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var n=e.length;r=r||goog.array.defaultCompareEquality;for(var i=0;i<n;i++)if(!r(e[i],t[i]))return!1;return!0},goog.array.compare3=function(e,t,r){r=r||goog.array.defaultCompare;for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var a=r(e[i],t[i]);if(0!=a)return a}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,r){return 0>(r=goog.array.binarySearch(e,t,r))&&(goog.array.insertAt(e,t,-(r+1)),!0)},goog.array.binaryRemove=function(e,t,r){return 0<=(t=goog.array.binarySearch(e,t,r))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,r){for(var n={},i=0;i<e.length;i++){var a=e[i],o=t.call(r,a,i,e);void 0!==o&&(n[o]||(n[o]=[])).push(a)}return n},goog.array.toObject=function(e,t,r){var n={};return goog.array.forEach(e,function(i,a){n[t.call(r,i,a,e)]=i}),n},goog.array.range=function(e,t,r){var n=[],i=0,a=e;if(void 0!==t&&(i=e,a=t),0>(r=r||1)*(a-i))return[];if(0<r)for(e=i;e<a;e+=r)n.push(e);else for(e=i;e>a;e+=r)n.push(e);return n},goog.array.repeat=function(e,t){for(var r=[],n=0;n<t;n++)r[n]=e;return r},goog.array.flatten=function(e){for(var t=[],r=0;r<arguments.length;r++){var n=arguments[r];if(Array.isArray(n))for(var i=0;i<n.length;i+=8192){var a=goog.array.slice(n,i,i+8192);a=goog.array.flatten.apply(null,a);for(var o=0;o<a.length;o++)t.push(a[o])}else t.push(n)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,r){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=r&&r<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,r,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],r=arguments[0].length,n=1;n<arguments.length;n++)arguments[n].length<r&&(r=arguments[n].length);for(n=0;n<r;n++){for(var i=[],a=0;a<arguments.length;a++)i.push(arguments[a][n]);t.push(i)}return t},goog.array.shuffle=function(e,t){t=t||Math.random;for(var r=e.length-1;0<r;r--){var n=Math.floor(t()*(r+1)),i=e[r];e[r]=e[n],e[n]=i}},goog.array.copyByIndex=function(e,t){var r=[];return goog.array.forEach(t,function(t){r.push(e[t])}),r},goog.array.concatMap=function(e,t,r){return goog.array.concat.apply([],goog.array.map(e,t,r))},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);255<i&&(t[r++]=255&i,i>>=8),t[r++]=i}return t},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",r=0;r<e.length;r+=8192){var n=goog.array.slice(e,r,r+8192);t+=String.fromCharCode.apply(null,n)}return t},goog.crypt.byteArrayToHex=function(e,t){return goog.array.map(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join(t||"")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(0==e.length%2,"Key string length must be multiple of 2");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t},goog.crypt.stringToUtf8ByteArray=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t[r++]=i:(2048>i?t[r++]=i>>6|192:(55296==(64512&i)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t},goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],r=0,n=0;r<e.length;){var i=e[r++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var a=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&a)}else if(239<i&&365>i){a=e[r++];var o=e[r++];i=((7&i)<<18|(63&a)<<12|(63&o)<<6|63&e[r++])-65536,t[n++]=String.fromCharCode(55296+(i>>10)),t[n++]=String.fromCharCode(56320+(1023&i))}else a=e[r++],o=e[r++],t[n++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}return t.join("")},goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var r=[],n=0;n<e.length;n++)r.push(e[n]^t[n]);return r},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);t&&(!e||!(e instanceof t.Location)&&e instanceof t.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=goog.dom.asserts.getWindow_(e);r&&void 0!==r[t]&&(e&&(e instanceof r[t]||!(e instanceof r.Location||e instanceof r.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,goog.dom.asserts.debugStringForType_(e)))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(e){if(!goog.isObject(e))return void 0===e?"undefined":null===e?"null":typeof e;try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(e){try{var t=e&&e.ownerDocument,r=t&&(t.defaultView||t.parentWindow);if((r=r||goog.global).Element&&r.Location)return r}catch(e){}return null},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.push.apply(t,r),e.apply(this,t)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(r){return t?e==r:e===r}},goog.functions.compose=function(e,t){var r=arguments,n=r.length;return function(){var e;n&&(e=r[n-1].apply(this,arguments));for(var t=n-2;0<=t;t--)e=r[t].call(this,e);return e}},goog.functions.sequence=function(e){var t=arguments,r=t.length;return function(){for(var e,n=0;n<r;n++)e=t[n].apply(this,arguments);return e}},goog.functions.and=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(!t[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(t[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var r=function(){};return r.prototype=e.prototype,r=new r,e.apply(r,Array.prototype.slice.call(arguments,1)),r},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,r=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(r||(t=e(),r=!0),t):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var e=t;t=null,e()}}},goog.functions.debounce=function(e,t,r){var n=0;return function(i){goog.global.clearTimeout(n);var a=arguments;n=goog.global.setTimeout(function(){e.apply(r,a)},t)}},goog.functions.throttle=function(e,t,r){var n=0,i=!1,a=[],o=function(){n=0,i&&(i=!1,s())},s=function(){n=goog.global.setTimeout(o,t),e.apply(r,a)};return function(e){a=arguments,n?i=!0:s()}},goog.functions.rateLimit=function(e,t,r){var n=0,i=function(){n=0};return function(a){n||(n=goog.global.setTimeout(i,t),e.apply(r,arguments))}},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.string={},goog.string.TypedString=function(){},goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.DEBUG&&(goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"}),goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.fromConstantAndArgs=function(e,t){for(var r=[],n=1;n<arguments.length;n++)r.push(goog.html.SafeScript.stringify_(arguments[n]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(e)+")("+r.join(", ")+");")},goog.html.SafeScript.fromJson=function(e){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(e))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return goog.html.SafeScript.unwrapTrustedScript(e).toString()},goog.html.SafeScript.unwrapTrustedScript=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(e):e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.UrlObject_=function(){},goog.fs.url.UrlObject_.prototype.createObjectURL=function(e){},goog.fs.url.UrlObject_.prototype.revokeObjectURL=function(e){},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return void 0!==goog.global.URL&&void 0!==goog.global.URL.createObjectURL?goog.global.URL:void 0!==goog.global.webkitURL&&void 0!==goog.global.webkitURL.createObjectURL?goog.global.webkitURL:void 0!==goog.global.createObjectURL?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.fs.blob={},goog.fs.blob.getBlob=function(e){var t=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(void 0!==t){t=new t;for(var r=0;r<arguments.length;r++)t.append(arguments[r]);return t.getBlob()}return goog.fs.blob.getBlobWithProperties(goog.array.toArray(arguments))},goog.fs.blob.getBlobWithProperties=function(e,t,r){var n=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(void 0!==n){n=new n;for(var i=0;i<e.length;i++)n.append(e[i],r);return n.getBlob(t)}if(void 0!==goog.global.Blob)return n={},t&&(n.type=t),r&&(n.endings=r),new Blob(e,n);throw Error("This browser doesn't seem to support creating Blobs")},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))||7<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))&&("adlm"==goog.LOCALE.substring(3,7).toLowerCase()||"arab"==goog.LOCALE.substring(3,7).toLowerCase()||"hebr"==goog.LOCALE.substring(3,7).toLowerCase()||"nkoo"==goog.LOCALE.substring(3,7).toLowerCase()||"rohg"==goog.LOCALE.substring(3,7).toLowerCase()||"thaa"==goog.LOCALE.substring(3,7).toLowerCase())||8<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))&&("adlm"==goog.LOCALE.substring(4,8).toLowerCase()||"arab"==goog.LOCALE.substring(4,8).toLowerCase()||"hebr"==goog.LOCALE.substring(4,8).toLowerCase()||"nkoo"==goog.LOCALE.substring(4,8).toLowerCase()||"rohg"==goog.LOCALE.substring(4,8).toLowerCase()||"thaa"==goog.LOCALE.substring(4,8).toLowerCase()),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ऀ-῿‎Ⰰ-\ud801\ud804-\ud839\ud83c-\udbff豈-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-ࣿ‏\ud802-\ud803\ud83a-\ud83bיִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){return t=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){var r=0,n=0,i=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),t=0;t<e.length;t++){var a=e[t];goog.i18n.bidi.startsWithRtl(a)?(r++,n++):goog.i18n.bidi.isRequiredLtrRe_.test(a)?i=!0:goog.i18n.bidi.hasAnyLtr(a)?n++:goog.i18n.bidi.hasNumeralsRe_.test(a)&&(i=!0)}return 0==n?i?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:r/n>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(e,t){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=e===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,t){var r=goog.html.TrustedResourceUrl.unwrap(this),n=(r=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(r))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(r[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",r[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",n,t))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(e,t){var r=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return e=r.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(e,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[n])instanceof goog.string.Const?goog.string.Const.unwrap(e):encodeURIComponent(String(e))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(e,t,r,n){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(r,n)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",r=0;r<e.length;r++)t+=goog.string.Const.unwrap(e[r]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.fromSafeScript=function(e){return e=goog.fs.blob.getBlobWithProperties([goog.html.SafeScript.unwrap(e)],"text/javascript"),e=goog.fs.url.createObjectUrl(e),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){return e=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(e):e,new goog.html.TrustedResourceUrl(goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.html.TrustedResourceUrl.stringifyParams_=function(e,t,r){if(null==r)return t;if("string"==typeof r)return r?e+encodeURIComponent(r):"";for(var n in r){var i=r[n];i=Array.isArray(i)?i:[i];for(var a=0;a<i.length;a++){var o=i[a];null!=o&&(t||(t=e),t+=(t.length>e.length?"&":"")+encodeURIComponent(n)+"="+encodeURIComponent(String(o)))}}return t},goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.internal={},goog.string.internal.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.internal.endsWith=function(e,t){var r=e.length-t.length;return 0<=r&&e.indexOf(t,r)==r},goog.string.internal.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.internal.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,t){return(e=String(e).toLowerCase())<(t=String(t).toLowerCase())?-1:+(e!=t)},goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.internal.contains=function(e,t){return -1!=e.indexOf(t)},goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())},goog.string.internal.compareVersions=function(e,t){var r=0;e=goog.string.internal.trim(String(e)).split("."),t=goog.string.internal.trim(String(t)).split(".");for(var n=Math.max(e.length,t.length),i=0;0==r&&i<n;i++){var a=e[i]||"",o=t[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;r=0==a[1].length?0:parseInt(a[1],10);var s=0==o[1].length?0:parseInt(o[1],10);r=goog.string.internal.compareElements_(r,s)||goog.string.internal.compareElements_(0==a[2].length,0==o[2].length)||goog.string.internal.compareElements_(a[2],o[2]),a=a[3],o=o[3]}while(0==r)}return r},goog.string.internal.compareElements_=function(e,t){return e<t?-1:+(e>t)},goog.html.SafeUrl=function(e,t){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=e===goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)},goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SafeUrl.isSafeMimeType(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromMediaSource=function(e){return goog.asserts.assert("MediaSource"in goog.global,"No support for MediaSource"),e=e instanceof MediaSource?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var t=(e=e.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return t=t&&goog.html.SafeUrl.isSafeMimeType(t[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.indexOf("#");if(0<t&&(e=e.substring(0,t)),!(t=e.match(/[?&]body=/gi)))return!0;if(1<t.length)return!1;if(!(e=e.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(e)}catch(e){return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(e)},goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,t,r){return(e=e.exec(t))?(e=e[1],-1==(r instanceof goog.string.Const?[goog.string.Const.unwrap(r)]:r.map(function(e){return goog.string.Const.unwrap(e)})).indexOf(e)&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)):t=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,t){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),t&&/^data:/i.test(e)&&(t=goog.html.SafeUrl.fromDataUrl(e)).getTypedStringValue()==e?t:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){return new goog.html.SafeUrl(goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.internal.contains(e,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var t,r="";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var n=e[t];null!=n&&(r+=t+":"+(n=Array.isArray(n)?goog.array.map(n,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(n))+";")}return r?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(r):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(String(e)),/[{;}]/.test(e))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[e]);return e},goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var t=e.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(t)?goog.html.SafeStyle.COMMENT_RE_.test(e)?(goog.asserts.fail("String value disallows comments, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(e)?goog.html.SafeStyle.hasBalancedSquareBrackets_(e)?goog.html.SafeStyle.sanitizeUrl_(e):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,r=!0,n=0;n<e.length;n++){var i=e.charAt(n);"'"==i&&r?t=!t:'"'==i&&t&&(r=!r)}return t&&r},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(e){for(var t=!0,r=/^[-_a-zA-Z0-9]$/,n=0;n<e.length;n++){var i=e.charAt(n);if("]"==i){if(t)return!1;t=!0}else if("["==i){if(!t)return!1;t=!1}else if(!t&&!r.test(i))return!1}return t},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9\\[\\]]",goog.html.SafeStyle.VALUE_RE_=RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.ALLOWED_FUNCTIONS_="calc cubic-bezier fit-content hsl hsla linear-gradient matrix minmax repeat rgb rgba (rotate|scale|translate)(X|Y|Z|3d)?".split(" "),goog.html.SafeStyle.FUNCTIONS_RE_=RegExp("\\b("+goog.html.SafeStyle.ALLOWED_FUNCTIONS_.join("|")+")\\([-+*/0-9a-z.%\\[\\], ]+\\)","g"),goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeStyle.URL_RE_,function(e,t,r,n){var i="";return r=r.replace(/^(['"])(.*)\1$/,function(e,t,r){return i=t,r}),e=goog.html.SafeUrl.sanitize(r).getTypedStringValue(),t+i+e+i+n})},goog.html.SafeStyle.concat=function(e){var t="",r=function(e){Array.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyle.unwrap(e)};return goog.array.forEach(arguments,r),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(e,t){if(goog.string.internal.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var r=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(r))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(r))throw Error("() and [] in selector must be balanced, got: "+e);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),e=e+"{"+goog.html.SafeStyle.unwrap(t).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t={"(":")","[":"]"},r=[],n=0;n<e.length;n++){var i=e[n];if(t[i])r.push(t[i]);else if(goog.object.contains(t,i)&&r.pop()!=i)return!1}return 0==r.length},goog.html.SafeStyleSheet.concat=function(e){var t="",r=function(e){Array.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyleSheet.unwrap(e)};return goog.array.forEach(arguments,r),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,r=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,n=[];t=r.exec(e);)n.push([t[1],t[2],t[3]||void 0]);return n},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return r[e=goog.array.find(e,n)]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var r={};goog.array.forEach(t,function(e){r[e[0]]=e[1]});var n=goog.partial(goog.object.containsKey,r);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?e(["Edg"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS","HeadlessChrome"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];t="";var r=/MSIE +([\d\.]+)/.exec(e);if(r&&r[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==r[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=r[1];return t},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.ENABLE_ERROR_MESSAGES=goog.DEBUG,goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE=!0,goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return goog.html.SafeHtml.unwrapTrustedHTML(e).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t="object"==typeof e,r=null;return t&&e.implementsGoogI18nBidiDirectionalString&&(r=e.getDirection()),e=t&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(e),r)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.comment=function(e){return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("\x3c!--"+goog.string.internal.htmlEscape(e)+"--\x3e",null)},goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,t,r){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,r)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Invalid tag name <"+e+">.":"");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Tag name <"+e+"> is not allowed for SafeHtml.":"")},goog.html.SafeHtml.createIframe=function(e,t,r,n){e&&goog.html.TrustedResourceUrl.unwrap(e);var i={};return i.src=e||null,i.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(i,{sandbox:""},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.createSandboxIframe=function(e,t,r,n){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"The browser does not support sandboxed iframes.":"");var i={};return i.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,i.srcdoc=t||null,i.sandbox="",e=goog.html.SafeHtml.combineAttributes(i,{},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,t){return goog.html.TrustedResourceUrl.unwrap(e),e=goog.html.SafeHtml.combineAttributes({src:e},{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e)},goog.html.SafeHtml.createScript=function(e,t){for(var r in t){var n=r.toLowerCase();if("language"==n||"src"==n||"text"==n||"type"==n)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot set "'+n+'" attribute':"")}for(r="",e=goog.array.concat(e),n=0;n<e.length;n++)r+=goog.html.SafeScript.unwrap(e[n]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,e)},goog.html.SafeHtml.createStyle=function(e,t){t=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t);var r="";e=goog.array.concat(e);for(var n=0;n<e.length;n++)r+=goog.html.SafeStyleSheet.unwrap(e[n]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",t,e)},goog.html.SafeHtml.createMetaRefresh=function(e,t){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+e})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,r){if(r instanceof goog.string.Const)r=goog.string.Const.unwrap(r);else if("style"==t.toLowerCase()){if(!goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "style" not supported.':"");r=goog.html.SafeHtml.getStyleValue_(r)}else{if(/^on/i.test(t))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+t+'" requires goog.string.Const value, "'+r+'" given.':"");if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(r instanceof goog.html.TrustedResourceUrl)r=goog.html.TrustedResourceUrl.unwrap(r);else if(r instanceof goog.html.SafeUrl)r=goog.html.SafeUrl.unwrap(r);else{if("string"!=typeof r)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+r+'" given.':"");r=goog.html.SafeUrl.sanitize(r).getTypedStringValue()}}return r.implementsGoogStringTypedString&&(r=r.getTypedStringValue()),goog.asserts.assert("string"==typeof r||"number"==typeof r,"String or number value expected, got "+typeof r+" with value: "+r),t+'="'+goog.string.internal.htmlEscape(String(r))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e:"");return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,r,n){return(t=goog.html.SafeHtml.create(t,r,n)).dir_=e,t},goog.html.SafeHtml.join=function(e,t){var r=(e=goog.html.SafeHtml.htmlEscape(e)).getDirection(),n=[],i=function(e){Array.isArray(e)?goog.array.forEach(e,i):(e=goog.html.SafeHtml.htmlEscape(e),n.push(goog.html.SafeHtml.unwrap(e)),e=e.getDirection(),r==goog.i18n.bidi.Dir.NEUTRAL?r=e:e!=goog.i18n.bidi.Dir.NEUTRAL&&r!=e&&(r=null))};return goog.array.forEach(t,i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n.join(goog.html.SafeHtml.unwrap(e)),r)},goog.html.SafeHtml.concat=function(e){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(e,t){var r=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return r.dir_=e,r},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(e):e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,r){var n=null,i="<"+e+goog.html.SafeHtml.stringifyAttributes(e,t);return null==r?r=[]:Array.isArray(r)||(r=[r]),goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!r.length,"Void tag <"+e+"> does not allow content."),i+=">"):(n=goog.html.SafeHtml.concat(r),i+=">"+goog.html.SafeHtml.unwrap(n)+"</"+e+">",n=n.getDirection()),(e=t&&t.dir)&&(n=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i,n)},goog.html.SafeHtml.stringifyAttributes=function(e,t){var r="";if(t)for(var n in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(n))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Invalid attribute name "'+n+'".':"");var i=t[n];null!=i&&(r+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,n,i))}return r},goog.html.SafeHtml.combineAttributes=function(e,t,r){var n,i={};for(n in e)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),i[n]=e[n];for(n in t)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),i[n]=t[n];if(r)for(n in r){var a=n.toLowerCase();if(a in e)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot override "'+a+'" attribute, got "'+n+'" with value "'+r[n]+'"':"");a in t&&delete i[a],i[n]=r[n]}return i},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,r){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,r||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,r){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrapTrustedHTML(r))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&"undefined"==typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!(goog.DEBUG&&!e.firstChild)&&(t=e.firstChild.firstChild,e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!t.parentElement)}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[r])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,t)},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setFormElementAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setButtonFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setInputFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=goog.html.SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.setAnchorHref=function(e,t){goog.dom.asserts.assertIsHTMLAnchorElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setImageSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLImageElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:image\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setAudioSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLAudioElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:audio\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setVideoSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLVideoElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:video\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setFrameSrc=function(e,t){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,r){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=r,goog.string.internal.caseInsensitiveContains(r,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrap(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(t):goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(t))},goog.dom.safe.setObjectData=function(e,t){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setScriptSrc=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setScriptContent=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrapTrustedScript(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.assignLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.assign(goog.html.SafeUrl.unwrap(t))},goog.dom.safe.replaceLocation=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.replace(goog.html.SafeUrl.unwrap(t))},goog.dom.safe.openInWindow=function(e,t,r,n,i){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t=t||goog.global,r=r instanceof goog.string.Const?goog.string.Const.unwrap(r):r||"",t.open(goog.html.SafeUrl.unwrap(e),r,n,i)},goog.dom.safe.parseFromStringHtml=function(e,t){return goog.dom.safe.parseFromString(e,t,"text/html")},goog.dom.safe.parseFromString=function(e,t,r){return e.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(t),r)},goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var t=goog.global.URL.createObjectURL(e);return(e=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(t)},goog.dom.safe.setImageSrc(e,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),t)),e},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e,t){for(var r=e.split("%s"),n="",i=Array.prototype.slice.call(arguments,1);i.length&&1<r.length;)n+=r.shift()+i.shift();return n+r.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"�">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,t,r){if(e==t)return 0;if(!e)return -1;if(!t)return 1;for(var n=e.toLowerCase().match(r),i=t.toLowerCase().match(r),a=Math.min(n.length,i.length),o=0;o<a;o++){r=n[o];var s=i[o];if(r!=s)return isNaN(e=parseInt(r,10))||isNaN(t=parseInt(s,10))||!(e-t)?r<s?-1:1:e-t}return n.length!=i.length?n.length-i.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(e,t){var i=r[e];return i||("#"==t.charAt(0)&&(isNaN(t=Number("0"+t.substr(1)))||(i=String.fromCharCode(t))),i||(goog.dom.safe.setInnerHtml(n,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),e+" ")),i=n.firstChild.nodeValue.slice(0,-1)),r[e]=i)})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"!=t.charAt(0)||isNaN(t=Number("0"+t.substr(1)))?e:String.fromCharCode(t)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var r=t.length,n=0;n<r;n++){var i=1==r?t:t.charAt(n);if(e.charAt(0)==i&&e.charAt(e.length-1)==i)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,r){return r&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),r&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,r,n){if(r&&(e=goog.string.unescapeEntities(e)),n&&e.length>t){n>t&&(n=t);var i=e.length-n;e=e.substring(0,t-n)+"..."+e.substring(i)}else e.length>t&&(n=Math.floor(t/2),i=e.length-n,e=e.substring(0,n+t%2)+"..."+e.substring(i));return r&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],r=0;r<e.length;r++){var n=e.charAt(r),i=n.charCodeAt(0);t[r+1]=goog.string.specialEscapeChars_[n]||(31<i&&127>i?n:goog.string.escapeChar(n))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=goog.string.escapeChar(e.charAt(r));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var r=e;else 256>t?(r="\\x",(16>t||256<t)&&(r+="0")):(r="\\u",4096>t&&(r+="0")),r+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=r},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,r){var n=e;return 0<=t&&t<e.length&&0<r&&(n=e.substr(0,t)+e.substr(t+r,e.length-t-r)),n},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){return t=RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,"")},goog.string.replaceAll=function(e,t,r){return t=RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,r){return -1==(r=(e=void 0!==r?e.toFixed(r):String(e)).indexOf("."))&&(r=e.length),goog.string.repeat("0",Math.max(0,t-r))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(0x80000000*Math.random()).toString(36)+Math.abs(Math.floor(0x80000000*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r)>>>0;return t},goog.string.uniqueStringCounter_=0x80000000*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){return t="string"==typeof t?goog.string.regExpEscape(t):"\\s",e.replace(RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),function(e,t,r){return t+r.toUpperCase()})},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),"string"==typeof e?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,r){e=e.split(t);for(var n=[];0<r&&e.length;)n.push(e.shift()),r--;return e.length&&n.push(e.join(t)),n},goog.string.lastComponent=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var r=-1,n=0;n<t.length;n++)if(""!=t[n]){var i=e.lastIndexOf(t[n]);i>r&&(r=i)}return -1==r?e:e.slice(r+1)},goog.string.editDistance=function(e,t){var r=[],n=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var i=0;i<t.length+1;i++)r[i]=i;for(i=0;i<e.length;i++){n[0]=i+1;for(var a=0;a<t.length;a++)n[a+1]=Math.min(n[a]+1,r[a+1]+1,r[a]+Number(e[i]!=t[a]));for(a=0;a<r.length;a++)r[a]=n[a]}return n[t.length]},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t,r=goog.labs.userAgent.engine.getEngineTuple_(e);if(r)return"Gecko"==r[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):r[1];if((e=e[0])&&(t=e[2])&&(t=/Trident\/([^\s;]+)/.exec(t)))return t[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var r=e[t];if("Edge"==r[0])return r}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){return(e=goog.array.find(e,function(e){return t==e[0]}))&&e[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?t=(e=(t=/Windows (?:NT|Phone) ([0-9.]+)/).exec(e))?e[1]:"0.0":goog.labs.userAgent.platform.isIos()?t=(e=(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(e))&&e[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?t=(e=(t=/Mac OS X ([0-9_.]+)/).exec(e))?e[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?t=(e=(t=/(?:KaiOS)\/(\S+)/i).exec(e))&&e[1]:goog.labs.userAgent.platform.isAndroid()?t=(e=(t=/Android\s+([^\);]+)(\)|;)/).exec(e))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(t=(e=(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.reflect.cache=function(e,t,r,n){return n=n?n(t):t,Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=r(t)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&null!=(t=goog.userAgent.getDocumentMode_())&&t>parseFloat(e)?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()||parseInt(goog.userAgent.VERSION,10)||void 0}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(e){return goog.string.contains(goog.crypt.base64.paddingChars_,e)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),void 0===t&&(t=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),t=goog.crypt.base64.byteToCharMaps_[t];for(var r=[],n=0;n<e.length;n+=3){var i=e[n],a=n+1<e.length,o=a?e[n+1]:0,s=n+2<e.length,p=s?e[n+2]:0,d=i>>2;i=(3&i)<<4|o>>4,o=(15&o)<<2|p>>6,p&=63,s||(p=64,a||(o=64)),r.push(t[d],t[i],t[o]||"",t[p]||"")}return r.join("")},goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)},goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var r="";return goog.crypt.base64.decodeStringInternal_(e,function(e){r+=String.fromCharCode(e)}),r},goog.crypt.base64.decodeStringToByteArray=function(e,t){var r=[];return goog.crypt.base64.decodeStringInternal_(e,function(e){r.push(e)}),r},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=e.length,r=3*t/4;r%3?r=Math.floor(r):goog.crypt.base64.isPadding_(e[t-1])&&(r=goog.crypt.base64.isPadding_(e[t-2])?r-2:r-1);var n=new Uint8Array(r),i=0;return goog.crypt.base64.decodeStringInternal_(e,function(e){n[i++]=e}),n.subarray(0,i)},goog.crypt.base64.decodeStringInternal_=function(e,t){function r(t){for(;n<e.length;){var r=e.charAt(n++),i=goog.crypt.base64.charToByteMap_[r];if(null!=i)return i;if(!goog.string.isEmptyOrWhitespace(r))throw Error("Unknown base64 encoding at char: "+r)}return t}goog.crypt.base64.init_();for(var n=0;;){var i=r(-1),a=r(0),o=r(64),s=r(64);if(64===s&&-1===i)break;t(i<<2|a>>4),64!=o&&(t(a<<4&240|o>>2),64!=s&&t(o<<6&192|s))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var e=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=e.concat(t[r].split(""));goog.crypt.base64.byteToCharMaps_[r]=n;for(var i=0;i<n.length;i++){var a=n[i],o=goog.crypt.base64.charToByteMap_[a];void 0===o?goog.crypt.base64.charToByteMap_[a]=i:goog.asserts.assert(o===i)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var t=e>>>0;e=Math.floor((e-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var t=0>e,r=(e=Math.abs(e))>>>0;e=Math.floor((e-r)/jspb.BinaryConstants.TWO_TO_32)>>>0,t&&(e=~e>>>0,0xffffffff<(r=1+(~r>>>0))&&(r=0,0xffffffff<++e&&(e=0))),jspb.utils.split64Low=r,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var t=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;t&&(0==e?0==r?r=e=0xffffffff:(r--,e=0xffffffff):e--),jspb.utils.split64Low=e,jspb.utils.split64High=r},jspb.utils.splitFloat32=function(e){var t=+(0>e);if(0===(e=t?-e:e))0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=0x80000000);else if(isNaN(e))jspb.utils.split64High=0,jspb.utils.split64Low=0x7fffffff;else if(e>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|0x7f800000)>>>0;else if(e<jspb.BinaryConstants.FLOAT32_MIN)e=Math.round(e/1401298464324817e-60),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|e)>>>0;else{var r=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-r),0x1000000<=(e=Math.round(e*jspb.BinaryConstants.TWO_TO_23))&&++r,jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|r+127<<23|8388607&e)>>>0}},jspb.utils.splitFloat64=function(e){var t=+(0>e);if(0===(e=t?-e:e))jspb.utils.split64High=0<1/e?0:0x80000000,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=0x7fffffff,jspb.utils.split64Low=0xffffffff;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(t<<31|0x7ff00000)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var r=e/5e-324;e=r/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|e)>>>0,jspb.utils.split64Low=r>>>0}else{var n=0;if(2<=(r=e))for(;2<=r&&1023>n;)n++,r/=2;else for(;1>r&&-1022<n;)r*=2,n--;e=(r=e*Math.pow(2,-n))*jspb.BinaryConstants.TWO_TO_20&1048575,r=r*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|n+1023<<20|e)>>>0,jspb.utils.split64Low=r}},jspb.utils.splitHash64=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),a=e.charCodeAt(4),o=e.charCodeAt(5),s=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=t+(r<<8)+(n<<16)+(i<<24)>>>0,jspb.utils.split64High=a+(o<<8)+(s<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,t){return t*jspb.BinaryConstants.TWO_TO_32+(e>>>0)},jspb.utils.joinInt64=function(e,t){var r=0x80000000&t;return r&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=jspb.utils.joinUint64(e,t),r?-e:e},jspb.utils.toZigzag64=function(e,t,r){var n=t>>31;return r(e<<1^n,(t<<1|e>>>31)^n)},jspb.utils.joinZigzag64=function(e,t){return jspb.utils.fromZigzag64(e,t,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(e,t,r){var n=-(1&e);return r((e>>>1|t<<31)^n,t>>>1^n)},jspb.utils.joinFloat32=function(e,t){t=2*(e>>31)+1;var r=e>>>23&255;return e&=8388607,255==r?e?NaN:1/0*t:0==r?1401298464324817e-60*t*e:t*Math.pow(2,r-150)*(e+8388608)},jspb.utils.joinFloat64=function(e,t){var r=2*(t>>31)+1,n=t>>>20&2047;return e=jspb.BinaryConstants.TWO_TO_32*(1048575&t)+e,2047==n?e?NaN:1/0*r:0==n?5e-324*r*e:r*Math.pow(2,n-1075)*(e+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(e,t){function r(e,t){return e=e?String(e):"",t?"0000000".slice(e.length)+e:e}if(2097151>=t)return""+jspb.utils.joinUint64(e,t);var n=(e>>>24|t<<8)>>>0&0xffffff;return e=(0xffffff&e)+6777216*n+6710656*(t=t>>16&65535),n+=8147497*t,t*=2,1e7<=e&&(n+=Math.floor(e/1e7),e%=1e7),1e7<=n&&(t+=Math.floor(n/1e7),n%=1e7),r(t,0)+r(n,t)+r(e,1)},jspb.utils.joinSignedDecimalString=function(e,t){var r=0x80000000&t;return r&&(t=~t+ +(0==(e=1+~e>>>0))>>>0),e=jspb.utils.joinUnsignedDecimalString(e,t),r?"-"+e:e},jspb.utils.hash64ToDecimalString=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(e,r):jspb.utils.joinUnsignedDecimalString(e,r)},jspb.utils.hash64ArrayToDecimalStrings=function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]=jspb.utils.hash64ToDecimalString(e[n],t);return r},jspb.utils.decimalStringToHash64=function(e){function t(e,t){for(var r=0;8>r&&(1!==e||0<t);r++)t=e*n[r]+t,n[r]=255&t,t>>>=8}jspb.asserts.assert(0<e.length);var r=!1;"-"===e[0]&&(r=!0,e=e.slice(1));for(var n=[0,0,0,0,0,0,0,0],i=0;i<e.length;i++)t(10,e.charCodeAt(i)-jspb.utils.ZERO_CHAR_CODE_);return r&&(function(){for(var e=0;8>e;e++)n[e]=255&~n[e]}(),t(1,1)),goog.crypt.byteArrayToString(n)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.toHexDigit_=function(e){return String.fromCharCode(10>e?jspb.utils.ZERO_CHAR_CODE_+e:jspb.utils.A_CHAR_CODE_-10+e)},jspb.utils.fromHexCharCode_=function(e){return e>=jspb.utils.A_CHAR_CODE_?e-jspb.utils.A_CHAR_CODE_+10:e-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(e){var t=Array(18);t[0]="0",t[1]="x";for(var r=0;8>r;r++){var n=e.charCodeAt(7-r);t[2*r+2]=jspb.utils.toHexDigit_(n>>4),t[2*r+3]=jspb.utils.toHexDigit_(15&n)}return t.join("")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),jspb.asserts.assert(18==e.length),jspb.asserts.assert("0"==e[0]),jspb.asserts.assert("x"==e[1]);for(var t="",r=0;8>r;r++)t=String.fromCharCode(16*jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+2))+jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+3)))+t;return t},jspb.utils.hash64ToNumber=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinInt64(e,r):jspb.utils.joinUint64(e,r)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,t,r){for(var n=0,i=t;i<r;i++)n+=e[i]>>7;return r-t-n},jspb.utils.countVarintFields=function(e,t,r,n){var i=0;if(128>(n=8*n+jspb.BinaryConstants.WireType.VARINT))for(;t<r&&e[t++]==n;)for(i++;;){var a=e[t++];if(0==(128&a))break}else for(;t<r;){for(a=n;128<a;){if(e[t]!=(127&a|128))return i;t++,a>>=7}if(e[t++]!=a)break;for(i++;0!=(128&(a=e[t++])););}return i},jspb.utils.countFixedFields_=function(e,t,r,n,i){var a=0;if(128>n)for(;t<r&&e[t++]==n;)a++,t+=i;else for(;t<r;){for(var o=n;128<o;){if(e[t++]!=(127&o|128))return a;o>>=7}if(e[t++]!=o)break;a++,t+=i}return a},jspb.utils.countFixed32Fields=function(e,t,r,n){return jspb.utils.countFixedFields_(e,t,r,8*n+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,t,r,n){return jspb.utils.countFixedFields_(e,t,r,8*n+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,t,r,n){var i=0;for(n=8*n+jspb.BinaryConstants.WireType.DELIMITED;t<r;){for(var a=n;128<a;){if(e[t++]!=(127&a|128))return i;a>>=7}if(e[t++]!=a)break;i++;for(var o=0,s=1;o+=(127&(a=e[t++]))*s,s*=128,0!=(128&a););t+=o}return i},jspb.utils.debugBytesToTextFormat=function(e){var t='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var r=0;r<e.length;r++)t+="\\x",16>e[r]&&(t+="0"),t+=e[r].toString(16)}return t+'"'},jspb.utils.debugScalarToTextFormat=function(e){return"string"==typeof e?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++){var n=e.charCodeAt(r);if(255<n)throw Error("Conversion error: string contains codepoint outside of byte range");t[r]=n}return t},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):e instanceof Uint8Array?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):(jspb.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(e,t,r){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,t,r)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,t,r){if(jspb.BinaryDecoder.instanceCache_.length){var n=jspb.BinaryDecoder.instanceCache_.pop();return e&&n.setBlock(e,t,r),n}return new jspb.BinaryDecoder(e,t,r)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,t,r){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=void 0!==t?t:0,this.end_=void 0!==r?this.start_+r:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,jspb.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(e){for(var t=128,r=0,n=0,i=0;4>i&&128<=t;i++)r|=(127&(t=this.bytes_[this.cursor_++]))<<7*i;if(128<=t&&(r|=(127&(t=this.bytes_[this.cursor_++]))<<28,n|=(127&t)>>4),128<=t)for(i=0;5>i&&128<=t;i++)n|=(127&(t=this.bytes_[this.cursor_++]))<<7*i+3;if(128>t)return e(r>>>0,n>>>0);jspb.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(e){return this.readSplitVarint64(function(t,r){return jspb.utils.fromZigzag64(t,r,e)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(e){var t=this.bytes_,r=this.cursor_;this.cursor_+=8;for(var n=0,i=0,a=r+7;a>=r;a--)n=n<<8|t[a],i=i<<8|t[a+4];return e(n,i)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,t=e[this.cursor_+0],r=127&t;return 128>t?(this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+1]))<<7,128>t?(this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+2]))<<14,128>t?(this.cursor_+=3,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+3]))<<21,128>t?(this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(15&(t=e[this.cursor_+4]))<<28,128>t?(this.cursor_+=5,jspb.asserts.assert(this.cursor_<=this.end_),r>>>0):(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&jspb.asserts.assert(!1),jspb.asserts.assert(this.cursor_<=this.end_),r)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=function(){return~~this.readUnsignedVarint32()},jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),0|e|t<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),(0|e|t<<8|r<<16|n<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(e,t)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),(0|e|t<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),0|e|t<<8|r<<16|n<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(e,t)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(e,t)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var t=this.bytes_,r=this.cursor_;e=r+e;for(var n=[],i="";r<e;){var a=t[r++];if(128>a)n.push(a);else{if(192>a)continue;if(224>a){var o=t[r++];n.push((31&a)<<6|63&o)}else if(240>a){o=t[r++];var s=t[r++];n.push((15&a)<<12|(63&o)<<6|63&s)}else 248>a&&(a=((7&a)<<18|(63&(o=t[r++]))<<12|(63&(s=t[r++]))<<6|63&t[r++])-65536,n.push(55296+(a>>10&1023),56320+(1023&a)))}8192<=n.length&&(i+=String.fromCharCode.apply(null,n),n.length=0)}return i+=goog.crypt.byteArrayToString(n),this.cursor_=r,i},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,jspb.asserts.fail("Invalid byte length!"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,jspb.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,t=this.cursor_,r=e[t+0],n=e[t+1],i=e[t+2],a=e[t+3],o=e[t+4],s=e[t+5],p=e[t+6];return e=e[t+7],this.cursor_+=8,String.fromCharCode(r,n,i,a,o,s,p,e)},jspb.BinaryReader=function(e,t,r){this.decoder_=jspb.BinaryDecoder.alloc(e,t,r),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,t,r){if(jspb.BinaryReader.instanceCache_.length){var n=jspb.BinaryReader.instanceCache_.pop();return e&&n.decoder_.setBlock(e,t,r),n}return new jspb.BinaryReader(e,t,r)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},goog.exportProperty(jspb.BinaryReader.prototype,"getFieldNumber",jspb.BinaryReader.prototype.getFieldNumber),jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},goog.exportProperty(jspb.BinaryReader.prototype,"isDelimited",jspb.BinaryReader.prototype.isDelimited),jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},goog.exportProperty(jspb.BinaryReader.prototype,"isEndGroup",jspb.BinaryReader.prototype.isEndGroup),jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,t,r){this.decoder_.setBlock(e,t,r),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return jspb.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),t=e>>>3;return(e&=7)!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(jspb.asserts.fail("Invalid wire type: %s (at position %s)",e,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=e,!0)},goog.exportProperty(jspb.BinaryReader.prototype,"nextField",jspb.BinaryReader.prototype.nextField),jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(jspb.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)jspb.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(jspb.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(jspb.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var e=this.nextField_;;){if(!this.nextField()){jspb.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(jspb.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:jspb.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,t){null===this.readCallbacks_&&(this.readCallbacks_={}),jspb.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=t},jspb.BinaryReader.prototype.runReadCallback=function(e){return jspb.asserts.assert(null!==this.readCallbacks_),e=this.readCallbacks_[e],jspb.asserts.assert(e),e(this)},jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var t=jspb.BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:jspb.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:jspb.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:jspb.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,t){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.getEnd(),n=this.decoder_.readUnsignedVarint32();n=this.decoder_.getCursor()+n,this.decoder_.setEnd(n),t(e,this),this.decoder_.setCursor(n),this.decoder_.setEnd(r)},goog.exportProperty(jspb.BinaryReader.prototype,"readMessage",jspb.BinaryReader.prototype.readMessage),jspb.BinaryReader.prototype.readGroup=function(e,t,r){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),jspb.asserts.assert(this.nextField_==e),r(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(jspb.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},goog.exportProperty(jspb.BinaryReader.prototype,"readGroup",jspb.BinaryReader.prototype.readGroup),jspb.BinaryReader.prototype.getFieldDecoder=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),r=t+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,e),this.decoder_.setCursor(r),e},jspb.BinaryReader.prototype.readInt32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt32",jspb.BinaryReader.prototype.readInt32),jspb.BinaryReader.prototype.readInt32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt64",jspb.BinaryReader.prototype.readInt64),jspb.BinaryReader.prototype.readInt64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint32",jspb.BinaryReader.prototype.readUint32),jspb.BinaryReader.prototype.readUint32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint64",jspb.BinaryReader.prototype.readUint64),jspb.BinaryReader.prototype.readUint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint32",jspb.BinaryReader.prototype.readSint32),jspb.BinaryReader.prototype.readSint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint64",jspb.BinaryReader.prototype.readSint64),jspb.BinaryReader.prototype.readSint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed32",jspb.BinaryReader.prototype.readFixed32),jspb.BinaryReader.prototype.readFixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed64",jspb.BinaryReader.prototype.readFixed64),jspb.BinaryReader.prototype.readFixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed32",jspb.BinaryReader.prototype.readSfixed32),jspb.BinaryReader.prototype.readSfixed32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed64",jspb.BinaryReader.prototype.readSfixed64),jspb.BinaryReader.prototype.readSfixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},goog.exportProperty(jspb.BinaryReader.prototype,"readFloat",jspb.BinaryReader.prototype.readFloat),jspb.BinaryReader.prototype.readDouble=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},goog.exportProperty(jspb.BinaryReader.prototype,"readDouble",jspb.BinaryReader.prototype.readDouble),jspb.BinaryReader.prototype.readBool=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readBool",jspb.BinaryReader.prototype.readBool),jspb.BinaryReader.prototype.readEnum=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readEnum",jspb.BinaryReader.prototype.readEnum),jspb.BinaryReader.prototype.readString=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},goog.exportProperty(jspb.BinaryReader.prototype,"readString",jspb.BinaryReader.prototype.readString),jspb.BinaryReader.prototype.readBytes=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},goog.exportProperty(jspb.BinaryReader.prototype,"readBytes",jspb.BinaryReader.prototype.readBytes),jspb.BinaryReader.prototype.readVarintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(e){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(e)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(e){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(t,r){return jspb.utils.fromZigzag64(t,r,e)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(e){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(e)},jspb.BinaryReader.prototype.readPackedField_=function(e){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();t=this.decoder_.getCursor()+t;for(var r=[];this.decoder_.getCursor()<t;)r.push(e.call(this.decoder_));return r},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt32",jspb.BinaryReader.prototype.readPackedInt32),jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt64",jspb.BinaryReader.prototype.readPackedInt64),jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint32",jspb.BinaryReader.prototype.readPackedUint32),jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint64",jspb.BinaryReader.prototype.readPackedUint64),jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint32",jspb.BinaryReader.prototype.readPackedSint32),jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint64",jspb.BinaryReader.prototype.readPackedSint64),jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed32",jspb.BinaryReader.prototype.readPackedFixed32),jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed64",jspb.BinaryReader.prototype.readPackedFixed64),jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed32",jspb.BinaryReader.prototype.readPackedSfixed32),jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed64",jspb.BinaryReader.prototype.readPackedSfixed64),jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFloat",jspb.BinaryReader.prototype.readPackedFloat),jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedDouble",jspb.BinaryReader.prototype.readPackedDouble),jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedBool",jspb.BinaryReader.prototype.readPackedBool),jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedEnum",jspb.BinaryReader.prototype.readPackedEnum),jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<e;)this.buffer_.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(e){var t=this;jspb.utils.splitHash64(e),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(e,r){t.writeSplitVarint64(e>>>0,r>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){jspb.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){jspb.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){jspb.asserts.assert("boolean"==typeof e||"number"==typeof e),this.buffer_.push(+!!e)},jspb.BinaryEncoder.prototype.writeEnum=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){var t=this.buffer_.length;jspb.asserts.assertString(e);for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);if(128>n)this.buffer_.push(n);else if(2048>n)this.buffer_.push(n>>6|192),this.buffer_.push(63&n|128);else if(65536>n)if(55296<=n&&56319>=n&&r+1<e.length){var i=e.charCodeAt(r+1);56320<=i&&57343>=i&&(n=1024*(n-55296)+i-56320+65536,this.buffer_.push(n>>18|240),this.buffer_.push(n>>12&63|128),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128),r++)}else this.buffer_.push(n>>12|224),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128)}return this.buffer_.length-t},jspb.arith={},jspb.arith.UInt64=function(e,t){this.lo=e,this.hi=t},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:+(this.hi!=e.hi||this.lo!=e.lo)},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(0x80000000&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo|0)>>>0>>>0,((this.hi+e.hi|0)>>>0)+ +(0x100000000<=this.lo+e.lo)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo|0)>>>0>>>0,((this.hi-e.hi|0)>>>0)-(0>this.lo-e.lo)>>>0)},jspb.arith.UInt64.mul32x32=function(e,t){var r=65535&e,n=65535&t,i=t>>>16;for(t=r*n+65536*(r*i&65535)+65536*((e>>>=16)*n&65535),r=e*i+(r*i>>>16)+(e*n>>>16);0x100000000<=t;)t-=0x100000000,r+=1;return new jspb.arith.UInt64(t>>>0,r>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var t=jspb.arith.UInt64.mul32x32(this.lo,e);return(e=jspb.arith.UInt64.mul32x32(this.hi,e)).hi=e.lo,e.lo=0,t.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(0==e)return[];var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var n=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),n=n.leftShift();for(;!n.zero();)0>=e.cmp(r)&&(t=t.add(n),r=r.sub(e)),e=e.rightShift(),n=n.rightShift();return[t,r]},jspb.arith.UInt64.prototype.toString=function(){for(var e="",t=this;!t.zero();){var r=(t=t.div(10))[0];e=t[1].lo+e,t=r}return""==e&&(e="0"),e},jspb.arith.UInt64.fromString=function(e){for(var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(0,0),n=0;n<e.length;n++){if("0">e[n]||"9"<e[n])return null;r.lo=parseInt(e[n],10),t=t.mul(10).add(r)}return t},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,t){this.lo=e,this.hi=t},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo|0)>>>0>>>0,((this.hi+e.hi|0)>>>0)+ +(0x100000000<=this.lo+e.lo)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo|0)>>>0>>>0,((this.hi-e.hi|0)>>>0)-(0>this.lo-e.lo)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=0!=(0x80000000&this.hi),t=new jspb.arith.UInt64(this.lo,this.hi);return e&&(t=new jspb.arith.UInt64(0,0).sub(t)),(e?"-":"")+t.toString()},jspb.arith.Int64.fromString=function(e){var t=0<e.length&&"-"==e[0];return t&&(e=e.substring(1)),null===(e=jspb.arith.UInt64.fromString(e))?null:(t&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var t=e.pop();for(t=this.totalLength_+this.encoder_.length()-t,jspb.asserts.assert(0<=t);127<t;)e.push(127&t|128),t>>>=7,this.totalLength_++;e.push(t),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,t,r){this.appendUint8Array_(e.subarray(t,r))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,r){null!=e&&null!=t&&null!=r&&this.writeSerializedMessage(e,t,r)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){jspb.asserts.assert(0==this.bookmarks_.length);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,r=t.length,n=0,i=0;i<r;i++){var a=t[i];e.set(a,n),n+=a.length}return t=this.encoder_.end(),e.set(t,n),n+=t.length,jspb.asserts.assert(n==e.length),this.blocks_=[e],e},goog.exportProperty(jspb.BinaryWriter.prototype,"getResultBuffer",jspb.BinaryWriter.prototype.getResultBuffer),jspb.BinaryWriter.prototype.getResultBase64String=function(e){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),e)},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){jspb.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,t){jspb.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+t)},jspb.BinaryWriter.prototype.writeAny=function(e,t,r){var n=jspb.BinaryConstants.FieldType;switch(e){case n.DOUBLE:this.writeDouble(t,r);break;case n.FLOAT:this.writeFloat(t,r);break;case n.INT64:this.writeInt64(t,r);break;case n.UINT64:this.writeUint64(t,r);break;case n.INT32:this.writeInt32(t,r);break;case n.FIXED64:this.writeFixed64(t,r);break;case n.FIXED32:this.writeFixed32(t,r);break;case n.BOOL:this.writeBool(t,r);break;case n.STRING:this.writeString(t,r);break;case n.GROUP:jspb.asserts.fail("Group field type not supported in writeAny()");break;case n.MESSAGE:jspb.asserts.fail("Message field type not supported in writeAny()");break;case n.BYTES:this.writeBytes(t,r);break;case n.UINT32:this.writeUint32(t,r);break;case n.ENUM:this.writeEnum(t,r);break;case n.SFIXED32:this.writeSfixed32(t,r);break;case n.SFIXED64:this.writeSfixed64(t,r);break;case n.SINT32:this.writeSint32(t,r);break;case n.SINT64:this.writeSint64(t,r);break;case n.FHASH64:this.writeFixedHash64(t,r);break;case n.VHASH64:this.writeVarintHash64(t,r);break;default:jspb.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(t))},jspb.BinaryWriter.prototype.writeInt32=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt32",jspb.BinaryWriter.prototype.writeInt32),jspb.BinaryWriter.prototype.writeInt32String=function(e,t){null!=t&&(t=parseInt(t,10),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt64=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt64",jspb.BinaryWriter.prototype.writeInt64),jspb.BinaryWriter.prototype.writeInt64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeUint32=function(e,t){null!=t&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint32",jspb.BinaryWriter.prototype.writeUint32),jspb.BinaryWriter.prototype.writeUint32String=function(e,t){null!=t&&(t=parseInt(t,10),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint64=function(e,t){null!=t&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint64",jspb.BinaryWriter.prototype.writeUint64),jspb.BinaryWriter.prototype.writeUint64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSint32=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint32",jspb.BinaryWriter.prototype.writeSint32),jspb.BinaryWriter.prototype.writeSint64=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint64",jspb.BinaryWriter.prototype.writeSint64),jspb.BinaryWriter.prototype.writeSintHash64=function(e,t){null!=t&&this.writeZigzagVarintHash64_(e,t)},jspb.BinaryWriter.prototype.writeSint64String=function(e,t){null!=t&&this.writeZigzagVarint64String_(e,t)},jspb.BinaryWriter.prototype.writeFixed32=function(e,t){null!=t&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed32",jspb.BinaryWriter.prototype.writeFixed32),jspb.BinaryWriter.prototype.writeFixed64=function(e,t){null!=t&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed64",jspb.BinaryWriter.prototype.writeFixed64),jspb.BinaryWriter.prototype.writeFixed64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed32",jspb.BinaryWriter.prototype.writeSfixed32),jspb.BinaryWriter.prototype.writeSfixed64=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed64",jspb.BinaryWriter.prototype.writeSfixed64),jspb.BinaryWriter.prototype.writeSfixed64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeFloat=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFloat",jspb.BinaryWriter.prototype.writeFloat),jspb.BinaryWriter.prototype.writeDouble=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeDouble",jspb.BinaryWriter.prototype.writeDouble),jspb.BinaryWriter.prototype.writeBool=function(e,t){null!=t&&(jspb.asserts.assert("boolean"==typeof t||"number"==typeof t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBool",jspb.BinaryWriter.prototype.writeBool),jspb.BinaryWriter.prototype.writeEnum=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeEnum",jspb.BinaryWriter.prototype.writeEnum),jspb.BinaryWriter.prototype.writeString=function(e,t){null!=t&&(e=this.beginDelimited_(e),this.encoder_.writeString(t),this.endDelimited_(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeString",jspb.BinaryWriter.prototype.writeString),jspb.BinaryWriter.prototype.writeBytes=function(e,t){null!=t&&(t=jspb.utils.byteSourceToUint8Array(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),this.appendUint8Array_(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBytes",jspb.BinaryWriter.prototype.writeBytes),jspb.BinaryWriter.prototype.writeMessage=function(e,t,r){null!=t&&(e=this.beginDelimited_(e),r(t,this),this.endDelimited_(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeMessage",jspb.BinaryWriter.prototype.writeMessage),jspb.BinaryWriter.prototype.writeMessageSet=function(e,t,r){null!=t&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),r(t,this),this.endDelimited_(e),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(e,t,r){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeGroup",jspb.BinaryWriter.prototype.writeGroup),jspb.BinaryWriter.prototype.writeFixedHash64=function(e,t){null!=t&&(jspb.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))},jspb.BinaryWriter.prototype.writeVarintHash64=function(e,t){null!=t&&(jspb.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t,r)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t,r)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT);var n=this.encoder_;jspb.utils.toZigzag64(t,r,function(e,t){n.writeSplitVarint64(e>>>0,t>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint32_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt32",jspb.BinaryWriter.prototype.writeRepeatedInt32),jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint64_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt64",jspb.BinaryWriter.prototype.writeRepeatedInt64),jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.writeSplitFixed64(e,r(t[i]),n(t[i]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.writeSplitVarint64(e,r(t[i]),n(t[i]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.writeSplitZigzagVarint64(e,r(t[i]),n(t[i]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint32_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint32",jspb.BinaryWriter.prototype.writeRepeatedUint32),jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint64_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint64",jspb.BinaryWriter.prototype.writeRepeatedUint64),jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint32_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint32",jspb.BinaryWriter.prototype.writeRepeatedSint32),jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint64",jspb.BinaryWriter.prototype.writeRepeatedSint64),jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64String_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarintHash64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed32(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed32",jspb.BinaryWriter.prototype.writeRepeatedFixed32),jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64",jspb.BinaryWriter.prototype.writeRepeatedFixed64),jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64String(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64String",jspb.BinaryWriter.prototype.writeRepeatedFixed64String),jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed32(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed32",jspb.BinaryWriter.prototype.writeRepeatedSfixed32),jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed64",jspb.BinaryWriter.prototype.writeRepeatedSfixed64),jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFloat(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFloat",jspb.BinaryWriter.prototype.writeRepeatedFloat),jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeDouble(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedDouble",jspb.BinaryWriter.prototype.writeRepeatedDouble),jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBool(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBool",jspb.BinaryWriter.prototype.writeRepeatedBool),jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeEnum(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedEnum",jspb.BinaryWriter.prototype.writeRepeatedEnum),jspb.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeString(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedString",jspb.BinaryWriter.prototype.writeRepeatedString),jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBytes(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBytes",jspb.BinaryWriter.prototype.writeRepeatedBytes),jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++){var i=this.beginDelimited_(e);r(t[n],this),this.endDelimited_(i)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedMessage",jspb.BinaryWriter.prototype.writeRepeatedMessage),jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t[n],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedGroup",jspb.BinaryWriter.prototype.writeRepeatedGroup),jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixedHash64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeVarintHash64(e,t[r])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt32",jspb.BinaryWriter.prototype.writePackedInt32),jspb.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint64(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt64",jspb.BinaryWriter.prototype.writePackedInt64),jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var i=0;i<t.length;i++)this.encoder_.writeSplitFixed64(r(t[i]),n(t[i]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var i=0;i<t.length;i++)this.encoder_.writeSplitVarint64(r(t[i]),n(t[i]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var i=this.encoder_,a=0;a<t.length;a++)jspb.utils.toZigzag64(r(t[a]),n(t[a]),function(e,t){i.writeSplitVarint64(e>>>0,t>>>0)});this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var n=jspb.arith.Int64.fromString(t[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint32",jspb.BinaryWriter.prototype.writePackedUint32),jspb.BinaryWriter.prototype.writePackedUint32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint64(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint64",jspb.BinaryWriter.prototype.writePackedUint64),jspb.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var n=jspb.arith.UInt64.fromString(t[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint32(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint32",jspb.BinaryWriter.prototype.writePackedSint32),jspb.BinaryWriter.prototype.writePackedSint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint64(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint64",jspb.BinaryWriter.prototype.writePackedSint64),jspb.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t[r]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeUint32(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed32",jspb.BinaryWriter.prototype.writePackedFixed32),jspb.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeUint64(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed64",jspb.BinaryWriter.prototype.writePackedFixed64),jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++){var r=jspb.arith.UInt64.fromString(t[e]);this.encoder_.writeSplitFixed64(r.lo,r.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeInt32(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed32",jspb.BinaryWriter.prototype.writePackedSfixed32),jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed64",jspb.BinaryWriter.prototype.writePackedSfixed64),jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64String(t[e])},jspb.BinaryWriter.prototype.writePackedFloat=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeFloat(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFloat",jspb.BinaryWriter.prototype.writePackedFloat),jspb.BinaryWriter.prototype.writePackedDouble=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeDouble(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedDouble",jspb.BinaryWriter.prototype.writePackedDouble),jspb.BinaryWriter.prototype.writePackedBool=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),e=0;e<t.length;e++)this.encoder_.writeBool(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedBool",jspb.BinaryWriter.prototype.writePackedBool),jspb.BinaryWriter.prototype.writePackedEnum=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeEnum(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedEnum",jspb.BinaryWriter.prototype.writePackedEnum),jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeFixedHash64(t[e])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeVarintHash64(t[r]);this.endDelimited_(e)}},jspb.Map=function(e,t){this.arr_=e,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},goog.exportSymbol("jspb.Map",jspb.Map),jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],r=t[0];this.map_[r.toString()]=new jspb.Map.Entry_(r,t[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,t=this.map_;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e].valueWrapper;r&&r.toArray()}}}else{for(this.arr_.length=0,(t=this.stringKeys_()).sort(),e=0;e<t.length;e++){var n=this.map_[t[e]];(r=n.valueWrapper)&&r.toArray(),this.arr_.push([n.key,n.value])}this.arrClean=!0}return this.arr_},goog.exportProperty(jspb.Map.prototype,"toArray",jspb.Map.prototype.toArray),jspb.Map.prototype.toObject=function(e,t){for(var r=this.toArray(),n=[],i=0;i<r.length;i++){var a=this.map_[r[i][0].toString()];this.wrapEntry_(a);var o=a.valueWrapper;o?(jspb.asserts.assert(t),n.push([a.key,t(e,o)])):n.push([a.key,a.value])}return n},goog.exportProperty(jspb.Map.prototype,"toObject",jspb.Map.prototype.toObject),jspb.Map.fromObject=function(e,t,r){t=new jspb.Map([],t);for(var n=0;n<e.length;n++){var i=e[n][0],a=r(e[n][1]);t.set(i,a)}return t},goog.exportProperty(jspb.Map,"fromObject",jspb.Map.fromObject),jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},goog.exportProperty(jspb.Map.prototype,"getLength",jspb.Map.prototype.getLength),jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},goog.exportProperty(jspb.Map.prototype,"clear",jspb.Map.prototype.clear),jspb.Map.prototype.del=function(e){e=e.toString();var t=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,t},goog.exportProperty(jspb.Map.prototype,"del",jspb.Map.prototype.del),jspb.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var n=this.map_[t[r]];e.push([n.key,n.value])}return e},goog.exportProperty(jspb.Map.prototype,"getEntryList",jspb.Map.prototype.getEntryList),jspb.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var n=this.map_[t[r]];e.push([n.key,this.wrapEntry_(n)])}return new jspb.Map.ArrayIteratorIterable_(e)},goog.exportProperty(jspb.Map.prototype,"entries",jspb.Map.prototype.entries),jspb.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.map_[t[r]].key);return new jspb.Map.ArrayIteratorIterable_(e)},goog.exportProperty(jspb.Map.prototype,"keys",jspb.Map.prototype.keys),jspb.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.wrapEntry_(this.map_[t[r]]));return new jspb.Map.ArrayIteratorIterable_(e)},goog.exportProperty(jspb.Map.prototype,"values",jspb.Map.prototype.values),jspb.Map.prototype.forEach=function(e,t){var r=this.stringKeys_();r.sort();for(var n=0;n<r.length;n++){var i=this.map_[r[n]];e.call(t,this.wrapEntry_(i),i.key,this)}},goog.exportProperty(jspb.Map.prototype,"forEach",jspb.Map.prototype.forEach),jspb.Map.prototype.set=function(e,t){var r=new jspb.Map.Entry_(e);return this.valueCtor_?(r.valueWrapper=t,r.value=t.toArray()):r.value=t,this.map_[e.toString()]=r,this.arrClean=!1,this},goog.exportProperty(jspb.Map.prototype,"set",jspb.Map.prototype.set),jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},goog.exportProperty(jspb.Map.prototype,"get",jspb.Map.prototype.get),jspb.Map.prototype.has=function(e){return e.toString()in this.map_},goog.exportProperty(jspb.Map.prototype,"has",jspb.Map.prototype.has),jspb.Map.prototype.serializeBinary=function(e,t,r,n,i){var a=this.stringKeys_();a.sort();for(var o=0;o<a.length;o++){var s=this.map_[a[o]];t.beginSubMessage(e),r.call(t,1,s.key),this.valueCtor_?n.call(t,2,this.wrapEntry_(s),i):n.call(t,2,s.value),t.endSubMessage()}},goog.exportProperty(jspb.Map.prototype,"serializeBinary",jspb.Map.prototype.serializeBinary),jspb.Map.deserializeBinary=function(e,t,r,n,i,a,o){for(;t.nextField()&&!t.isEndGroup();){var s=t.getFieldNumber();1==s?a=r.call(t):2==s&&(e.valueCtor_?(jspb.asserts.assert(i),o||(o=new e.valueCtor_),n.call(t,o,i)):o=n.call(t))}jspb.asserts.assert(null!=a),jspb.asserts.assert(null!=o),e.set(a,o)},goog.exportProperty(jspb.Map,"deserializeBinary",jspb.Map.deserializeBinary),jspb.Map.prototype.stringKeys_=function(){var e,t=this.map_,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r},jspb.Map.Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(e,t,r,n,i){this.fieldIndex=e,this.fieldName=t,this.ctor=r,this.toObjectFn=n,this.isRepeated=i},goog.exportSymbol("jspb.ExtensionFieldInfo",jspb.ExtensionFieldInfo),jspb.ExtensionFieldBinaryInfo=function(e,t,r,n,i,a){this.fieldInfo=e,this.binaryReaderFn=t,this.binaryWriterFn=r,this.binaryMessageSerializeFn=n,this.binaryMessageDeserializeFn=i,this.isPacked=a},goog.exportSymbol("jspb.ExtensionFieldBinaryInfo",jspb.ExtensionFieldBinaryInfo),jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},goog.exportProperty(jspb.ExtensionFieldInfo.prototype,"isMessageType",jspb.ExtensionFieldInfo.prototype.isMessageType),jspb.Message=function(){},goog.exportSymbol("jspb.Message",jspb.Message),jspb.Message.GENERATE_TO_OBJECT=!0,goog.exportProperty(jspb.Message,"GENERATE_TO_OBJECT",jspb.Message.GENERATE_TO_OBJECT),jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,goog.exportProperty(jspb.Message,"GENERATE_FROM_OBJECT",jspb.Message.GENERATE_FROM_OBJECT),jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},goog.exportProperty(jspb.Message.prototype,"getJsPbMessageId",jspb.Message.prototype.getJsPbMessageId),jspb.Message.getIndex_=function(e,t){return t+e.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(e,t){return t-e.arrayIndexOffset_},jspb.Message.initialize=function(e,t,r,n,i,a){if(e.wrappers_=null,t||(t=r?[r]:[]),e.messageId_=r?String(r):void 0,e.arrayIndexOffset_=0===r?-1:0,e.array=t,jspb.Message.initPivotAndExtensionObject_(e,n),e.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(e.repeatedFields=i),i)for(t=0;t<i.length;t++)(r=i[t])<e.pivot_?(r=jspb.Message.getIndex_(e,r),e.array[r]=e.array[r]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[r]=e.extensionObject_[r]||jspb.Message.EMPTY_LIST_SENTINEL_);if(a&&a.length)for(t=0;t<a.length;t++)jspb.Message.computeOneofCase(e,a[t])},goog.exportProperty(jspb.Message,"initialize",jspb.Message.initialize),jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:Array.isArray(e)},jspb.Message.isExtensionObject_=function(e){return!(null===e||"object"!=typeof e||jspb.Message.isArray_(e)||jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(e,t){var r=e.array.length,n=-1;if(r&&(n=r-1,r=e.array[n],jspb.Message.isExtensionObject_(r)))return e.pivot_=jspb.Message.getFieldNumber_(e,n),void(e.extensionObject_=r);-1<t?(e.pivot_=Math.max(t,jspb.Message.getFieldNumber_(e,n+1)),e.extensionObject_=null):e.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var t=jspb.Message.getIndex_(e,e.pivot_);e.array[t]||(e.extensionObject_=e.array[t]={})},jspb.Message.toObjectList=function(e,t,r){for(var n=[],i=0;i<e.length;i++)n[i]=t.call(e[i],r,e[i]);return n},goog.exportProperty(jspb.Message,"toObjectList",jspb.Message.toObjectList),jspb.Message.toObjectExtension=function(e,t,r,n,i){for(var a in r){var o=r[a],s=n.call(e,o);if(null!=s){for(var p in o.fieldName)if(o.fieldName.hasOwnProperty(p))break;t[p]=o.toObjectFn?o.isRepeated?jspb.Message.toObjectList(s,o.toObjectFn,i):o.toObjectFn(i,s):s}}},goog.exportProperty(jspb.Message,"toObjectExtension",jspb.Message.toObjectExtension),jspb.Message.serializeBinaryExtensions=function(e,t,r,n){for(var i in r){var a=r[i],o=a.fieldInfo;if(!a.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var s=n.call(e,o);if(null!=s)if(o.isMessageType()){if(!a.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");a.binaryWriterFn.call(t,o.fieldIndex,s,a.binaryMessageSerializeFn)}else a.binaryWriterFn.call(t,o.fieldIndex,s)}},goog.exportProperty(jspb.Message,"serializeBinaryExtensions",jspb.Message.serializeBinaryExtensions),jspb.Message.readBinaryExtension=function(e,t,r,n,i){var a=r[t.getFieldNumber()];if(a){if(r=a.fieldInfo,!a.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(r.isMessageType()){var o=new r.ctor;a.binaryReaderFn.call(t,o,a.binaryMessageDeserializeFn)}else o=a.binaryReaderFn.call(t);r.isRepeated&&!a.isPacked?(t=n.call(e,r))?t.push(o):i.call(e,r,[o]):i.call(e,r,o)}else t.skipField()},goog.exportProperty(jspb.Message,"readBinaryExtension",jspb.Message.readBinaryExtension),jspb.Message.getField=function(e,t){if(t<e.pivot_){t=jspb.Message.getIndex_(e,t);var r=e.array[t];return r===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[t]=[]:r}if(e.extensionObject_)return(r=e.extensionObject_[t])===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:r},goog.exportProperty(jspb.Message,"getField",jspb.Message.getField),jspb.Message.getRepeatedField=function(e,t){return jspb.Message.getField(e,t)},goog.exportProperty(jspb.Message,"getRepeatedField",jspb.Message.getRepeatedField),jspb.Message.getOptionalFloatingPointField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:+e},goog.exportProperty(jspb.Message,"getOptionalFloatingPointField",jspb.Message.getOptionalFloatingPointField),jspb.Message.getBooleanField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:!!e},goog.exportProperty(jspb.Message,"getBooleanField",jspb.Message.getBooleanField),jspb.Message.getRepeatedFloatingPointField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var n=0;n<r.length;n++)r[n]=+r[n];e.convertedPrimitiveFields_[t]=!0}return r},goog.exportProperty(jspb.Message,"getRepeatedFloatingPointField",jspb.Message.getRepeatedFloatingPointField),jspb.Message.getRepeatedBooleanField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var n=0;n<r.length;n++)r[n]=!!r[n];e.convertedPrimitiveFields_[t]=!0}return r},goog.exportProperty(jspb.Message,"getRepeatedBooleanField",jspb.Message.getRepeatedBooleanField),jspb.Message.bytesAsB64=function(e){return null==e||"string"==typeof e?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(jspb.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)},goog.exportProperty(jspb.Message,"bytesAsB64",jspb.Message.bytesAsB64),jspb.Message.bytesAsU8=function(e){return null==e||e instanceof Uint8Array?e:"string"==typeof e?goog.crypt.base64.decodeStringToUint8Array(e):(jspb.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)},goog.exportProperty(jspb.Message,"bytesAsU8",jspb.Message.bytesAsU8),jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),e.length&&"string"!=typeof e[0]?goog.array.map(e,jspb.Message.bytesAsB64):e},goog.exportProperty(jspb.Message,"bytesListAsB64",jspb.Message.bytesListAsB64),jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},goog.exportProperty(jspb.Message,"bytesListAsU8",jspb.Message.bytesListAsU8),jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);goog.array.forEach(e,function(e){goog.typeOf(e)!=t&&jspb.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(e)+" expected "+t)})}},jspb.Message.getFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getField(e,t))?r:e},goog.exportProperty(jspb.Message,"getFieldWithDefault",jspb.Message.getFieldWithDefault),jspb.Message.getBooleanFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getBooleanField(e,t))?r:e},goog.exportProperty(jspb.Message,"getBooleanFieldWithDefault",jspb.Message.getBooleanFieldWithDefault),jspb.Message.getFloatingPointFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getOptionalFloatingPointField(e,t))?r:e},goog.exportProperty(jspb.Message,"getFloatingPointFieldWithDefault",jspb.Message.getFloatingPointFieldWithDefault),jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,goog.exportProperty(jspb.Message,"getFieldProto3",jspb.Message.getFieldProto3),jspb.Message.getMapField=function(e,t,r,n){if(e.wrappers_||(e.wrappers_={}),t in e.wrappers_)return e.wrappers_[t];var i=jspb.Message.getField(e,t);if(!i){if(r)return;i=[],jspb.Message.setField(e,t,i)}return e.wrappers_[t]=new jspb.Map(i,n)},goog.exportProperty(jspb.Message,"getMapField",jspb.Message.getMapField),jspb.Message.setField=function(e,t,r){return jspb.asserts.assertInstanceof(e,jspb.Message),t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=r:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[t]=r),e},goog.exportProperty(jspb.Message,"setField",jspb.Message.setField),jspb.Message.setProto3IntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},goog.exportProperty(jspb.Message,"setProto3IntField",jspb.Message.setProto3IntField),jspb.Message.setProto3FloatField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},goog.exportProperty(jspb.Message,"setProto3FloatField",jspb.Message.setProto3FloatField),jspb.Message.setProto3BooleanField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,!1)},goog.exportProperty(jspb.Message,"setProto3BooleanField",jspb.Message.setProto3BooleanField),jspb.Message.setProto3StringField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},goog.exportProperty(jspb.Message,"setProto3StringField",jspb.Message.setProto3StringField),jspb.Message.setProto3BytesField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},goog.exportProperty(jspb.Message,"setProto3BytesField",jspb.Message.setProto3BytesField),jspb.Message.setProto3EnumField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},goog.exportProperty(jspb.Message,"setProto3EnumField",jspb.Message.setProto3EnumField),jspb.Message.setProto3StringIntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"0")},goog.exportProperty(jspb.Message,"setProto3StringIntField",jspb.Message.setProto3StringIntField),jspb.Message.setFieldIgnoringDefault_=function(e,t,r,n){return jspb.asserts.assertInstanceof(e,jspb.Message),r!==n?jspb.Message.setField(e,t,r):t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(e),delete e.extensionObject_[t]),e},jspb.Message.addToRepeatedField=function(e,t,r,n){return jspb.asserts.assertInstanceof(e,jspb.Message),t=jspb.Message.getRepeatedField(e,t),null!=n?t.splice(n,0,r):t.push(r),e},goog.exportProperty(jspb.Message,"addToRepeatedField",jspb.Message.addToRepeatedField),jspb.Message.setOneofField=function(e,t,r,n){return jspb.asserts.assertInstanceof(e,jspb.Message),(r=jspb.Message.computeOneofCase(e,r))&&r!==t&&void 0!==n&&(e.wrappers_&&r in e.wrappers_&&(e.wrappers_[r]=void 0),jspb.Message.setField(e,r,void 0)),jspb.Message.setField(e,t,n)},goog.exportProperty(jspb.Message,"setOneofField",jspb.Message.setOneofField),jspb.Message.computeOneofCase=function(e,t){for(var r,n,i=0;i<t.length;i++){var a=t[i],o=jspb.Message.getField(e,a);null!=o&&(r=a,n=o,jspb.Message.setField(e,a,void 0))}return r?(jspb.Message.setField(e,r,n),r):0},goog.exportProperty(jspb.Message,"computeOneofCase",jspb.Message.computeOneofCase),jspb.Message.getWrapperField=function(e,t,r,n){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){var i=jspb.Message.getField(e,r);(n||i)&&(e.wrappers_[r]=new t(i))}return e.wrappers_[r]},goog.exportProperty(jspb.Message,"getWrapperField",jspb.Message.getWrapperField),jspb.Message.getRepeatedWrapperField=function(e,t,r){return jspb.Message.wrapRepeatedField_(e,t,r),(t=e.wrappers_[r])==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=e.wrappers_[r]=[]),t},goog.exportProperty(jspb.Message,"getRepeatedWrapperField",jspb.Message.getRepeatedWrapperField),jspb.Message.wrapRepeatedField_=function(e,t,r){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){for(var n=jspb.Message.getRepeatedField(e,r),i=[],a=0;a<n.length;a++)i[a]=new t(n[a]);e.wrappers_[r]=i}},jspb.Message.setWrapperField=function(e,t,r){jspb.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var n=r?r.toArray():r;return e.wrappers_[t]=r,jspb.Message.setField(e,t,n)},goog.exportProperty(jspb.Message,"setWrapperField",jspb.Message.setWrapperField),jspb.Message.setOneofWrapperField=function(e,t,r,n){jspb.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var i=n?n.toArray():n;return e.wrappers_[t]=n,jspb.Message.setOneofField(e,t,r,i)},goog.exportProperty(jspb.Message,"setOneofWrapperField",jspb.Message.setOneofWrapperField),jspb.Message.setRepeatedWrapperField=function(e,t,r){jspb.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={}),r=r||[];for(var n=[],i=0;i<r.length;i++)n[i]=r[i].toArray();return e.wrappers_[t]=r,jspb.Message.setField(e,t,n)},goog.exportProperty(jspb.Message,"setRepeatedWrapperField",jspb.Message.setRepeatedWrapperField),jspb.Message.addToRepeatedWrapperField=function(e,t,r,n,i){jspb.Message.wrapRepeatedField_(e,n,t);var a=e.wrappers_[t];return a||(a=e.wrappers_[t]=[]),r=r||new n,e=jspb.Message.getRepeatedField(e,t),null!=i?(a.splice(i,0,r),e.splice(i,0,r.toArray())):(a.push(r),e.push(r.toArray())),r},goog.exportProperty(jspb.Message,"addToRepeatedWrapperField",jspb.Message.addToRepeatedWrapperField),jspb.Message.toMap=function(e,t,r,n){for(var i={},a=0;a<e.length;a++)i[t.call(e[a])]=r?r.call(e[a],n,e[a]):e[a];return i},goog.exportProperty(jspb.Message,"toMap",jspb.Message.toMap),jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var t=this.wrappers_[e];if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&t[r].toArray();else t&&t.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},goog.exportProperty(jspb.Message.prototype,"toArray",jspb.Message.prototype.toArray),jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],function(t){return new e.ctor(t)})),this.wrappers_[t]}else if(e.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new e.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}},goog.exportProperty(jspb.Message.prototype,"getExtension",jspb.Message.prototype.getExtension),jspb.Message.prototype.setExtension=function(e,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var r=e.fieldIndex;return e.isRepeated?(t=t||[],e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=goog.array.map(t,function(e){return e.toArray()})):this.extensionObject_[r]=t):e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=t?t.toArray():t):this.extensionObject_[r]=t,this},goog.exportProperty(jspb.Message.prototype,"setExtension",jspb.Message.prototype.setExtension),jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var r=e.toArray();t=t.toArray();var n=[],i=0,a=r.length>t.length?r.length:t.length;for(e.getJsPbMessageId()&&(n[0]=e.getJsPbMessageId(),i=1);i<a;i++)jspb.Message.compareFields(r[i],t[i])||(n[i]=t[i]);return new e.constructor(n)},goog.exportProperty(jspb.Message,"difference",jspb.Message.difference),jspb.Message.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&jspb.Message.compareFields(e.toArray(),t.toArray())},goog.exportProperty(jspb.Message,"equals",jspb.Message.equals),jspb.Message.compareExtensions=function(e,t){e=e||{},t=t||{};var r,n={};for(r in e)n[r]=0;for(r in t)n[r]=0;for(r in n)if(!jspb.Message.compareFields(e[r],t[r]))return!1;return!0},goog.exportProperty(jspb.Message,"compareExtensions",jspb.Message.compareExtensions),jspb.Message.compareFields=function(e,t){if(e==t)return!0;if(!goog.isObject(e)||!goog.isObject(t))return!!("number"==typeof e&&isNaN(e)||"number"==typeof t&&isNaN(t))&&String(e)==String(t);if(e.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}if(e.constructor===Array){var n=void 0,i=void 0,a=Math.max(e.length,t.length);for(r=0;r<a;r++){var o=e[r],s=t[r];if(o&&o.constructor==Object&&(jspb.asserts.assert(void 0===n),jspb.asserts.assert(r===e.length-1),n=o,o=void 0),s&&s.constructor==Object&&(jspb.asserts.assert(void 0===i),jspb.asserts.assert(r===t.length-1),i=s,s=void 0),!jspb.Message.compareFields(o,s))return!1}return!n&&!i||(n=n||{},i=i||{},jspb.Message.compareExtensions(n,i))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,t);throw Error("Invalid type in JSPB array")},goog.exportProperty(jspb.Message,"compareFields",jspb.Message.compareFields),jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"cloneMessage",jspb.Message.prototype.cloneMessage),jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"clone",jspb.Message.prototype.clone),jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},goog.exportProperty(jspb.Message,"clone",jspb.Message.clone),jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,t){jspb.asserts.assertInstanceof(e,jspb.Message),jspb.asserts.assertInstanceof(t,jspb.Message),jspb.asserts.assert(e.constructor==t.constructor,"Copy source and target message should have the same type."),e=jspb.Message.clone(e);for(var r=t.toArray(),n=e.toArray(),i=r.length=0;i<n.length;i++)r[i]=n[i];t.wrappers_=e.wrappers_,t.extensionObject_=e.extensionObject_},goog.exportProperty(jspb.Message,"copyInto",jspb.Message.copyInto),jspb.Message.clone_=function(e){if(Array.isArray(e)){for(var t=Array(e.length),r=0;r<e.length;r++){var n=e[r];null!=n&&(t[r]="object"==typeof n?jspb.Message.clone_(jspb.asserts.assert(n)):n)}return t}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);for(r in t={},e)null!=(n=e[r])&&(t[r]="object"==typeof n?jspb.Message.clone_(jspb.asserts.assert(n)):n);return t},jspb.Message.registerMessageType=function(e,t){t.messageId=e},goog.exportProperty(jspb.Message,"registerMessageType",jspb.Message.registerMessageType),jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf}(googleProtobuf);var calculator_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.CalculatorOptions",null,n),proto.mediapipe.CalculatorOptions=function(e){t.Message.initialize(this,e,0,2,null,null)},r.inherits(proto.mediapipe.CalculatorOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorOptions.displayName="proto.mediapipe.CalculatorOptions"),proto.mediapipe.CalculatorOptions.extensions={},proto.mediapipe.CalculatorOptions.extensionsBinary={},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorOptions.prototype.toObject=function(e){return proto.mediapipe.CalculatorOptions.toObject(e,this)},proto.mediapipe.CalculatorOptions.toObject=function(e,r){var n,i={mergeFields:null==(n=t.Message.getBooleanField(r,1))?void 0:n};return t.Message.toObjectExtension(r,i,proto.mediapipe.CalculatorOptions.extensions,proto.mediapipe.CalculatorOptions.prototype.getExtension,e),e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.CalculatorOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.CalculatorOptions;return proto.mediapipe.CalculatorOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.CalculatorOptions.deserializeBinaryFromReader=function(e,r){for(;r.nextField()&&!r.isEndGroup();)if(1===r.getFieldNumber()){var n=r.readBool();e.setMergeFields(n)}else t.Message.readBinaryExtension(e,r,proto.mediapipe.CalculatorOptions.extensionsBinary,proto.mediapipe.CalculatorOptions.prototype.getExtension,proto.mediapipe.CalculatorOptions.prototype.setExtension);return e},proto.mediapipe.CalculatorOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.CalculatorOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.CalculatorOptions.serializeBinaryToWriter=function(e,r){var n;null!=(n=t.Message.getField(e,1))&&r.writeBool(1,n),t.Message.serializeBinaryExtensions(e,r,proto.mediapipe.CalculatorOptions.extensionsBinary,proto.mediapipe.CalculatorOptions.prototype.getExtension)},proto.mediapipe.CalculatorOptions.prototype.getMergeFields=function(){return t.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.CalculatorOptions.prototype.setMergeFields=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.CalculatorOptions.prototype.clearMergeFields=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.CalculatorOptions.prototype.hasMergeFields=function(){return null!=t.Message.getField(this,1)},r.object.extend(e,proto.mediapipe)}(calculator_options_pb);var any_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.google.protobuf.Any",null,n),proto.google.protobuf.Any=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.google.protobuf.Any,t.Message),r.DEBUG&&!COMPILED&&(proto.google.protobuf.Any.displayName="proto.google.protobuf.Any"),t.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Any.prototype.toObject=function(e){return proto.google.protobuf.Any.toObject(e,this)},proto.google.protobuf.Any.toObject=function(e,r){var n={typeUrl:t.Message.getFieldWithDefault(r,1,""),value:r.getValue_asB64()};return e&&(n.$jspbMessageInstance=r),n}),proto.google.protobuf.Any.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.google.protobuf.Any;return proto.google.protobuf.Any.deserializeBinaryFromReader(n,r)},proto.google.protobuf.Any.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setTypeUrl(r);break;case 2:r=t.readBytes(),e.setValue(r);break;default:t.skipField()}return e},proto.google.protobuf.Any.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.google.protobuf.Any.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.Any.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getTypeUrl()).length>0&&t.writeString(1,r),(r=e.getValue_asU8()).length>0&&t.writeBytes(2,r)},proto.google.protobuf.Any.prototype.getTypeUrl=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.Any.prototype.setTypeUrl=function(e){return t.Message.setProto3StringField(this,1,e)},proto.google.protobuf.Any.prototype.getValue=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.google.protobuf.Any.prototype.getValue_asB64=function(){return t.Message.bytesAsB64(this.getValue())},proto.google.protobuf.Any.prototype.getValue_asU8=function(){return t.Message.bytesAsU8(this.getValue())},proto.google.protobuf.Any.prototype.setValue=function(e){return t.Message.setProto3BytesField(this,2,e)},r.object.extend(e,proto.google.protobuf),proto.google.protobuf.Any.prototype.getTypeName=function(){return this.getTypeUrl().split("/").pop()},proto.google.protobuf.Any.prototype.pack=function(e,t,r){r||(r="type.googleapis.com/"),"/"!=r.substr(-1)?this.setTypeUrl(r+"/"+t):this.setTypeUrl(r+t),this.setValue(e)},proto.google.protobuf.Any.prototype.unpack=function(e,t){return this.getTypeName()==t?e(this.getValue_asU8()):null}}(any_pb);var mediapipe_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.MediaPipeOptions",null,n),proto.mediapipe.MediaPipeOptions=function(e){t.Message.initialize(this,e,0,1,null,null)},r.inherits(proto.mediapipe.MediaPipeOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.MediaPipeOptions.displayName="proto.mediapipe.MediaPipeOptions"),proto.mediapipe.MediaPipeOptions.extensions={},proto.mediapipe.MediaPipeOptions.extensionsBinary={},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.MediaPipeOptions.prototype.toObject=function(e){return proto.mediapipe.MediaPipeOptions.toObject(e,this)},proto.mediapipe.MediaPipeOptions.toObject=function(e,r){var n={};return t.Message.toObjectExtension(r,n,proto.mediapipe.MediaPipeOptions.extensions,proto.mediapipe.MediaPipeOptions.prototype.getExtension,e),e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.MediaPipeOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.MediaPipeOptions;return proto.mediapipe.MediaPipeOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.MediaPipeOptions.deserializeBinaryFromReader=function(e,r){for(;r.nextField()&&!r.isEndGroup();)r.getFieldNumber(),t.Message.readBinaryExtension(e,r,proto.mediapipe.MediaPipeOptions.extensionsBinary,proto.mediapipe.MediaPipeOptions.prototype.getExtension,proto.mediapipe.MediaPipeOptions.prototype.setExtension);return e},proto.mediapipe.MediaPipeOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.MediaPipeOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.MediaPipeOptions.serializeBinaryToWriter=function(e,r){t.Message.serializeBinaryExtensions(e,r,proto.mediapipe.MediaPipeOptions.extensionsBinary,proto.mediapipe.MediaPipeOptions.prototype.getExtension)},r.object.extend(e,proto.mediapipe)}(mediapipe_options_pb);var packet_factory_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.PacketFactoryConfig",null,n),r.exportSymbol("proto.mediapipe.PacketFactoryOptions",null,n),r.exportSymbol("proto.mediapipe.PacketManagerConfig",null,n),proto.mediapipe.PacketFactoryOptions=function(e){t.Message.initialize(this,e,0,1,null,null)},r.inherits(proto.mediapipe.PacketFactoryOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketFactoryOptions.displayName="proto.mediapipe.PacketFactoryOptions"),proto.mediapipe.PacketFactoryOptions.extensions={},proto.mediapipe.PacketFactoryOptions.extensionsBinary={},proto.mediapipe.PacketFactoryConfig=function(e){t.Message.initialize(this,e,0,500,null,null)},r.inherits(proto.mediapipe.PacketFactoryConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketFactoryConfig.displayName="proto.mediapipe.PacketFactoryConfig"),proto.mediapipe.PacketManagerConfig=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.PacketManagerConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.PacketManagerConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketManagerConfig.displayName="proto.mediapipe.PacketManagerConfig"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketFactoryOptions.prototype.toObject=function(e){return proto.mediapipe.PacketFactoryOptions.toObject(e,this)},proto.mediapipe.PacketFactoryOptions.toObject=function(e,r){var n={};return t.Message.toObjectExtension(r,n,proto.mediapipe.PacketFactoryOptions.extensions,proto.mediapipe.PacketFactoryOptions.prototype.getExtension,e),e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.PacketFactoryOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.PacketFactoryOptions;return proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader=function(e,r){for(;r.nextField()&&!r.isEndGroup();)r.getFieldNumber(),t.Message.readBinaryExtension(e,r,proto.mediapipe.PacketFactoryOptions.extensionsBinary,proto.mediapipe.PacketFactoryOptions.prototype.getExtension,proto.mediapipe.PacketFactoryOptions.prototype.setExtension);return e},proto.mediapipe.PacketFactoryOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter=function(e,r){t.Message.serializeBinaryExtensions(e,r,proto.mediapipe.PacketFactoryOptions.extensionsBinary,proto.mediapipe.PacketFactoryOptions.prototype.getExtension)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketFactoryConfig.prototype.toObject=function(e){return proto.mediapipe.PacketFactoryConfig.toObject(e,this)},proto.mediapipe.PacketFactoryConfig.toObject=function(e,r){var n,i={packetFactory:null==(n=t.Message.getField(r,1))?void 0:n,outputSidePacket:null==(n=t.Message.getField(r,2))?void 0:n,externalOutput:null==(n=t.Message.getField(r,1002))?void 0:n,options:(n=r.getOptions())&&proto.mediapipe.PacketFactoryOptions.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.PacketFactoryConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.PacketFactoryConfig;return proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setPacketFactory(r);break;case 2:r=t.readString(),e.setOutputSidePacket(r);break;case 1002:r=t.readString(),e.setExternalOutput(r);break;case 3:r=new proto.mediapipe.PacketFactoryOptions,t.readMessage(r,proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader),e.setOptions(r);break;default:t.skipField()}return e},proto.mediapipe.PacketFactoryConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),null!=(n=t.Message.getField(e,2))&&r.writeString(2,n),null!=(n=t.Message.getField(e,1002))&&r.writeString(1002,n),null!=(n=e.getOptions())&&r.writeMessage(3,n,proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter)},proto.mediapipe.PacketFactoryConfig.prototype.getPacketFactory=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.PacketFactoryConfig.prototype.setPacketFactory=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.PacketFactoryConfig.prototype.clearPacketFactory=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasPacketFactory=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.PacketFactoryConfig.prototype.getOutputSidePacket=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.PacketFactoryConfig.prototype.setOutputSidePacket=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.PacketFactoryConfig.prototype.clearOutputSidePacket=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasOutputSidePacket=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.PacketFactoryConfig.prototype.getExternalOutput=function(){return t.Message.getFieldWithDefault(this,1002,"")},proto.mediapipe.PacketFactoryConfig.prototype.setExternalOutput=function(e){return t.Message.setField(this,1002,e)},proto.mediapipe.PacketFactoryConfig.prototype.clearExternalOutput=function(){return t.Message.setField(this,1002,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasExternalOutput=function(){return null!=t.Message.getField(this,1002)},proto.mediapipe.PacketFactoryConfig.prototype.getOptions=function(){return t.Message.getWrapperField(this,proto.mediapipe.PacketFactoryOptions,3)},proto.mediapipe.PacketFactoryConfig.prototype.setOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.PacketFactoryConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.PacketManagerConfig.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketManagerConfig.prototype.toObject=function(e){return proto.mediapipe.PacketManagerConfig.toObject(e,this)},proto.mediapipe.PacketManagerConfig.toObject=function(e,r){var n={packetList:t.Message.toObjectList(r.getPacketList(),proto.mediapipe.PacketFactoryConfig.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.PacketManagerConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.PacketManagerConfig;return proto.mediapipe.PacketManagerConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.PacketManagerConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.PacketFactoryConfig;t.readMessage(r,proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader),e.addPacket(r)}else t.skipField();return e},proto.mediapipe.PacketManagerConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.PacketManagerConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.PacketManagerConfig.serializeBinaryToWriter=function(e,t){var r;(r=e.getPacketList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter)},proto.mediapipe.PacketManagerConfig.prototype.getPacketList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.PacketFactoryConfig,1)},proto.mediapipe.PacketManagerConfig.prototype.setPacketList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.PacketManagerConfig.prototype.addPacket=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.PacketFactoryConfig,r)},proto.mediapipe.PacketManagerConfig.prototype.clearPacketList=function(){return this.setPacketList([])},r.object.extend(e,proto.mediapipe)}(packet_factory_pb);var packet_generator_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.PacketGeneratorConfig",null,n),r.exportSymbol("proto.mediapipe.PacketGeneratorOptions",null,n),proto.mediapipe.PacketGeneratorOptions=function(e){t.Message.initialize(this,e,0,2,null,null)},r.inherits(proto.mediapipe.PacketGeneratorOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketGeneratorOptions.displayName="proto.mediapipe.PacketGeneratorOptions"),proto.mediapipe.PacketGeneratorOptions.extensions={},proto.mediapipe.PacketGeneratorOptions.extensionsBinary={},proto.mediapipe.PacketGeneratorConfig=function(e){t.Message.initialize(this,e,0,500,proto.mediapipe.PacketGeneratorConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.PacketGeneratorConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketGeneratorConfig.displayName="proto.mediapipe.PacketGeneratorConfig"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketGeneratorOptions.prototype.toObject=function(e){return proto.mediapipe.PacketGeneratorOptions.toObject(e,this)},proto.mediapipe.PacketGeneratorOptions.toObject=function(e,r){var n={mergeFields:t.Message.getBooleanFieldWithDefault(r,1,!0)};return t.Message.toObjectExtension(r,n,proto.mediapipe.PacketGeneratorOptions.extensions,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension,e),e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.PacketGeneratorOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.PacketGeneratorOptions;return proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader=function(e,r){for(;r.nextField()&&!r.isEndGroup();)if(1===r.getFieldNumber()){var n=r.readBool();e.setMergeFields(n)}else t.Message.readBinaryExtension(e,r,proto.mediapipe.PacketGeneratorOptions.extensionsBinary,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension,proto.mediapipe.PacketGeneratorOptions.prototype.setExtension);return e},proto.mediapipe.PacketGeneratorOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter=function(e,r){var n;null!=(n=t.Message.getField(e,1))&&r.writeBool(1,n),t.Message.serializeBinaryExtensions(e,r,proto.mediapipe.PacketGeneratorOptions.extensionsBinary,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension)},proto.mediapipe.PacketGeneratorOptions.prototype.getMergeFields=function(){return t.Message.getBooleanFieldWithDefault(this,1,!0)},proto.mediapipe.PacketGeneratorOptions.prototype.setMergeFields=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.PacketGeneratorOptions.prototype.clearMergeFields=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.PacketGeneratorOptions.prototype.hasMergeFields=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.PacketGeneratorConfig.repeatedFields_=[2,1002,3,1003],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketGeneratorConfig.prototype.toObject=function(e){return proto.mediapipe.PacketGeneratorConfig.toObject(e,this)},proto.mediapipe.PacketGeneratorConfig.toObject=function(e,r){var n,i={packetGenerator:null==(n=t.Message.getField(r,1))?void 0:n,inputSidePacketList:null==(n=t.Message.getRepeatedField(r,2))?void 0:n,externalInputList:null==(n=t.Message.getRepeatedField(r,1002))?void 0:n,outputSidePacketList:null==(n=t.Message.getRepeatedField(r,3))?void 0:n,externalOutputList:null==(n=t.Message.getRepeatedField(r,1003))?void 0:n,options:(n=r.getOptions())&&proto.mediapipe.PacketGeneratorOptions.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.PacketGeneratorConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.PacketGeneratorConfig;return proto.mediapipe.PacketGeneratorConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.PacketGeneratorConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setPacketGenerator(r);break;case 2:r=t.readString(),e.addInputSidePacket(r);break;case 1002:r=t.readString(),e.addExternalInput(r);break;case 3:r=t.readString(),e.addOutputSidePacket(r);break;case 1003:r=t.readString(),e.addExternalOutput(r);break;case 4:r=new proto.mediapipe.PacketGeneratorOptions,t.readMessage(r,proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader),e.setOptions(r);break;default:t.skipField()}return e},proto.mediapipe.PacketGeneratorConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.PacketGeneratorConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.PacketGeneratorConfig.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),(n=e.getInputSidePacketList()).length>0&&r.writeRepeatedString(2,n),(n=e.getExternalInputList()).length>0&&r.writeRepeatedString(1002,n),(n=e.getOutputSidePacketList()).length>0&&r.writeRepeatedString(3,n),(n=e.getExternalOutputList()).length>0&&r.writeRepeatedString(1003,n),null!=(n=e.getOptions())&&r.writeMessage(4,n,proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter)},proto.mediapipe.PacketGeneratorConfig.prototype.getPacketGenerator=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.PacketGeneratorConfig.prototype.setPacketGenerator=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.PacketGeneratorConfig.prototype.clearPacketGenerator=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.PacketGeneratorConfig.prototype.hasPacketGenerator=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.PacketGeneratorConfig.prototype.getInputSidePacketList=function(){return t.Message.getRepeatedField(this,2)},proto.mediapipe.PacketGeneratorConfig.prototype.setInputSidePacketList=function(e){return t.Message.setField(this,2,e||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addInputSidePacket=function(e,r){return t.Message.addToRepeatedField(this,2,e,r)},proto.mediapipe.PacketGeneratorConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getExternalInputList=function(){return t.Message.getRepeatedField(this,1002)},proto.mediapipe.PacketGeneratorConfig.prototype.setExternalInputList=function(e){return t.Message.setField(this,1002,e||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addExternalInput=function(e,r){return t.Message.addToRepeatedField(this,1002,e,r)},proto.mediapipe.PacketGeneratorConfig.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getOutputSidePacketList=function(){return t.Message.getRepeatedField(this,3)},proto.mediapipe.PacketGeneratorConfig.prototype.setOutputSidePacketList=function(e){return t.Message.setField(this,3,e||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addOutputSidePacket=function(e,r){return t.Message.addToRepeatedField(this,3,e,r)},proto.mediapipe.PacketGeneratorConfig.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getExternalOutputList=function(){return t.Message.getRepeatedField(this,1003)},proto.mediapipe.PacketGeneratorConfig.prototype.setExternalOutputList=function(e){return t.Message.setField(this,1003,e||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addExternalOutput=function(e,r){return t.Message.addToRepeatedField(this,1003,e,r)},proto.mediapipe.PacketGeneratorConfig.prototype.clearExternalOutputList=function(){return this.setExternalOutputList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getOptions=function(){return t.Message.getWrapperField(this,proto.mediapipe.PacketGeneratorOptions,4)},proto.mediapipe.PacketGeneratorConfig.prototype.setOptions=function(e){return t.Message.setWrapperField(this,4,e)},proto.mediapipe.PacketGeneratorConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.PacketGeneratorConfig.prototype.hasOptions=function(){return null!=t.Message.getField(this,4)},r.object.extend(e,proto.mediapipe)}(packet_generator_pb);var status_handler_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=mediapipe_options_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.StatusHandlerConfig",null,n),proto.mediapipe.StatusHandlerConfig=function(e){t.Message.initialize(this,e,0,500,proto.mediapipe.StatusHandlerConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.StatusHandlerConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.StatusHandlerConfig.displayName="proto.mediapipe.StatusHandlerConfig"),proto.mediapipe.StatusHandlerConfig.repeatedFields_=[2,1002],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.StatusHandlerConfig.prototype.toObject=function(e){return proto.mediapipe.StatusHandlerConfig.toObject(e,this)},proto.mediapipe.StatusHandlerConfig.toObject=function(e,r){var n,a={statusHandler:null==(n=t.Message.getField(r,1))?void 0:n,inputSidePacketList:null==(n=t.Message.getRepeatedField(r,2))?void 0:n,externalInputList:null==(n=t.Message.getRepeatedField(r,1002))?void 0:n,options:(n=r.getOptions())&&i.MediaPipeOptions.toObject(e,n)};return e&&(a.$jspbMessageInstance=r),a}),proto.mediapipe.StatusHandlerConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.StatusHandlerConfig;return proto.mediapipe.StatusHandlerConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.StatusHandlerConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setStatusHandler(r);break;case 2:r=t.readString(),e.addInputSidePacket(r);break;case 1002:r=t.readString(),e.addExternalInput(r);break;case 3:r=new i.MediaPipeOptions,t.readMessage(r,i.MediaPipeOptions.deserializeBinaryFromReader),e.setOptions(r);break;default:t.skipField()}return e},proto.mediapipe.StatusHandlerConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.StatusHandlerConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.StatusHandlerConfig.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),(n=e.getInputSidePacketList()).length>0&&r.writeRepeatedString(2,n),(n=e.getExternalInputList()).length>0&&r.writeRepeatedString(1002,n),null!=(n=e.getOptions())&&r.writeMessage(3,n,i.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.StatusHandlerConfig.prototype.getStatusHandler=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.StatusHandlerConfig.prototype.setStatusHandler=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.StatusHandlerConfig.prototype.clearStatusHandler=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.StatusHandlerConfig.prototype.hasStatusHandler=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.StatusHandlerConfig.prototype.getInputSidePacketList=function(){return t.Message.getRepeatedField(this,2)},proto.mediapipe.StatusHandlerConfig.prototype.setInputSidePacketList=function(e){return t.Message.setField(this,2,e||[])},proto.mediapipe.StatusHandlerConfig.prototype.addInputSidePacket=function(e,r){return t.Message.addToRepeatedField(this,2,e,r)},proto.mediapipe.StatusHandlerConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.StatusHandlerConfig.prototype.getExternalInputList=function(){return t.Message.getRepeatedField(this,1002)},proto.mediapipe.StatusHandlerConfig.prototype.setExternalInputList=function(e){return t.Message.setField(this,1002,e||[])},proto.mediapipe.StatusHandlerConfig.prototype.addExternalInput=function(e,r){return t.Message.addToRepeatedField(this,1002,e,r)},proto.mediapipe.StatusHandlerConfig.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.StatusHandlerConfig.prototype.getOptions=function(){return t.Message.getWrapperField(this,i.MediaPipeOptions,3)},proto.mediapipe.StatusHandlerConfig.prototype.setOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.StatusHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.StatusHandlerConfig.prototype.hasOptions=function(){return null!=t.Message.getField(this,3)},r.object.extend(e,proto.mediapipe)}(status_handler_pb);var stream_handler_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=mediapipe_options_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.InputStreamHandlerConfig",null,n),r.exportSymbol("proto.mediapipe.OutputStreamHandlerConfig",null,n),proto.mediapipe.InputStreamHandlerConfig=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.InputStreamHandlerConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InputStreamHandlerConfig.displayName="proto.mediapipe.InputStreamHandlerConfig"),proto.mediapipe.OutputStreamHandlerConfig=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.OutputStreamHandlerConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.OutputStreamHandlerConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.OutputStreamHandlerConfig.displayName="proto.mediapipe.OutputStreamHandlerConfig"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputStreamHandlerConfig.prototype.toObject=function(e){return proto.mediapipe.InputStreamHandlerConfig.toObject(e,this)},proto.mediapipe.InputStreamHandlerConfig.toObject=function(e,r){var n,a={inputStreamHandler:t.Message.getFieldWithDefault(r,1,"DefaultInputStreamHandler"),options:(n=r.getOptions())&&i.MediaPipeOptions.toObject(e,n)};return e&&(a.$jspbMessageInstance=r),a}),proto.mediapipe.InputStreamHandlerConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InputStreamHandlerConfig;return proto.mediapipe.InputStreamHandlerConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.InputStreamHandlerConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setInputStreamHandler(r);break;case 3:r=new i.MediaPipeOptions,t.readMessage(r,i.MediaPipeOptions.deserializeBinaryFromReader),e.setOptions(r);break;default:t.skipField()}return e},proto.mediapipe.InputStreamHandlerConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InputStreamHandlerConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InputStreamHandlerConfig.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),null!=(n=e.getOptions())&&r.writeMessage(3,n,i.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.InputStreamHandlerConfig.prototype.getInputStreamHandler=function(){return t.Message.getFieldWithDefault(this,1,"DefaultInputStreamHandler")},proto.mediapipe.InputStreamHandlerConfig.prototype.setInputStreamHandler=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.InputStreamHandlerConfig.prototype.clearInputStreamHandler=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.InputStreamHandlerConfig.prototype.hasInputStreamHandler=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.InputStreamHandlerConfig.prototype.getOptions=function(){return t.Message.getWrapperField(this,i.MediaPipeOptions,3)},proto.mediapipe.InputStreamHandlerConfig.prototype.setOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.InputStreamHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.InputStreamHandlerConfig.prototype.hasOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.OutputStreamHandlerConfig.repeatedFields_=[2],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.OutputStreamHandlerConfig.prototype.toObject=function(e){return proto.mediapipe.OutputStreamHandlerConfig.toObject(e,this)},proto.mediapipe.OutputStreamHandlerConfig.toObject=function(e,r){var n,a={outputStreamHandler:t.Message.getFieldWithDefault(r,1,"InOrderOutputStreamHandler"),inputSidePacketList:null==(n=t.Message.getRepeatedField(r,2))?void 0:n,options:(n=r.getOptions())&&i.MediaPipeOptions.toObject(e,n)};return e&&(a.$jspbMessageInstance=r),a}),proto.mediapipe.OutputStreamHandlerConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.OutputStreamHandlerConfig;return proto.mediapipe.OutputStreamHandlerConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.OutputStreamHandlerConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setOutputStreamHandler(r);break;case 2:r=t.readString(),e.addInputSidePacket(r);break;case 3:r=new i.MediaPipeOptions,t.readMessage(r,i.MediaPipeOptions.deserializeBinaryFromReader),e.setOptions(r);break;default:t.skipField()}return e},proto.mediapipe.OutputStreamHandlerConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.OutputStreamHandlerConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.OutputStreamHandlerConfig.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),(n=e.getInputSidePacketList()).length>0&&r.writeRepeatedString(2,n),null!=(n=e.getOptions())&&r.writeMessage(3,n,i.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.OutputStreamHandlerConfig.prototype.getOutputStreamHandler=function(){return t.Message.getFieldWithDefault(this,1,"InOrderOutputStreamHandler")},proto.mediapipe.OutputStreamHandlerConfig.prototype.setOutputStreamHandler=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearOutputStreamHandler=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.OutputStreamHandlerConfig.prototype.hasOutputStreamHandler=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.OutputStreamHandlerConfig.prototype.getInputSidePacketList=function(){return t.Message.getRepeatedField(this,2)},proto.mediapipe.OutputStreamHandlerConfig.prototype.setInputSidePacketList=function(e){return t.Message.setField(this,2,e||[])},proto.mediapipe.OutputStreamHandlerConfig.prototype.addInputSidePacket=function(e,r){return t.Message.addToRepeatedField(this,2,e,r)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.OutputStreamHandlerConfig.prototype.getOptions=function(){return t.Message.getWrapperField(this,i.MediaPipeOptions,3)},proto.mediapipe.OutputStreamHandlerConfig.prototype.setOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.OutputStreamHandlerConfig.prototype.hasOptions=function(){return null!=t.Message.getField(this,3)},r.object.extend(e,proto.mediapipe)}(stream_handler_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_options_pb;r.object.extend(proto,i);var a=any_pb;r.object.extend(proto,a);var o=mediapipe_options_pb;r.object.extend(proto,o);var s=packet_factory_pb;r.object.extend(proto,s);var p=packet_generator_pb;r.object.extend(proto,p);var d=status_handler_pb;r.object.extend(proto,d);var l=stream_handler_pb;r.object.extend(proto,l),r.exportSymbol("proto.mediapipe.CalculatorGraphConfig",null,n),r.exportSymbol("proto.mediapipe.CalculatorGraphConfig.Node",null,n),r.exportSymbol("proto.mediapipe.ExecutorConfig",null,n),r.exportSymbol("proto.mediapipe.InputCollection",null,n),r.exportSymbol("proto.mediapipe.InputCollection.InputType",null,n),r.exportSymbol("proto.mediapipe.InputCollectionSet",null,n),r.exportSymbol("proto.mediapipe.InputStreamInfo",null,n),r.exportSymbol("proto.mediapipe.ProfilerConfig",null,n),proto.mediapipe.ExecutorConfig=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.ExecutorConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ExecutorConfig.displayName="proto.mediapipe.ExecutorConfig"),proto.mediapipe.InputCollection=function(e){t.Message.initialize(this,e,0,500,proto.mediapipe.InputCollection.repeatedFields_,null)},r.inherits(proto.mediapipe.InputCollection,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InputCollection.displayName="proto.mediapipe.InputCollection"),proto.mediapipe.InputCollectionSet=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.InputCollectionSet.repeatedFields_,null)},r.inherits(proto.mediapipe.InputCollectionSet,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InputCollectionSet.displayName="proto.mediapipe.InputCollectionSet"),proto.mediapipe.InputStreamInfo=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.InputStreamInfo,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InputStreamInfo.displayName="proto.mediapipe.InputStreamInfo"),proto.mediapipe.ProfilerConfig=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.ProfilerConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.ProfilerConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ProfilerConfig.displayName="proto.mediapipe.ProfilerConfig"),proto.mediapipe.CalculatorGraphConfig=function(e){t.Message.initialize(this,e,0,500,proto.mediapipe.CalculatorGraphConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.CalculatorGraphConfig,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorGraphConfig.displayName="proto.mediapipe.CalculatorGraphConfig"),proto.mediapipe.CalculatorGraphConfig.Node=function(e){t.Message.initialize(this,e,0,500,proto.mediapipe.CalculatorGraphConfig.Node.repeatedFields_,null)},r.inherits(proto.mediapipe.CalculatorGraphConfig.Node,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorGraphConfig.Node.displayName="proto.mediapipe.CalculatorGraphConfig.Node"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ExecutorConfig.prototype.toObject=function(e){return proto.mediapipe.ExecutorConfig.toObject(e,this)},proto.mediapipe.ExecutorConfig.toObject=function(e,r){var n,i={name:t.Message.getFieldWithDefault(r,1,""),type:t.Message.getFieldWithDefault(r,2,""),options:(n=r.getOptions())&&o.MediaPipeOptions.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.ExecutorConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.ExecutorConfig;return proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readString(),e.setType(r);break;case 3:r=new o.MediaPipeOptions,t.readMessage(r,o.MediaPipeOptions.deserializeBinaryFromReader),e.setOptions(r);break;default:t.skipField()}return e},proto.mediapipe.ExecutorConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.ExecutorConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.ExecutorConfig.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r),(r=e.getType()).length>0&&t.writeString(2,r),null!=(r=e.getOptions())&&t.writeMessage(3,r,o.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.ExecutorConfig.prototype.getName=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.ExecutorConfig.prototype.setName=function(e){return t.Message.setProto3StringField(this,1,e)},proto.mediapipe.ExecutorConfig.prototype.getType=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.ExecutorConfig.prototype.setType=function(e){return t.Message.setProto3StringField(this,2,e)},proto.mediapipe.ExecutorConfig.prototype.getOptions=function(){return t.Message.getWrapperField(this,o.MediaPipeOptions,3)},proto.mediapipe.ExecutorConfig.prototype.setOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.ExecutorConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.ExecutorConfig.prototype.hasOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.InputCollection.repeatedFields_=[2,1002],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputCollection.prototype.toObject=function(e){return proto.mediapipe.InputCollection.toObject(e,this)},proto.mediapipe.InputCollection.toObject=function(e,r){var n,i={name:t.Message.getFieldWithDefault(r,1,""),sidePacketNameList:null==(n=t.Message.getRepeatedField(r,2))?void 0:n,externalInputNameList:null==(n=t.Message.getRepeatedField(r,1002))?void 0:n,inputType:t.Message.getFieldWithDefault(r,3,0),fileName:t.Message.getFieldWithDefault(r,4,"")};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.InputCollection.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InputCollection;return proto.mediapipe.InputCollection.deserializeBinaryFromReader(n,r)},proto.mediapipe.InputCollection.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readString(),e.addSidePacketName(r);break;case 1002:r=t.readString(),e.addExternalInputName(r);break;case 3:r=t.readEnum(),e.setInputType(r);break;case 4:r=t.readString(),e.setFileName(r);break;default:t.skipField()}return e},proto.mediapipe.InputCollection.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InputCollection.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InputCollection.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r),(r=e.getSidePacketNameList()).length>0&&t.writeRepeatedString(2,r),(r=e.getExternalInputNameList()).length>0&&t.writeRepeatedString(1002,r),0!==(r=e.getInputType())&&t.writeEnum(3,r),(r=e.getFileName()).length>0&&t.writeString(4,r)},proto.mediapipe.InputCollection.InputType={UNKNOWN:0,RECORDIO:1,FOREIGN_RECORDIO:2,FOREIGN_CSV_TEXT:3,INVALID_UPPER_BOUND:4},proto.mediapipe.InputCollection.prototype.getName=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InputCollection.prototype.setName=function(e){return t.Message.setProto3StringField(this,1,e)},proto.mediapipe.InputCollection.prototype.getSidePacketNameList=function(){return t.Message.getRepeatedField(this,2)},proto.mediapipe.InputCollection.prototype.setSidePacketNameList=function(e){return t.Message.setField(this,2,e||[])},proto.mediapipe.InputCollection.prototype.addSidePacketName=function(e,r){return t.Message.addToRepeatedField(this,2,e,r)},proto.mediapipe.InputCollection.prototype.clearSidePacketNameList=function(){return this.setSidePacketNameList([])},proto.mediapipe.InputCollection.prototype.getExternalInputNameList=function(){return t.Message.getRepeatedField(this,1002)},proto.mediapipe.InputCollection.prototype.setExternalInputNameList=function(e){return t.Message.setField(this,1002,e||[])},proto.mediapipe.InputCollection.prototype.addExternalInputName=function(e,r){return t.Message.addToRepeatedField(this,1002,e,r)},proto.mediapipe.InputCollection.prototype.clearExternalInputNameList=function(){return this.setExternalInputNameList([])},proto.mediapipe.InputCollection.prototype.getInputType=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.InputCollection.prototype.setInputType=function(e){return t.Message.setProto3EnumField(this,3,e)},proto.mediapipe.InputCollection.prototype.getFileName=function(){return t.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.InputCollection.prototype.setFileName=function(e){return t.Message.setProto3StringField(this,4,e)},proto.mediapipe.InputCollectionSet.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputCollectionSet.prototype.toObject=function(e){return proto.mediapipe.InputCollectionSet.toObject(e,this)},proto.mediapipe.InputCollectionSet.toObject=function(e,r){var n={inputCollectionList:t.Message.toObjectList(r.getInputCollectionList(),proto.mediapipe.InputCollection.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.InputCollectionSet.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InputCollectionSet;return proto.mediapipe.InputCollectionSet.deserializeBinaryFromReader(n,r)},proto.mediapipe.InputCollectionSet.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.InputCollection;t.readMessage(r,proto.mediapipe.InputCollection.deserializeBinaryFromReader),e.addInputCollection(r)}else t.skipField();return e},proto.mediapipe.InputCollectionSet.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InputCollectionSet.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InputCollectionSet.serializeBinaryToWriter=function(e,t){var r;(r=e.getInputCollectionList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.InputCollection.serializeBinaryToWriter)},proto.mediapipe.InputCollectionSet.prototype.getInputCollectionList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.InputCollection,1)},proto.mediapipe.InputCollectionSet.prototype.setInputCollectionList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.InputCollectionSet.prototype.addInputCollection=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.InputCollection,r)},proto.mediapipe.InputCollectionSet.prototype.clearInputCollectionList=function(){return this.setInputCollectionList([])},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputStreamInfo.prototype.toObject=function(e){return proto.mediapipe.InputStreamInfo.toObject(e,this)},proto.mediapipe.InputStreamInfo.toObject=function(e,r){var n={tagIndex:t.Message.getFieldWithDefault(r,1,""),backEdge:t.Message.getBooleanFieldWithDefault(r,2,!1)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.InputStreamInfo.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InputStreamInfo;return proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader(n,r)},proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setTagIndex(r);break;case 2:r=t.readBool(),e.setBackEdge(r);break;default:t.skipField()}return e},proto.mediapipe.InputStreamInfo.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InputStreamInfo.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InputStreamInfo.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getTagIndex()).length>0&&t.writeString(1,r),(r=e.getBackEdge())&&t.writeBool(2,r)},proto.mediapipe.InputStreamInfo.prototype.getTagIndex=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InputStreamInfo.prototype.setTagIndex=function(e){return t.Message.setProto3StringField(this,1,e)},proto.mediapipe.InputStreamInfo.prototype.getBackEdge=function(){return t.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.InputStreamInfo.prototype.setBackEdge=function(e){return t.Message.setProto3BooleanField(this,2,e)},proto.mediapipe.ProfilerConfig.repeatedFields_=[8],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ProfilerConfig.prototype.toObject=function(e){return proto.mediapipe.ProfilerConfig.toObject(e,this)},proto.mediapipe.ProfilerConfig.toObject=function(e,r){var n,i={histogramIntervalSizeUsec:t.Message.getFieldWithDefault(r,1,0),numHistogramIntervals:t.Message.getFieldWithDefault(r,2,0),enableInputOutputLatency:t.Message.getBooleanFieldWithDefault(r,3,!1),enableProfiler:t.Message.getBooleanFieldWithDefault(r,4,!1),enableStreamLatency:t.Message.getBooleanFieldWithDefault(r,5,!1),usePacketTimestampForAddedPacket:t.Message.getBooleanFieldWithDefault(r,6,!1),traceLogCapacity:t.Message.getFieldWithDefault(r,7,0),traceEventTypesDisabledList:null==(n=t.Message.getRepeatedField(r,8))?void 0:n,traceLogPath:t.Message.getFieldWithDefault(r,9,""),traceLogCount:t.Message.getFieldWithDefault(r,10,0),traceLogIntervalUsec:t.Message.getFieldWithDefault(r,11,0),traceLogMarginUsec:t.Message.getFieldWithDefault(r,12,0),traceLogDurationEvents:t.Message.getBooleanFieldWithDefault(r,13,!1),traceLogIntervalCount:t.Message.getFieldWithDefault(r,14,0),traceLogDisabled:t.Message.getBooleanFieldWithDefault(r,15,!1),traceEnabled:t.Message.getBooleanFieldWithDefault(r,16,!1),traceLogInstantEvents:t.Message.getBooleanFieldWithDefault(r,17,!1),calculatorFilter:t.Message.getFieldWithDefault(r,18,"")};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.ProfilerConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.ProfilerConfig;return proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setHistogramIntervalSizeUsec(r);break;case 2:r=t.readInt64(),e.setNumHistogramIntervals(r);break;case 3:r=t.readBool(),e.setEnableInputOutputLatency(r);break;case 4:r=t.readBool(),e.setEnableProfiler(r);break;case 5:r=t.readBool(),e.setEnableStreamLatency(r);break;case 6:r=t.readBool(),e.setUsePacketTimestampForAddedPacket(r);break;case 7:r=t.readInt64(),e.setTraceLogCapacity(r);break;case 8:for(var n=t.isDelimited()?t.readPackedInt32():[t.readInt32()],i=0;i<n.length;i++)e.addTraceEventTypesDisabled(n[i]);break;case 9:r=t.readString(),e.setTraceLogPath(r);break;case 10:r=t.readInt32(),e.setTraceLogCount(r);break;case 11:r=t.readInt64(),e.setTraceLogIntervalUsec(r);break;case 12:r=t.readInt64(),e.setTraceLogMarginUsec(r);break;case 13:r=t.readBool(),e.setTraceLogDurationEvents(r);break;case 14:r=t.readInt32(),e.setTraceLogIntervalCount(r);break;case 15:r=t.readBool(),e.setTraceLogDisabled(r);break;case 16:r=t.readBool(),e.setTraceEnabled(r);break;case 17:r=t.readBool(),e.setTraceLogInstantEvents(r);break;case 18:r=t.readString(),e.setCalculatorFilter(r);break;default:t.skipField()}return e},proto.mediapipe.ProfilerConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.ProfilerConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.ProfilerConfig.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getHistogramIntervalSizeUsec())&&t.writeInt64(1,r),0!==(r=e.getNumHistogramIntervals())&&t.writeInt64(2,r),(r=e.getEnableInputOutputLatency())&&t.writeBool(3,r),(r=e.getEnableProfiler())&&t.writeBool(4,r),(r=e.getEnableStreamLatency())&&t.writeBool(5,r),(r=e.getUsePacketTimestampForAddedPacket())&&t.writeBool(6,r),0!==(r=e.getTraceLogCapacity())&&t.writeInt64(7,r),(r=e.getTraceEventTypesDisabledList()).length>0&&t.writePackedInt32(8,r),(r=e.getTraceLogPath()).length>0&&t.writeString(9,r),0!==(r=e.getTraceLogCount())&&t.writeInt32(10,r),0!==(r=e.getTraceLogIntervalUsec())&&t.writeInt64(11,r),0!==(r=e.getTraceLogMarginUsec())&&t.writeInt64(12,r),(r=e.getTraceLogDurationEvents())&&t.writeBool(13,r),0!==(r=e.getTraceLogIntervalCount())&&t.writeInt32(14,r),(r=e.getTraceLogDisabled())&&t.writeBool(15,r),(r=e.getTraceEnabled())&&t.writeBool(16,r),(r=e.getTraceLogInstantEvents())&&t.writeBool(17,r),(r=e.getCalculatorFilter()).length>0&&t.writeString(18,r)},proto.mediapipe.ProfilerConfig.prototype.getHistogramIntervalSizeUsec=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.ProfilerConfig.prototype.setHistogramIntervalSizeUsec=function(e){return t.Message.setProto3IntField(this,1,e)},proto.mediapipe.ProfilerConfig.prototype.getNumHistogramIntervals=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.ProfilerConfig.prototype.setNumHistogramIntervals=function(e){return t.Message.setProto3IntField(this,2,e)},proto.mediapipe.ProfilerConfig.prototype.getEnableInputOutputLatency=function(){return t.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableInputOutputLatency=function(e){return t.Message.setProto3BooleanField(this,3,e)},proto.mediapipe.ProfilerConfig.prototype.getEnableProfiler=function(){return t.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableProfiler=function(e){return t.Message.setProto3BooleanField(this,4,e)},proto.mediapipe.ProfilerConfig.prototype.getEnableStreamLatency=function(){return t.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableStreamLatency=function(e){return t.Message.setProto3BooleanField(this,5,e)},proto.mediapipe.ProfilerConfig.prototype.getUsePacketTimestampForAddedPacket=function(){return t.Message.getBooleanFieldWithDefault(this,6,!1)},proto.mediapipe.ProfilerConfig.prototype.setUsePacketTimestampForAddedPacket=function(e){return t.Message.setProto3BooleanField(this,6,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogCapacity=function(){return t.Message.getFieldWithDefault(this,7,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogCapacity=function(e){return t.Message.setProto3IntField(this,7,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceEventTypesDisabledList=function(){return t.Message.getRepeatedField(this,8)},proto.mediapipe.ProfilerConfig.prototype.setTraceEventTypesDisabledList=function(e){return t.Message.setField(this,8,e||[])},proto.mediapipe.ProfilerConfig.prototype.addTraceEventTypesDisabled=function(e,r){return t.Message.addToRepeatedField(this,8,e,r)},proto.mediapipe.ProfilerConfig.prototype.clearTraceEventTypesDisabledList=function(){return this.setTraceEventTypesDisabledList([])},proto.mediapipe.ProfilerConfig.prototype.getTraceLogPath=function(){return t.Message.getFieldWithDefault(this,9,"")},proto.mediapipe.ProfilerConfig.prototype.setTraceLogPath=function(e){return t.Message.setProto3StringField(this,9,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogCount=function(){return t.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogCount=function(e){return t.Message.setProto3IntField(this,10,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogIntervalUsec=function(){return t.Message.getFieldWithDefault(this,11,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogIntervalUsec=function(e){return t.Message.setProto3IntField(this,11,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogMarginUsec=function(){return t.Message.getFieldWithDefault(this,12,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogMarginUsec=function(e){return t.Message.setProto3IntField(this,12,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogDurationEvents=function(){return t.Message.getBooleanFieldWithDefault(this,13,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogDurationEvents=function(e){return t.Message.setProto3BooleanField(this,13,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogIntervalCount=function(){return t.Message.getFieldWithDefault(this,14,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogIntervalCount=function(e){return t.Message.setProto3IntField(this,14,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogDisabled=function(){return t.Message.getBooleanFieldWithDefault(this,15,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogDisabled=function(e){return t.Message.setProto3BooleanField(this,15,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceEnabled=function(){return t.Message.getBooleanFieldWithDefault(this,16,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceEnabled=function(e){return t.Message.setProto3BooleanField(this,16,e)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogInstantEvents=function(){return t.Message.getBooleanFieldWithDefault(this,17,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogInstantEvents=function(e){return t.Message.setProto3BooleanField(this,17,e)},proto.mediapipe.ProfilerConfig.prototype.getCalculatorFilter=function(){return t.Message.getFieldWithDefault(this,18,"")},proto.mediapipe.ProfilerConfig.prototype.setCalculatorFilter=function(e){return t.Message.setProto3StringField(this,18,e)},proto.mediapipe.CalculatorGraphConfig.repeatedFields_=[1,6,7,9,10,15,16,17,14,1002],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorGraphConfig.prototype.toObject=function(e){return proto.mediapipe.CalculatorGraphConfig.toObject(e,this)},proto.mediapipe.CalculatorGraphConfig.toObject=function(e,r){var n,i={nodeList:t.Message.toObjectList(r.getNodeList(),proto.mediapipe.CalculatorGraphConfig.Node.toObject,e),packetFactoryList:t.Message.toObjectList(r.getPacketFactoryList(),s.PacketFactoryConfig.toObject,e),packetGeneratorList:t.Message.toObjectList(r.getPacketGeneratorList(),p.PacketGeneratorConfig.toObject,e),numThreads:t.Message.getFieldWithDefault(r,8,0),statusHandlerList:t.Message.toObjectList(r.getStatusHandlerList(),d.StatusHandlerConfig.toObject,e),inputStreamList:null==(n=t.Message.getRepeatedField(r,10))?void 0:n,outputStreamList:null==(n=t.Message.getRepeatedField(r,15))?void 0:n,inputSidePacketList:null==(n=t.Message.getRepeatedField(r,16))?void 0:n,outputSidePacketList:null==(n=t.Message.getRepeatedField(r,17))?void 0:n,maxQueueSize:t.Message.getFieldWithDefault(r,11,0),reportDeadlock:t.Message.getBooleanFieldWithDefault(r,21,!1),inputStreamHandler:(n=r.getInputStreamHandler())&&l.InputStreamHandlerConfig.toObject(e,n),outputStreamHandler:(n=r.getOutputStreamHandler())&&l.OutputStreamHandlerConfig.toObject(e,n),executorList:t.Message.toObjectList(r.getExecutorList(),proto.mediapipe.ExecutorConfig.toObject,e),profilerConfig:(n=r.getProfilerConfig())&&proto.mediapipe.ProfilerConfig.toObject(e,n),pb_package:t.Message.getFieldWithDefault(r,19,""),type:t.Message.getFieldWithDefault(r,20,""),options:(n=r.getOptions())&&o.MediaPipeOptions.toObject(e,n),graphOptionsList:t.Message.toObjectList(r.getGraphOptionsList(),a.Any.toObject,e)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.CalculatorGraphConfig.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.CalculatorGraphConfig;return proto.mediapipe.CalculatorGraphConfig.deserializeBinaryFromReader(n,r)},proto.mediapipe.CalculatorGraphConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.CalculatorGraphConfig.Node;t.readMessage(r,proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader),e.addNode(r);break;case 6:r=new s.PacketFactoryConfig,t.readMessage(r,s.PacketFactoryConfig.deserializeBinaryFromReader),e.addPacketFactory(r);break;case 7:r=new p.PacketGeneratorConfig,t.readMessage(r,p.PacketGeneratorConfig.deserializeBinaryFromReader),e.addPacketGenerator(r);break;case 8:r=t.readInt32(),e.setNumThreads(r);break;case 9:r=new d.StatusHandlerConfig,t.readMessage(r,d.StatusHandlerConfig.deserializeBinaryFromReader),e.addStatusHandler(r);break;case 10:r=t.readString(),e.addInputStream(r);break;case 15:r=t.readString(),e.addOutputStream(r);break;case 16:r=t.readString(),e.addInputSidePacket(r);break;case 17:r=t.readString(),e.addOutputSidePacket(r);break;case 11:r=t.readInt32(),e.setMaxQueueSize(r);break;case 21:r=t.readBool(),e.setReportDeadlock(r);break;case 12:r=new l.InputStreamHandlerConfig,t.readMessage(r,l.InputStreamHandlerConfig.deserializeBinaryFromReader),e.setInputStreamHandler(r);break;case 13:r=new l.OutputStreamHandlerConfig,t.readMessage(r,l.OutputStreamHandlerConfig.deserializeBinaryFromReader),e.setOutputStreamHandler(r);break;case 14:r=new proto.mediapipe.ExecutorConfig,t.readMessage(r,proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader),e.addExecutor(r);break;case 18:r=new proto.mediapipe.ProfilerConfig,t.readMessage(r,proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader),e.setProfilerConfig(r);break;case 19:r=t.readString(),e.setPackage(r);break;case 20:r=t.readString(),e.setType(r);break;case 1001:r=new o.MediaPipeOptions,t.readMessage(r,o.MediaPipeOptions.deserializeBinaryFromReader),e.setOptions(r);break;case 1002:r=new a.Any,t.readMessage(r,a.Any.deserializeBinaryFromReader),e.addGraphOptions(r);break;default:t.skipField()}return e},proto.mediapipe.CalculatorGraphConfig.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.CalculatorGraphConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.CalculatorGraphConfig.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getNodeList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter),(r=e.getPacketFactoryList()).length>0&&t.writeRepeatedMessage(6,r,s.PacketFactoryConfig.serializeBinaryToWriter),(r=e.getPacketGeneratorList()).length>0&&t.writeRepeatedMessage(7,r,p.PacketGeneratorConfig.serializeBinaryToWriter),0!==(r=e.getNumThreads())&&t.writeInt32(8,r),(r=e.getStatusHandlerList()).length>0&&t.writeRepeatedMessage(9,r,d.StatusHandlerConfig.serializeBinaryToWriter),(r=e.getInputStreamList()).length>0&&t.writeRepeatedString(10,r),(r=e.getOutputStreamList()).length>0&&t.writeRepeatedString(15,r),(r=e.getInputSidePacketList()).length>0&&t.writeRepeatedString(16,r),(r=e.getOutputSidePacketList()).length>0&&t.writeRepeatedString(17,r),0!==(r=e.getMaxQueueSize())&&t.writeInt32(11,r),(r=e.getReportDeadlock())&&t.writeBool(21,r),null!=(r=e.getInputStreamHandler())&&t.writeMessage(12,r,l.InputStreamHandlerConfig.serializeBinaryToWriter),null!=(r=e.getOutputStreamHandler())&&t.writeMessage(13,r,l.OutputStreamHandlerConfig.serializeBinaryToWriter),(r=e.getExecutorList()).length>0&&t.writeRepeatedMessage(14,r,proto.mediapipe.ExecutorConfig.serializeBinaryToWriter),null!=(r=e.getProfilerConfig())&&t.writeMessage(18,r,proto.mediapipe.ProfilerConfig.serializeBinaryToWriter),(r=e.getPackage()).length>0&&t.writeString(19,r),(r=e.getType()).length>0&&t.writeString(20,r),null!=(r=e.getOptions())&&t.writeMessage(1001,r,o.MediaPipeOptions.serializeBinaryToWriter),(r=e.getGraphOptionsList()).length>0&&t.writeRepeatedMessage(1002,r,a.Any.serializeBinaryToWriter)},proto.mediapipe.CalculatorGraphConfig.Node.repeatedFields_=[3,4,5,6,8,13,17,1005],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorGraphConfig.Node.prototype.toObject=function(e){return proto.mediapipe.CalculatorGraphConfig.Node.toObject(e,this)},proto.mediapipe.CalculatorGraphConfig.Node.toObject=function(e,r){var n,o={name:t.Message.getFieldWithDefault(r,1,""),calculator:t.Message.getFieldWithDefault(r,2,""),inputStreamList:null==(n=t.Message.getRepeatedField(r,3))?void 0:n,outputStreamList:null==(n=t.Message.getRepeatedField(r,4))?void 0:n,inputSidePacketList:null==(n=t.Message.getRepeatedField(r,5))?void 0:n,outputSidePacketList:null==(n=t.Message.getRepeatedField(r,6))?void 0:n,options:(n=r.getOptions())&&i.CalculatorOptions.toObject(e,n),nodeOptionsList:t.Message.toObjectList(r.getNodeOptionsList(),a.Any.toObject,e),sourceLayer:t.Message.getFieldWithDefault(r,9,0),bufferSizeHint:t.Message.getFieldWithDefault(r,10,0),inputStreamHandler:(n=r.getInputStreamHandler())&&l.InputStreamHandlerConfig.toObject(e,n),outputStreamHandler:(n=r.getOutputStreamHandler())&&l.OutputStreamHandlerConfig.toObject(e,n),inputStreamInfoList:t.Message.toObjectList(r.getInputStreamInfoList(),proto.mediapipe.InputStreamInfo.toObject,e),executor:t.Message.getFieldWithDefault(r,14,""),profilerConfig:(n=r.getProfilerConfig())&&proto.mediapipe.ProfilerConfig.toObject(e,n),maxInFlight:t.Message.getFieldWithDefault(r,16,0),optionValueList:null==(n=t.Message.getRepeatedField(r,17))?void 0:n,externalInputList:null==(n=t.Message.getRepeatedField(r,1005))?void 0:n};return e&&(o.$jspbMessageInstance=r),o}),proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.CalculatorGraphConfig.Node;return proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader(n,r)},proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readString(),e.setCalculator(r);break;case 3:r=t.readString(),e.addInputStream(r);break;case 4:r=t.readString(),e.addOutputStream(r);break;case 5:r=t.readString(),e.addInputSidePacket(r);break;case 6:r=t.readString(),e.addOutputSidePacket(r);break;case 7:r=new i.CalculatorOptions,t.readMessage(r,i.CalculatorOptions.deserializeBinaryFromReader),e.setOptions(r);break;case 8:r=new a.Any,t.readMessage(r,a.Any.deserializeBinaryFromReader),e.addNodeOptions(r);break;case 9:r=t.readInt32(),e.setSourceLayer(r);break;case 10:r=t.readInt32(),e.setBufferSizeHint(r);break;case 11:r=new l.InputStreamHandlerConfig,t.readMessage(r,l.InputStreamHandlerConfig.deserializeBinaryFromReader),e.setInputStreamHandler(r);break;case 12:r=new l.OutputStreamHandlerConfig,t.readMessage(r,l.OutputStreamHandlerConfig.deserializeBinaryFromReader),e.setOutputStreamHandler(r);break;case 13:r=new proto.mediapipe.InputStreamInfo,t.readMessage(r,proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader),e.addInputStreamInfo(r);break;case 14:r=t.readString(),e.setExecutor(r);break;case 15:r=new proto.mediapipe.ProfilerConfig,t.readMessage(r,proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader),e.setProfilerConfig(r);break;case 16:r=t.readInt32(),e.setMaxInFlight(r);break;case 17:r=t.readString(),e.addOptionValue(r);break;case 1005:r=t.readString(),e.addExternalInput(r);break;default:t.skipField()}return e},proto.mediapipe.CalculatorGraphConfig.Node.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r),(r=e.getCalculator()).length>0&&t.writeString(2,r),(r=e.getInputStreamList()).length>0&&t.writeRepeatedString(3,r),(r=e.getOutputStreamList()).length>0&&t.writeRepeatedString(4,r),(r=e.getInputSidePacketList()).length>0&&t.writeRepeatedString(5,r),(r=e.getOutputSidePacketList()).length>0&&t.writeRepeatedString(6,r),null!=(r=e.getOptions())&&t.writeMessage(7,r,i.CalculatorOptions.serializeBinaryToWriter),(r=e.getNodeOptionsList()).length>0&&t.writeRepeatedMessage(8,r,a.Any.serializeBinaryToWriter),0!==(r=e.getSourceLayer())&&t.writeInt32(9,r),0!==(r=e.getBufferSizeHint())&&t.writeInt32(10,r),null!=(r=e.getInputStreamHandler())&&t.writeMessage(11,r,l.InputStreamHandlerConfig.serializeBinaryToWriter),null!=(r=e.getOutputStreamHandler())&&t.writeMessage(12,r,l.OutputStreamHandlerConfig.serializeBinaryToWriter),(r=e.getInputStreamInfoList()).length>0&&t.writeRepeatedMessage(13,r,proto.mediapipe.InputStreamInfo.serializeBinaryToWriter),(r=e.getExecutor()).length>0&&t.writeString(14,r),null!=(r=e.getProfilerConfig())&&t.writeMessage(15,r,proto.mediapipe.ProfilerConfig.serializeBinaryToWriter),0!==(r=e.getMaxInFlight())&&t.writeInt32(16,r),(r=e.getOptionValueList()).length>0&&t.writeRepeatedString(17,r),(r=e.getExternalInputList()).length>0&&t.writeRepeatedString(1005,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getName=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setName=function(e){return t.Message.setProto3StringField(this,1,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getCalculator=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setCalculator=function(e){return t.Message.setProto3StringField(this,2,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamList=function(){return t.Message.getRepeatedField(this,3)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamList=function(e){return t.Message.setField(this,3,e||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputStream=function(e,r){return t.Message.addToRepeatedField(this,3,e,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamList=function(){return this.setInputStreamList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputStreamList=function(){return t.Message.getRepeatedField(this,4)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputStreamList=function(e){return t.Message.setField(this,4,e||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOutputStream=function(e,r){return t.Message.addToRepeatedField(this,4,e,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputStreamList=function(){return this.setOutputStreamList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputSidePacketList=function(){return t.Message.getRepeatedField(this,5)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputSidePacketList=function(e){return t.Message.setField(this,5,e||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputSidePacket=function(e,r){return t.Message.addToRepeatedField(this,5,e,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputSidePacketList=function(){return t.Message.getRepeatedField(this,6)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputSidePacketList=function(e){return t.Message.setField(this,6,e||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOutputSidePacket=function(e,r){return t.Message.addToRepeatedField(this,6,e,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOptions=function(){return t.Message.getWrapperField(this,i.CalculatorOptions,7)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOptions=function(e){return t.Message.setWrapperField(this,7,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasOptions=function(){return null!=t.Message.getField(this,7)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getNodeOptionsList=function(){return t.Message.getRepeatedWrapperField(this,a.Any,8)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setNodeOptionsList=function(e){return t.Message.setRepeatedWrapperField(this,8,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addNodeOptions=function(e,r){return t.Message.addToRepeatedWrapperField(this,8,e,proto.google.protobuf.Any,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearNodeOptionsList=function(){return this.setNodeOptionsList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getSourceLayer=function(){return t.Message.getFieldWithDefault(this,9,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setSourceLayer=function(e){return t.Message.setProto3IntField(this,9,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getBufferSizeHint=function(){return t.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setBufferSizeHint=function(e){return t.Message.setProto3IntField(this,10,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamHandler=function(){return t.Message.getWrapperField(this,l.InputStreamHandlerConfig,11)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamHandler=function(e){return t.Message.setWrapperField(this,11,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamHandler=function(){return this.setInputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasInputStreamHandler=function(){return null!=t.Message.getField(this,11)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputStreamHandler=function(){return t.Message.getWrapperField(this,l.OutputStreamHandlerConfig,12)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputStreamHandler=function(e){return t.Message.setWrapperField(this,12,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputStreamHandler=function(){return this.setOutputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasOutputStreamHandler=function(){return null!=t.Message.getField(this,12)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamInfoList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.InputStreamInfo,13)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamInfoList=function(e){return t.Message.setRepeatedWrapperField(this,13,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputStreamInfo=function(e,r){return t.Message.addToRepeatedWrapperField(this,13,e,proto.mediapipe.InputStreamInfo,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamInfoList=function(){return this.setInputStreamInfoList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getExecutor=function(){return t.Message.getFieldWithDefault(this,14,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setExecutor=function(e){return t.Message.setProto3StringField(this,14,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getProfilerConfig=function(){return t.Message.getWrapperField(this,proto.mediapipe.ProfilerConfig,15)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setProfilerConfig=function(e){return t.Message.setWrapperField(this,15,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearProfilerConfig=function(){return this.setProfilerConfig(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasProfilerConfig=function(){return null!=t.Message.getField(this,15)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getMaxInFlight=function(){return t.Message.getFieldWithDefault(this,16,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setMaxInFlight=function(e){return t.Message.setProto3IntField(this,16,e)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOptionValueList=function(){return t.Message.getRepeatedField(this,17)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOptionValueList=function(e){return t.Message.setField(this,17,e||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOptionValue=function(e,r){return t.Message.addToRepeatedField(this,17,e,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOptionValueList=function(){return this.setOptionValueList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getExternalInputList=function(){return t.Message.getRepeatedField(this,1005)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setExternalInputList=function(e){return t.Message.setField(this,1005,e||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addExternalInput=function(e,r){return t.Message.addToRepeatedField(this,1005,e,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getNodeList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.CalculatorGraphConfig.Node,1)},proto.mediapipe.CalculatorGraphConfig.prototype.setNodeList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.CalculatorGraphConfig.prototype.addNode=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.CalculatorGraphConfig.Node,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearNodeList=function(){return this.setNodeList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getPacketFactoryList=function(){return t.Message.getRepeatedWrapperField(this,s.PacketFactoryConfig,6)},proto.mediapipe.CalculatorGraphConfig.prototype.setPacketFactoryList=function(e){return t.Message.setRepeatedWrapperField(this,6,e)},proto.mediapipe.CalculatorGraphConfig.prototype.addPacketFactory=function(e,r){return t.Message.addToRepeatedWrapperField(this,6,e,proto.mediapipe.PacketFactoryConfig,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearPacketFactoryList=function(){return this.setPacketFactoryList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getPacketGeneratorList=function(){return t.Message.getRepeatedWrapperField(this,p.PacketGeneratorConfig,7)},proto.mediapipe.CalculatorGraphConfig.prototype.setPacketGeneratorList=function(e){return t.Message.setRepeatedWrapperField(this,7,e)},proto.mediapipe.CalculatorGraphConfig.prototype.addPacketGenerator=function(e,r){return t.Message.addToRepeatedWrapperField(this,7,e,proto.mediapipe.PacketGeneratorConfig,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearPacketGeneratorList=function(){return this.setPacketGeneratorList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getNumThreads=function(){return t.Message.getFieldWithDefault(this,8,0)},proto.mediapipe.CalculatorGraphConfig.prototype.setNumThreads=function(e){return t.Message.setProto3IntField(this,8,e)},proto.mediapipe.CalculatorGraphConfig.prototype.getStatusHandlerList=function(){return t.Message.getRepeatedWrapperField(this,d.StatusHandlerConfig,9)},proto.mediapipe.CalculatorGraphConfig.prototype.setStatusHandlerList=function(e){return t.Message.setRepeatedWrapperField(this,9,e)},proto.mediapipe.CalculatorGraphConfig.prototype.addStatusHandler=function(e,r){return t.Message.addToRepeatedWrapperField(this,9,e,proto.mediapipe.StatusHandlerConfig,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearStatusHandlerList=function(){return this.setStatusHandlerList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getInputStreamList=function(){return t.Message.getRepeatedField(this,10)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputStreamList=function(e){return t.Message.setField(this,10,e||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addInputStream=function(e,r){return t.Message.addToRepeatedField(this,10,e,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputStreamList=function(){return this.setInputStreamList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputStreamList=function(){return t.Message.getRepeatedField(this,15)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputStreamList=function(e){return t.Message.setField(this,15,e||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addOutputStream=function(e,r){return t.Message.addToRepeatedField(this,15,e,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputStreamList=function(){return this.setOutputStreamList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getInputSidePacketList=function(){return t.Message.getRepeatedField(this,16)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputSidePacketList=function(e){return t.Message.setField(this,16,e||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addInputSidePacket=function(e,r){return t.Message.addToRepeatedField(this,16,e,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputSidePacketList=function(){return t.Message.getRepeatedField(this,17)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputSidePacketList=function(e){return t.Message.setField(this,17,e||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addOutputSidePacket=function(e,r){return t.Message.addToRepeatedField(this,17,e,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getMaxQueueSize=function(){return t.Message.getFieldWithDefault(this,11,0)},proto.mediapipe.CalculatorGraphConfig.prototype.setMaxQueueSize=function(e){return t.Message.setProto3IntField(this,11,e)},proto.mediapipe.CalculatorGraphConfig.prototype.getReportDeadlock=function(){return t.Message.getBooleanFieldWithDefault(this,21,!1)},proto.mediapipe.CalculatorGraphConfig.prototype.setReportDeadlock=function(e){return t.Message.setProto3BooleanField(this,21,e)},proto.mediapipe.CalculatorGraphConfig.prototype.getInputStreamHandler=function(){return t.Message.getWrapperField(this,l.InputStreamHandlerConfig,12)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputStreamHandler=function(e){return t.Message.setWrapperField(this,12,e)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputStreamHandler=function(){return this.setInputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasInputStreamHandler=function(){return null!=t.Message.getField(this,12)},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputStreamHandler=function(){return t.Message.getWrapperField(this,l.OutputStreamHandlerConfig,13)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputStreamHandler=function(e){return t.Message.setWrapperField(this,13,e)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputStreamHandler=function(){return this.setOutputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasOutputStreamHandler=function(){return null!=t.Message.getField(this,13)},proto.mediapipe.CalculatorGraphConfig.prototype.getExecutorList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.ExecutorConfig,14)},proto.mediapipe.CalculatorGraphConfig.prototype.setExecutorList=function(e){return t.Message.setRepeatedWrapperField(this,14,e)},proto.mediapipe.CalculatorGraphConfig.prototype.addExecutor=function(e,r){return t.Message.addToRepeatedWrapperField(this,14,e,proto.mediapipe.ExecutorConfig,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearExecutorList=function(){return this.setExecutorList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getProfilerConfig=function(){return t.Message.getWrapperField(this,proto.mediapipe.ProfilerConfig,18)},proto.mediapipe.CalculatorGraphConfig.prototype.setProfilerConfig=function(e){return t.Message.setWrapperField(this,18,e)},proto.mediapipe.CalculatorGraphConfig.prototype.clearProfilerConfig=function(){return this.setProfilerConfig(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasProfilerConfig=function(){return null!=t.Message.getField(this,18)},proto.mediapipe.CalculatorGraphConfig.prototype.getPackage=function(){return t.Message.getFieldWithDefault(this,19,"")},proto.mediapipe.CalculatorGraphConfig.prototype.setPackage=function(e){return t.Message.setProto3StringField(this,19,e)},proto.mediapipe.CalculatorGraphConfig.prototype.getType=function(){return t.Message.getFieldWithDefault(this,20,"")},proto.mediapipe.CalculatorGraphConfig.prototype.setType=function(e){return t.Message.setProto3StringField(this,20,e)},proto.mediapipe.CalculatorGraphConfig.prototype.getOptions=function(){return t.Message.getWrapperField(this,o.MediaPipeOptions,1001)},proto.mediapipe.CalculatorGraphConfig.prototype.setOptions=function(e){return t.Message.setWrapperField(this,1001,e)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasOptions=function(){return null!=t.Message.getField(this,1001)},proto.mediapipe.CalculatorGraphConfig.prototype.getGraphOptionsList=function(){return t.Message.getRepeatedWrapperField(this,a.Any,1002)},proto.mediapipe.CalculatorGraphConfig.prototype.setGraphOptionsList=function(e){return t.Message.setRepeatedWrapperField(this,1002,e)},proto.mediapipe.CalculatorGraphConfig.prototype.addGraphOptions=function(e,r){return t.Message.addToRepeatedWrapperField(this,1002,e,proto.google.protobuf.Any,r)},proto.mediapipe.CalculatorGraphConfig.prototype.clearGraphOptionsList=function(){return this.setGraphOptionsList([])},r.object.extend(e,proto.mediapipe)}(calculator_pb);var detection_pb={},location_data_pb={},rasterization_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.Rasterization",null,n),r.exportSymbol("proto.mediapipe.Rasterization.Interval",null,n),proto.mediapipe.Rasterization=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.Rasterization.repeatedFields_,null)},r.inherits(proto.mediapipe.Rasterization,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Rasterization.displayName="proto.mediapipe.Rasterization"),proto.mediapipe.Rasterization.Interval=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.Rasterization.Interval,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Rasterization.Interval.displayName="proto.mediapipe.Rasterization.Interval"),proto.mediapipe.Rasterization.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rasterization.prototype.toObject=function(e){return proto.mediapipe.Rasterization.toObject(e,this)},proto.mediapipe.Rasterization.toObject=function(e,r){var n={intervalList:t.Message.toObjectList(r.getIntervalList(),proto.mediapipe.Rasterization.Interval.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.Rasterization.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.Rasterization;return proto.mediapipe.Rasterization.deserializeBinaryFromReader(n,r)},proto.mediapipe.Rasterization.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.Rasterization.Interval;t.readMessage(r,proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader),e.addInterval(r)}else t.skipField();return e},proto.mediapipe.Rasterization.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.Rasterization.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.Rasterization.serializeBinaryToWriter=function(e,t){var r;(r=e.getIntervalList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rasterization.Interval.prototype.toObject=function(e){return proto.mediapipe.Rasterization.Interval.toObject(e,this)},proto.mediapipe.Rasterization.Interval.toObject=function(e,r){var n,i={y:null==(n=t.Message.getField(r,1))?void 0:n,leftX:null==(n=t.Message.getField(r,2))?void 0:n,rightX:null==(n=t.Message.getField(r,3))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.Rasterization.Interval.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.Rasterization.Interval;return proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader(n,r)},proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setY(r);break;case 2:r=t.readInt32(),e.setLeftX(r);break;case 3:r=t.readInt32(),e.setRightX(r);break;default:t.skipField()}return e},proto.mediapipe.Rasterization.Interval.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n)},proto.mediapipe.Rasterization.Interval.prototype.getY=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Rasterization.Interval.prototype.setY=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.Rasterization.Interval.prototype.clearY=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasY=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.Rasterization.Interval.prototype.getLeftX=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Rasterization.Interval.prototype.setLeftX=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.Rasterization.Interval.prototype.clearLeftX=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasLeftX=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.Rasterization.Interval.prototype.getRightX=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Rasterization.Interval.prototype.setRightX=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.Rasterization.Interval.prototype.clearRightX=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasRightX=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.Rasterization.prototype.getIntervalList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.Rasterization.Interval,1)},proto.mediapipe.Rasterization.prototype.setIntervalList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.Rasterization.prototype.addInterval=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.Rasterization.Interval,r)},proto.mediapipe.Rasterization.prototype.clearIntervalList=function(){return this.setIntervalList([])},r.object.extend(e,proto.mediapipe)}(rasterization_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=rasterization_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.LocationData",null,n),r.exportSymbol("proto.mediapipe.LocationData.BinaryMask",null,n),r.exportSymbol("proto.mediapipe.LocationData.BoundingBox",null,n),r.exportSymbol("proto.mediapipe.LocationData.Format",null,n),r.exportSymbol("proto.mediapipe.LocationData.RelativeBoundingBox",null,n),r.exportSymbol("proto.mediapipe.LocationData.RelativeKeypoint",null,n),proto.mediapipe.LocationData=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.LocationData.repeatedFields_,null)},r.inherits(proto.mediapipe.LocationData,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.displayName="proto.mediapipe.LocationData"),proto.mediapipe.LocationData.BoundingBox=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.LocationData.BoundingBox,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.BoundingBox.displayName="proto.mediapipe.LocationData.BoundingBox"),proto.mediapipe.LocationData.RelativeBoundingBox=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.LocationData.RelativeBoundingBox,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.RelativeBoundingBox.displayName="proto.mediapipe.LocationData.RelativeBoundingBox"),proto.mediapipe.LocationData.BinaryMask=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.LocationData.BinaryMask,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.BinaryMask.displayName="proto.mediapipe.LocationData.BinaryMask"),proto.mediapipe.LocationData.RelativeKeypoint=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.LocationData.RelativeKeypoint,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.RelativeKeypoint.displayName="proto.mediapipe.LocationData.RelativeKeypoint"),proto.mediapipe.LocationData.repeatedFields_=[5],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.prototype.toObject=function(e){return proto.mediapipe.LocationData.toObject(e,this)},proto.mediapipe.LocationData.toObject=function(e,r){var n,i={format:null==(n=t.Message.getField(r,1))?void 0:n,boundingBox:(n=r.getBoundingBox())&&proto.mediapipe.LocationData.BoundingBox.toObject(e,n),relativeBoundingBox:(n=r.getRelativeBoundingBox())&&proto.mediapipe.LocationData.RelativeBoundingBox.toObject(e,n),mask:(n=r.getMask())&&proto.mediapipe.LocationData.BinaryMask.toObject(e,n),relativeKeypointsList:t.Message.toObjectList(r.getRelativeKeypointsList(),proto.mediapipe.LocationData.RelativeKeypoint.toObject,e)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.LocationData.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.LocationData;return proto.mediapipe.LocationData.deserializeBinaryFromReader(n,r)},proto.mediapipe.LocationData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readEnum();e.setFormat(r);break;case 2:r=new proto.mediapipe.LocationData.BoundingBox,t.readMessage(r,proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader),e.setBoundingBox(r);break;case 3:r=new proto.mediapipe.LocationData.RelativeBoundingBox,t.readMessage(r,proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader),e.setRelativeBoundingBox(r);break;case 4:r=new proto.mediapipe.LocationData.BinaryMask,t.readMessage(r,proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader),e.setMask(r);break;case 5:r=new proto.mediapipe.LocationData.RelativeKeypoint,t.readMessage(r,proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader),e.addRelativeKeypoints(r);break;default:t.skipField()}return e},proto.mediapipe.LocationData.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.LocationData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.LocationData.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeEnum(1,n),null!=(n=e.getBoundingBox())&&r.writeMessage(2,n,proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter),null!=(n=e.getRelativeBoundingBox())&&r.writeMessage(3,n,proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter),null!=(n=e.getMask())&&r.writeMessage(4,n,proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter),(n=e.getRelativeKeypointsList()).length>0&&r.writeRepeatedMessage(5,n,proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter)},proto.mediapipe.LocationData.Format={GLOBAL:0,BOUNDING_BOX:1,RELATIVE_BOUNDING_BOX:2,MASK:3},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.BoundingBox.prototype.toObject=function(e){return proto.mediapipe.LocationData.BoundingBox.toObject(e,this)},proto.mediapipe.LocationData.BoundingBox.toObject=function(e,r){var n,i={xmin:null==(n=t.Message.getField(r,1))?void 0:n,ymin:null==(n=t.Message.getField(r,2))?void 0:n,width:null==(n=t.Message.getField(r,3))?void 0:n,height:null==(n=t.Message.getField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.LocationData.BoundingBox.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.LocationData.BoundingBox;return proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader(n,r)},proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setXmin(r);break;case 2:r=t.readInt32(),e.setYmin(r);break;case 3:r=t.readInt32(),e.setWidth(r);break;case 4:r=t.readInt32(),e.setHeight(r);break;default:t.skipField()}return e},proto.mediapipe.LocationData.BoundingBox.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n),null!=(n=t.Message.getField(e,4))&&r.writeInt32(4,n)},proto.mediapipe.LocationData.BoundingBox.prototype.getXmin=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setXmin=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.LocationData.BoundingBox.prototype.clearXmin=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasXmin=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.LocationData.BoundingBox.prototype.getYmin=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setYmin=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.LocationData.BoundingBox.prototype.clearYmin=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasYmin=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.LocationData.BoundingBox.prototype.getWidth=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setWidth=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.LocationData.BoundingBox.prototype.clearWidth=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasWidth=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.LocationData.BoundingBox.prototype.getHeight=function(){return t.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setHeight=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.LocationData.BoundingBox.prototype.clearHeight=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasHeight=function(){return null!=t.Message.getField(this,4)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.RelativeBoundingBox.prototype.toObject=function(e){return proto.mediapipe.LocationData.RelativeBoundingBox.toObject(e,this)},proto.mediapipe.LocationData.RelativeBoundingBox.toObject=function(e,r){var n,i={xmin:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,ymin:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,width:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,height:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.LocationData.RelativeBoundingBox;return proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader(n,r)},proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readFloat();e.setXmin(r);break;case 2:r=t.readFloat(),e.setYmin(r);break;case 3:r=t.readFloat(),e.setWidth(r);break;case 4:r=t.readFloat(),e.setHeight(r);break;default:t.skipField()}return e},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeFloat(1,n),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeFloat(3,n),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getXmin=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setXmin=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearXmin=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasXmin=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getYmin=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setYmin=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearYmin=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasYmin=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getWidth=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setWidth=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearWidth=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasWidth=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getHeight=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setHeight=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearHeight=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasHeight=function(){return null!=t.Message.getField(this,4)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.BinaryMask.prototype.toObject=function(e){return proto.mediapipe.LocationData.BinaryMask.toObject(e,this)},proto.mediapipe.LocationData.BinaryMask.toObject=function(e,r){var n,a={width:null==(n=t.Message.getField(r,1))?void 0:n,height:null==(n=t.Message.getField(r,2))?void 0:n,rasterization:(n=r.getRasterization())&&i.Rasterization.toObject(e,n)};return e&&(a.$jspbMessageInstance=r),a}),proto.mediapipe.LocationData.BinaryMask.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.LocationData.BinaryMask;return proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader(n,r)},proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setWidth(r);break;case 2:r=t.readInt32(),e.setHeight(r);break;case 3:r=new i.Rasterization,t.readMessage(r,i.Rasterization.deserializeBinaryFromReader),e.setRasterization(r);break;default:t.skipField()}return e},proto.mediapipe.LocationData.BinaryMask.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=e.getRasterization())&&r.writeMessage(3,n,i.Rasterization.serializeBinaryToWriter)},proto.mediapipe.LocationData.BinaryMask.prototype.getWidth=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.BinaryMask.prototype.setWidth=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.LocationData.BinaryMask.prototype.clearWidth=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasWidth=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.LocationData.BinaryMask.prototype.getHeight=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.BinaryMask.prototype.setHeight=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.LocationData.BinaryMask.prototype.clearHeight=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasHeight=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.LocationData.BinaryMask.prototype.getRasterization=function(){return t.Message.getWrapperField(this,i.Rasterization,3)},proto.mediapipe.LocationData.BinaryMask.prototype.setRasterization=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.LocationData.BinaryMask.prototype.clearRasterization=function(){return this.setRasterization(void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasRasterization=function(){return null!=t.Message.getField(this,3)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.RelativeKeypoint.prototype.toObject=function(e){return proto.mediapipe.LocationData.RelativeKeypoint.toObject(e,this)},proto.mediapipe.LocationData.RelativeKeypoint.toObject=function(e,r){var n,i={x:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,y:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,keypointLabel:null==(n=t.Message.getField(r,3))?void 0:n,score:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.LocationData.RelativeKeypoint;return proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader(n,r)},proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readFloat();e.setX(r);break;case 2:r=t.readFloat(),e.setY(r);break;case 3:r=t.readString(),e.setKeypointLabel(r);break;case 4:r=t.readFloat(),e.setScore(r);break;default:t.skipField()}return e},proto.mediapipe.LocationData.RelativeKeypoint.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeFloat(1,n),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeString(3,n),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getX=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setX=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearX=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasX=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getY=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setY=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearY=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasY=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getKeypointLabel=function(){return t.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setKeypointLabel=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearKeypointLabel=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasKeypointLabel=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getScore=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setScore=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearScore=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasScore=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.LocationData.prototype.getFormat=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.prototype.setFormat=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.LocationData.prototype.clearFormat=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.prototype.hasFormat=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.LocationData.prototype.getBoundingBox=function(){return t.Message.getWrapperField(this,proto.mediapipe.LocationData.BoundingBox,2)},proto.mediapipe.LocationData.prototype.setBoundingBox=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.LocationData.prototype.clearBoundingBox=function(){return this.setBoundingBox(void 0)},proto.mediapipe.LocationData.prototype.hasBoundingBox=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.LocationData.prototype.getRelativeBoundingBox=function(){return t.Message.getWrapperField(this,proto.mediapipe.LocationData.RelativeBoundingBox,3)},proto.mediapipe.LocationData.prototype.setRelativeBoundingBox=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.LocationData.prototype.clearRelativeBoundingBox=function(){return this.setRelativeBoundingBox(void 0)},proto.mediapipe.LocationData.prototype.hasRelativeBoundingBox=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.LocationData.prototype.getMask=function(){return t.Message.getWrapperField(this,proto.mediapipe.LocationData.BinaryMask,4)},proto.mediapipe.LocationData.prototype.setMask=function(e){return t.Message.setWrapperField(this,4,e)},proto.mediapipe.LocationData.prototype.clearMask=function(){return this.setMask(void 0)},proto.mediapipe.LocationData.prototype.hasMask=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.LocationData.prototype.getRelativeKeypointsList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.LocationData.RelativeKeypoint,5)},proto.mediapipe.LocationData.prototype.setRelativeKeypointsList=function(e){return t.Message.setRepeatedWrapperField(this,5,e)},proto.mediapipe.LocationData.prototype.addRelativeKeypoints=function(e,r){return t.Message.addToRepeatedWrapperField(this,5,e,proto.mediapipe.LocationData.RelativeKeypoint,r)},proto.mediapipe.LocationData.prototype.clearRelativeKeypointsList=function(){return this.setRelativeKeypointsList([])},r.object.extend(e,proto.mediapipe)}(location_data_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=location_data_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.Detection",null,n),r.exportSymbol("proto.mediapipe.Detection.AssociatedDetection",null,n),r.exportSymbol("proto.mediapipe.DetectionList",null,n),proto.mediapipe.Detection=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.Detection.repeatedFields_,null)},r.inherits(proto.mediapipe.Detection,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Detection.displayName="proto.mediapipe.Detection"),proto.mediapipe.Detection.AssociatedDetection=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.Detection.AssociatedDetection,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Detection.AssociatedDetection.displayName="proto.mediapipe.Detection.AssociatedDetection"),proto.mediapipe.DetectionList=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.DetectionList.repeatedFields_,null)},r.inherits(proto.mediapipe.DetectionList,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.DetectionList.displayName="proto.mediapipe.DetectionList"),proto.mediapipe.Detection.repeatedFields_=[1,2,3,8,9],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Detection.prototype.toObject=function(e){return proto.mediapipe.Detection.toObject(e,this)},proto.mediapipe.Detection.toObject=function(e,r){var n,a={labelList:null==(n=t.Message.getRepeatedField(r,1))?void 0:n,labelIdList:null==(n=t.Message.getRepeatedField(r,2))?void 0:n,scoreList:null==(n=t.Message.getRepeatedFloatingPointField(r,3))?void 0:n,locationData:(n=r.getLocationData())&&i.LocationData.toObject(e,n),featureTag:null==(n=t.Message.getField(r,5))?void 0:n,trackId:null==(n=t.Message.getField(r,6))?void 0:n,detectionId:null==(n=t.Message.getField(r,7))?void 0:n,associatedDetectionsList:t.Message.toObjectList(r.getAssociatedDetectionsList(),proto.mediapipe.Detection.AssociatedDetection.toObject,e),displayNameList:null==(n=t.Message.getRepeatedField(r,9))?void 0:n,timestampUsec:null==(n=t.Message.getField(r,10))?void 0:n};return e&&(a.$jspbMessageInstance=r),a}),proto.mediapipe.Detection.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.Detection;return proto.mediapipe.Detection.deserializeBinaryFromReader(n,r)},proto.mediapipe.Detection.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.addLabel(r);break;case 2:for(var n=t.isDelimited()?t.readPackedInt32():[t.readInt32()],a=0;a<n.length;a++)e.addLabelId(n[a]);break;case 3:for(n=t.isDelimited()?t.readPackedFloat():[t.readFloat()],a=0;a<n.length;a++)e.addScore(n[a]);break;case 4:r=new i.LocationData,t.readMessage(r,i.LocationData.deserializeBinaryFromReader),e.setLocationData(r);break;case 5:r=t.readString(),e.setFeatureTag(r);break;case 6:r=t.readString(),e.setTrackId(r);break;case 7:r=t.readInt64(),e.setDetectionId(r);break;case 8:r=new proto.mediapipe.Detection.AssociatedDetection,t.readMessage(r,proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader),e.addAssociatedDetections(r);break;case 9:r=t.readString(),e.addDisplayName(r);break;case 10:r=t.readInt64(),e.setTimestampUsec(r);break;default:t.skipField()}return e},proto.mediapipe.Detection.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.Detection.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.Detection.serializeBinaryToWriter=function(e,r){var n=void 0;(n=e.getLabelList()).length>0&&r.writeRepeatedString(1,n),(n=e.getLabelIdList()).length>0&&r.writePackedInt32(2,n),(n=e.getScoreList()).length>0&&r.writePackedFloat(3,n),null!=(n=e.getLocationData())&&r.writeMessage(4,n,i.LocationData.serializeBinaryToWriter),null!=(n=t.Message.getField(e,5))&&r.writeString(5,n),null!=(n=t.Message.getField(e,6))&&r.writeString(6,n),null!=(n=t.Message.getField(e,7))&&r.writeInt64(7,n),(n=e.getAssociatedDetectionsList()).length>0&&r.writeRepeatedMessage(8,n,proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter),(n=e.getDisplayNameList()).length>0&&r.writeRepeatedString(9,n),null!=(n=t.Message.getField(e,10))&&r.writeInt64(10,n)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Detection.AssociatedDetection.prototype.toObject=function(e){return proto.mediapipe.Detection.AssociatedDetection.toObject(e,this)},proto.mediapipe.Detection.AssociatedDetection.toObject=function(e,r){var n,i={id:null==(n=t.Message.getField(r,1))?void 0:n,confidence:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.Detection.AssociatedDetection.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.Detection.AssociatedDetection;return proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader(n,r)},proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setId(r);break;case 2:r=t.readFloat(),e.setConfidence(r);break;default:t.skipField()}return e},proto.mediapipe.Detection.AssociatedDetection.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n)},proto.mediapipe.Detection.AssociatedDetection.prototype.getId=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Detection.AssociatedDetection.prototype.setId=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.Detection.AssociatedDetection.prototype.clearId=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.Detection.AssociatedDetection.prototype.hasId=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.Detection.AssociatedDetection.prototype.getConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Detection.AssociatedDetection.prototype.setConfidence=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.Detection.AssociatedDetection.prototype.clearConfidence=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.Detection.AssociatedDetection.prototype.hasConfidence=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.Detection.prototype.getLabelList=function(){return t.Message.getRepeatedField(this,1)},proto.mediapipe.Detection.prototype.setLabelList=function(e){return t.Message.setField(this,1,e||[])},proto.mediapipe.Detection.prototype.addLabel=function(e,r){return t.Message.addToRepeatedField(this,1,e,r)},proto.mediapipe.Detection.prototype.clearLabelList=function(){return this.setLabelList([])},proto.mediapipe.Detection.prototype.getLabelIdList=function(){return t.Message.getRepeatedField(this,2)},proto.mediapipe.Detection.prototype.setLabelIdList=function(e){return t.Message.setField(this,2,e||[])},proto.mediapipe.Detection.prototype.addLabelId=function(e,r){return t.Message.addToRepeatedField(this,2,e,r)},proto.mediapipe.Detection.prototype.clearLabelIdList=function(){return this.setLabelIdList([])},proto.mediapipe.Detection.prototype.getScoreList=function(){return t.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.Detection.prototype.setScoreList=function(e){return t.Message.setField(this,3,e||[])},proto.mediapipe.Detection.prototype.addScore=function(e,r){return t.Message.addToRepeatedField(this,3,e,r)},proto.mediapipe.Detection.prototype.clearScoreList=function(){return this.setScoreList([])},proto.mediapipe.Detection.prototype.getLocationData=function(){return t.Message.getWrapperField(this,i.LocationData,4)},proto.mediapipe.Detection.prototype.setLocationData=function(e){return t.Message.setWrapperField(this,4,e)},proto.mediapipe.Detection.prototype.clearLocationData=function(){return this.setLocationData(void 0)},proto.mediapipe.Detection.prototype.hasLocationData=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.Detection.prototype.getFeatureTag=function(){return t.Message.getFieldWithDefault(this,5,"")},proto.mediapipe.Detection.prototype.setFeatureTag=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.Detection.prototype.clearFeatureTag=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.Detection.prototype.hasFeatureTag=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.Detection.prototype.getTrackId=function(){return t.Message.getFieldWithDefault(this,6,"")},proto.mediapipe.Detection.prototype.setTrackId=function(e){return t.Message.setField(this,6,e)},proto.mediapipe.Detection.prototype.clearTrackId=function(){return t.Message.setField(this,6,void 0)},proto.mediapipe.Detection.prototype.hasTrackId=function(){return null!=t.Message.getField(this,6)},proto.mediapipe.Detection.prototype.getDetectionId=function(){return t.Message.getFieldWithDefault(this,7,0)},proto.mediapipe.Detection.prototype.setDetectionId=function(e){return t.Message.setField(this,7,e)},proto.mediapipe.Detection.prototype.clearDetectionId=function(){return t.Message.setField(this,7,void 0)},proto.mediapipe.Detection.prototype.hasDetectionId=function(){return null!=t.Message.getField(this,7)},proto.mediapipe.Detection.prototype.getAssociatedDetectionsList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.Detection.AssociatedDetection,8)},proto.mediapipe.Detection.prototype.setAssociatedDetectionsList=function(e){return t.Message.setRepeatedWrapperField(this,8,e)},proto.mediapipe.Detection.prototype.addAssociatedDetections=function(e,r){return t.Message.addToRepeatedWrapperField(this,8,e,proto.mediapipe.Detection.AssociatedDetection,r)},proto.mediapipe.Detection.prototype.clearAssociatedDetectionsList=function(){return this.setAssociatedDetectionsList([])},proto.mediapipe.Detection.prototype.getDisplayNameList=function(){return t.Message.getRepeatedField(this,9)},proto.mediapipe.Detection.prototype.setDisplayNameList=function(e){return t.Message.setField(this,9,e||[])},proto.mediapipe.Detection.prototype.addDisplayName=function(e,r){return t.Message.addToRepeatedField(this,9,e,r)},proto.mediapipe.Detection.prototype.clearDisplayNameList=function(){return this.setDisplayNameList([])},proto.mediapipe.Detection.prototype.getTimestampUsec=function(){return t.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.Detection.prototype.setTimestampUsec=function(e){return t.Message.setField(this,10,e)},proto.mediapipe.Detection.prototype.clearTimestampUsec=function(){return t.Message.setField(this,10,void 0)},proto.mediapipe.Detection.prototype.hasTimestampUsec=function(){return null!=t.Message.getField(this,10)},proto.mediapipe.DetectionList.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.DetectionList.prototype.toObject=function(e){return proto.mediapipe.DetectionList.toObject(e,this)},proto.mediapipe.DetectionList.toObject=function(e,r){var n={detectionList:t.Message.toObjectList(r.getDetectionList(),proto.mediapipe.Detection.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.DetectionList.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.DetectionList;return proto.mediapipe.DetectionList.deserializeBinaryFromReader(n,r)},proto.mediapipe.DetectionList.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.Detection;t.readMessage(r,proto.mediapipe.Detection.deserializeBinaryFromReader),e.addDetection(r)}else t.skipField();return e},proto.mediapipe.DetectionList.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.DetectionList.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.DetectionList.serializeBinaryToWriter=function(e,t){var r;(r=e.getDetectionList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.Detection.serializeBinaryToWriter)},proto.mediapipe.DetectionList.prototype.getDetectionList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.Detection,1)},proto.mediapipe.DetectionList.prototype.setDetectionList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.DetectionList.prototype.addDetection=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.Detection,r)},proto.mediapipe.DetectionList.prototype.clearDetectionList=function(){return this.setDetectionList([])},r.object.extend(e,proto.mediapipe)}(detection_pb);var base_options_pb={},acceleration_pb={},inference_calculator_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.DelegateCase",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.Api",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.InferenceUsage",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite",null,n),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack",null,n),proto.mediapipe.InferenceCalculatorOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.displayName="proto.mediapipe.InferenceCalculatorOptions"),proto.mediapipe.InferenceCalculatorOptions.Delegate=function(e){t.Message.initialize(this,e,0,-1,null,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate"),proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.prototype.toObject=function(e){return proto.mediapipe.InferenceCalculatorOptions.toObject(e,this)},proto.mediapipe.InferenceCalculatorOptions.toObject=function(e,r){var n,i={modelPath:null==(n=t.Message.getField(r,1))?void 0:n,useGpu:t.Message.getBooleanFieldWithDefault(r,2,!1),useNnapi:t.Message.getBooleanFieldWithDefault(r,3,!1),cpuNumThread:t.Message.getFieldWithDefault(r,4,-1),delegate:(n=r.getDelegate())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.InferenceCalculatorOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InferenceCalculatorOptions;return proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setModelPath(r);break;case 2:r=t.readBool(),e.setUseGpu(r);break;case 3:r=t.readBool(),e.setUseNnapi(r);break;case 4:r=t.readInt32(),e.setCpuNumThread(r);break;case 5:r=new proto.mediapipe.InferenceCalculatorOptions.Delegate,t.readMessage(r,proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader),e.setDelegate(r);break;default:t.skipField()}return e},proto.mediapipe.InferenceCalculatorOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),null!=(n=t.Message.getField(e,2))&&r.writeBool(2,n),null!=(n=t.Message.getField(e,3))&&r.writeBool(3,n),null!=(n=t.Message.getField(e,4))&&r.writeInt32(4,n),null!=(n=e.getDelegate())&&r.writeMessage(5,n,proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter)},proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_=[[1,2,3,4]],proto.mediapipe.InferenceCalculatorOptions.Delegate.DelegateCase={DELEGATE_NOT_SET:0,TFLITE:1,GPU:2,NNAPI:3,XNNPACK:4},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getDelegateCase=function(){return t.Message.computeOneofCase(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0])},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.toObject=function(e){return proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject(e,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject=function(e,t){var r,n={tflite:(r=t.getTflite())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject(e,r),gpu:(r=t.getGpu())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject(e,r),nnapi:(r=t.getNnapi())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject(e,r),xnnpack:(r=t.getXnnpack())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InferenceCalculatorOptions.Delegate;return proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader(n,r)},proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite;t.readMessage(r,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader),e.setTflite(r);break;case 2:r=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,t.readMessage(r,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader),e.setGpu(r);break;case 3:r=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,t.readMessage(r,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader),e.setNnapi(r);break;case 4:r=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,t.readMessage(r,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader),e.setXnnpack(r);break;default:t.skipField()}return e},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getTflite())&&t.writeMessage(1,r,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter),null!=(r=e.getGpu())&&t.writeMessage(2,r,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter),null!=(r=e.getNnapi())&&t.writeMessage(3,r,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter),null!=(r=e.getXnnpack())&&t.writeMessage(4,r,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.prototype.toObject=function(e){return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject(e,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite;return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader(n,r)},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter=function(e,t){},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.toObject=function(e){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject(e,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject=function(e,r){var n,i={useAdvancedGpuApi:t.Message.getBooleanFieldWithDefault(r,1,!1),api:t.Message.getFieldWithDefault(r,4,0),allowPrecisionLoss:t.Message.getBooleanFieldWithDefault(r,3,!0),cachedKernelPath:null==(n=t.Message.getField(r,2))?void 0:n,serializedModelDir:null==(n=t.Message.getField(r,7))?void 0:n,modelToken:null==(n=t.Message.getField(r,8))?void 0:n,usage:t.Message.getFieldWithDefault(r,5,2)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader(n,r)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBool();e.setUseAdvancedGpuApi(r);break;case 4:r=t.readEnum(),e.setApi(r);break;case 3:r=t.readBool(),e.setAllowPrecisionLoss(r);break;case 2:r=t.readString(),e.setCachedKernelPath(r);break;case 7:r=t.readString(),e.setSerializedModelDir(r);break;case 8:r=t.readString(),e.setModelToken(r);break;case 5:r=t.readEnum(),e.setUsage(r);break;default:t.skipField()}return e},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeBool(1,n),null!=(n=t.Message.getField(e,4))&&r.writeEnum(4,n),null!=(n=t.Message.getField(e,3))&&r.writeBool(3,n),null!=(n=t.Message.getField(e,2))&&r.writeString(2,n),null!=(n=t.Message.getField(e,7))&&r.writeString(7,n),null!=(n=t.Message.getField(e,8))&&r.writeString(8,n),null!=(n=t.Message.getField(e,5))&&r.writeEnum(5,n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.Api={ANY:0,OPENGL:1,OPENCL:2},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.InferenceUsage={UNSPECIFIED:0,FAST_SINGLE_ANSWER:1,SUSTAINED_SPEED:2},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getUseAdvancedGpuApi=function(){return t.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setUseAdvancedGpuApi=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearUseAdvancedGpuApi=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasUseAdvancedGpuApi=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getApi=function(){return t.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setApi=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearApi=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasApi=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getAllowPrecisionLoss=function(){return t.Message.getBooleanFieldWithDefault(this,3,!0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setAllowPrecisionLoss=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearAllowPrecisionLoss=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasAllowPrecisionLoss=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getCachedKernelPath=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setCachedKernelPath=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearCachedKernelPath=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasCachedKernelPath=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getSerializedModelDir=function(){return t.Message.getFieldWithDefault(this,7,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setSerializedModelDir=function(e){return t.Message.setField(this,7,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearSerializedModelDir=function(){return t.Message.setField(this,7,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasSerializedModelDir=function(){return null!=t.Message.getField(this,7)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getModelToken=function(){return t.Message.getFieldWithDefault(this,8,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setModelToken=function(e){return t.Message.setField(this,8,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearModelToken=function(){return t.Message.setField(this,8,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasModelToken=function(){return null!=t.Message.getField(this,8)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getUsage=function(){return t.Message.getFieldWithDefault(this,5,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setUsage=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearUsage=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasUsage=function(){return null!=t.Message.getField(this,5)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.toObject=function(e){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject(e,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject=function(e,r){var n,i={cacheDir:null==(n=t.Message.getField(r,1))?void 0:n,modelToken:null==(n=t.Message.getField(r,2))?void 0:n,acceleratorName:null==(n=t.Message.getField(r,3))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader(n,r)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setCacheDir(r);break;case 2:r=t.readString(),e.setModelToken(r);break;case 3:r=t.readString(),e.setAcceleratorName(r);break;default:t.skipField()}return e},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),null!=(n=t.Message.getField(e,2))&&r.writeString(2,n),null!=(n=t.Message.getField(e,3))&&r.writeString(3,n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getCacheDir=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setCacheDir=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearCacheDir=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasCacheDir=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getModelToken=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setModelToken=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearModelToken=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasModelToken=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getAcceleratorName=function(){return t.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setAcceleratorName=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearAcceleratorName=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasAcceleratorName=function(){return null!=t.Message.getField(this,3)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.toObject=function(e){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(e,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject=function(e,r){var n={numThreads:t.Message.getFieldWithDefault(r,1,-1)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader(n,r)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readInt32();e.setNumThreads(r)}else t.skipField();return e},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter=function(e,r){var n;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.getNumThreads=function(){return t.Message.getFieldWithDefault(this,1,-1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.setNumThreads=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.clearNumThreads=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.hasNumThreads=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getTflite=function(){return t.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite,1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setTflite=function(e){return t.Message.setOneofWrapperField(this,1,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearTflite=function(){return this.setTflite(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasTflite=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getGpu=function(){return t.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setGpu=function(e){return t.Message.setOneofWrapperField(this,2,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearGpu=function(){return this.setGpu(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasGpu=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getNnapi=function(){return t.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,3)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setNnapi=function(e){return t.Message.setOneofWrapperField(this,3,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearNnapi=function(){return this.setNnapi(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasNnapi=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getXnnpack=function(){return t.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,4)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setXnnpack=function(e){return t.Message.setOneofWrapperField(this,4,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],e)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearXnnpack=function(){return this.setXnnpack(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasXnnpack=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.InferenceCalculatorOptions.ext=new t.ExtensionFieldInfo(0x1412e9f7,{ext:0},proto.mediapipe.InferenceCalculatorOptions,proto.mediapipe.InferenceCalculatorOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1412e9f7]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.InferenceCalculatorOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1412e9f7]=proto.mediapipe.InferenceCalculatorOptions.ext,proto.mediapipe.InferenceCalculatorOptions.prototype.getModelPath=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InferenceCalculatorOptions.prototype.setModelPath=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearModelPath=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasModelPath=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.InferenceCalculatorOptions.prototype.getUseGpu=function(){return t.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setUseGpu=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearUseGpu=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasUseGpu=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.InferenceCalculatorOptions.prototype.getUseNnapi=function(){return t.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setUseNnapi=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearUseNnapi=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasUseNnapi=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.InferenceCalculatorOptions.prototype.getCpuNumThread=function(){return t.Message.getFieldWithDefault(this,4,-1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setCpuNumThread=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearCpuNumThread=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasCpuNumThread=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.InferenceCalculatorOptions.prototype.getDelegate=function(){return t.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate,5)},proto.mediapipe.InferenceCalculatorOptions.prototype.setDelegate=function(e){return t.Message.setWrapperField(this,5,e)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearDelegate=function(){return this.setDelegate(void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasDelegate=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.InferenceCalculatorOptions.ext=new t.ExtensionFieldInfo(0x1412e9f7,{ext:0},proto.mediapipe.InferenceCalculatorOptions,proto.mediapipe.InferenceCalculatorOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1412e9f7]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.InferenceCalculatorOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1412e9f7]=proto.mediapipe.InferenceCalculatorOptions.ext,r.object.extend(e,proto.mediapipe)}(inference_calculator_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=inference_calculator_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.tasks.core.proto.Acceleration",null,n),r.exportSymbol("proto.mediapipe.tasks.core.proto.Acceleration.DelegateCase",null,n),proto.mediapipe.tasks.core.proto.Acceleration=function(e){t.Message.initialize(this,e,0,-1,null,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_)},r.inherits(proto.mediapipe.tasks.core.proto.Acceleration,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.Acceleration.displayName="proto.mediapipe.tasks.core.proto.Acceleration"),proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_=[[1,2,4,5]],proto.mediapipe.tasks.core.proto.Acceleration.DelegateCase={DELEGATE_NOT_SET:0,XNNPACK:1,GPU:2,TFLITE:4,NNAPI:5},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getDelegateCase=function(){return t.Message.computeOneofCase(this,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0])},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.Acceleration.prototype.toObject=function(e){return proto.mediapipe.tasks.core.proto.Acceleration.toObject(e,this)},proto.mediapipe.tasks.core.proto.Acceleration.toObject=function(e,t){var r,n={xnnpack:(r=t.getXnnpack())&&i.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(e,r),gpu:(r=t.getGpu())&&i.InferenceCalculatorOptions.Delegate.Gpu.toObject(e,r),tflite:(r=t.getTflite())&&i.InferenceCalculatorOptions.Delegate.TfLite.toObject(e,r),nnapi:(r=t.getNnapi())&&i.InferenceCalculatorOptions.Delegate.Nnapi.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.core.proto.Acceleration;return proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new i.InferenceCalculatorOptions.Delegate.Xnnpack;t.readMessage(r,i.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader),e.setXnnpack(r);break;case 2:r=new i.InferenceCalculatorOptions.Delegate.Gpu,t.readMessage(r,i.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader),e.setGpu(r);break;case 4:r=new i.InferenceCalculatorOptions.Delegate.TfLite,t.readMessage(r,i.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader),e.setTflite(r);break;case 5:r=new i.InferenceCalculatorOptions.Delegate.Nnapi,t.readMessage(r,i.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader),e.setNnapi(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.core.proto.Acceleration.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.core.proto.Acceleration.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.core.proto.Acceleration.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getXnnpack())&&t.writeMessage(1,r,i.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter),null!=(r=e.getGpu())&&t.writeMessage(2,r,i.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter),null!=(r=e.getTflite())&&t.writeMessage(4,r,i.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter),null!=(r=e.getNnapi())&&t.writeMessage(5,r,i.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getXnnpack=function(){return t.Message.getWrapperField(this,i.InferenceCalculatorOptions.Delegate.Xnnpack,1)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setXnnpack=function(e){return t.Message.setOneofWrapperField(this,1,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],e)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearXnnpack=function(){return this.setXnnpack(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasXnnpack=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getGpu=function(){return t.Message.getWrapperField(this,i.InferenceCalculatorOptions.Delegate.Gpu,2)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setGpu=function(e){return t.Message.setOneofWrapperField(this,2,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],e)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearGpu=function(){return this.setGpu(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasGpu=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getTflite=function(){return t.Message.getWrapperField(this,i.InferenceCalculatorOptions.Delegate.TfLite,4)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setTflite=function(e){return t.Message.setOneofWrapperField(this,4,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],e)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearTflite=function(){return this.setTflite(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasTflite=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getNnapi=function(){return t.Message.getWrapperField(this,i.InferenceCalculatorOptions.Delegate.Nnapi,5)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setNnapi=function(e){return t.Message.setOneofWrapperField(this,5,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],e)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearNnapi=function(){return this.setNnapi(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasNnapi=function(){return null!=t.Message.getField(this,5)},r.object.extend(e,proto.mediapipe.tasks.core.proto)}(acceleration_pb);var external_file_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.core.proto.ExternalFile",null,n),r.exportSymbol("proto.mediapipe.tasks.core.proto.FileDescriptorMeta",null,n),r.exportSymbol("proto.mediapipe.tasks.core.proto.FilePointerMeta",null,n),proto.mediapipe.tasks.core.proto.ExternalFile=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.core.proto.ExternalFile,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.ExternalFile.displayName="proto.mediapipe.tasks.core.proto.ExternalFile"),proto.mediapipe.tasks.core.proto.FileDescriptorMeta=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.core.proto.FileDescriptorMeta,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.FileDescriptorMeta.displayName="proto.mediapipe.tasks.core.proto.FileDescriptorMeta"),proto.mediapipe.tasks.core.proto.FilePointerMeta=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.core.proto.FilePointerMeta,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.FilePointerMeta.displayName="proto.mediapipe.tasks.core.proto.FilePointerMeta"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.ExternalFile.prototype.toObject=function(e){return proto.mediapipe.tasks.core.proto.ExternalFile.toObject(e,this)},proto.mediapipe.tasks.core.proto.ExternalFile.toObject=function(e,r){var n,i={fileContent:r.getFileContent_asB64(),fileName:null==(n=t.Message.getField(r,2))?void 0:n,fileDescriptorMeta:(n=r.getFileDescriptorMeta())&&proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject(e,n),filePointerMeta:(n=r.getFilePointerMeta())&&proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.core.proto.ExternalFile;return proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setFileContent(r);break;case 2:r=t.readString(),e.setFileName(r);break;case 3:r=new proto.mediapipe.tasks.core.proto.FileDescriptorMeta,t.readMessage(r,proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader),e.setFileDescriptorMeta(r);break;case 4:r=new proto.mediapipe.tasks.core.proto.FilePointerMeta,t.readMessage(r,proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader),e.setFilePointerMeta(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.core.proto.ExternalFile.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.core.proto.ExternalFile.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeBytes(1,n),null!=(n=t.Message.getField(e,2))&&r.writeString(2,n),null!=(n=e.getFileDescriptorMeta())&&r.writeMessage(3,n,proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter),null!=(n=e.getFilePointerMeta())&&r.writeMessage(4,n,proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent_asB64=function(){return t.Message.bytesAsB64(this.getFileContent())},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent_asU8=function(){return t.Message.bytesAsU8(this.getFileContent())},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileContent=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileContent=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileContent=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileName=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileName=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileName=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileName=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileDescriptorMeta=function(){return t.Message.getWrapperField(this,proto.mediapipe.tasks.core.proto.FileDescriptorMeta,3)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileDescriptorMeta=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileDescriptorMeta=function(){return this.setFileDescriptorMeta(void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileDescriptorMeta=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFilePointerMeta=function(){return t.Message.getWrapperField(this,proto.mediapipe.tasks.core.proto.FilePointerMeta,4)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFilePointerMeta=function(e){return t.Message.setWrapperField(this,4,e)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFilePointerMeta=function(){return this.setFilePointerMeta(void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFilePointerMeta=function(){return null!=t.Message.getField(this,4)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.toObject=function(e){return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject(e,this)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject=function(e,r){var n,i={fd:null==(n=t.Message.getField(r,1))?void 0:n,length:null==(n=t.Message.getField(r,2))?void 0:n,offset:null==(n=t.Message.getField(r,3))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.core.proto.FileDescriptorMeta;return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setFd(r);break;case 2:r=t.readInt64(),e.setLength(r);break;case 3:r=t.readInt64(),e.setOffset(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt64(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt64(3,n)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getFd=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setFd=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearFd=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasFd=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getLength=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setLength=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearLength=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasLength=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getOffset=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setOffset=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearOffset=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasOffset=function(){return null!=t.Message.getField(this,3)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.toObject=function(e){return proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject(e,this)},proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject=function(e,r){var n,i={pointer:null==(n=t.Message.getField(r,1))?void 0:n,length:null==(n=t.Message.getField(r,2))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.core.proto.FilePointerMeta;return proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readUint64();e.setPointer(r);break;case 2:r=t.readInt64(),e.setLength(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeUint64(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt64(2,n)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.getPointer=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.setPointer=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.clearPointer=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.hasPointer=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.getLength=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.setLength=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.clearLength=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.hasLength=function(){return null!=t.Message.getField(this,2)},r.object.extend(e,proto.mediapipe.tasks.core.proto)}(external_file_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=acceleration_pb;r.object.extend(proto,i);var a=external_file_pb;r.object.extend(proto,a),r.exportSymbol("proto.mediapipe.tasks.core.proto.BaseOptions",null,n),proto.mediapipe.tasks.core.proto.BaseOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.core.proto.BaseOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.BaseOptions.displayName="proto.mediapipe.tasks.core.proto.BaseOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.BaseOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.core.proto.BaseOptions.toObject(e,this)},proto.mediapipe.tasks.core.proto.BaseOptions.toObject=function(e,r){var n,o={modelAsset:(n=r.getModelAsset())&&a.ExternalFile.toObject(e,n),useStreamMode:t.Message.getBooleanFieldWithDefault(r,2,!1),acceleration:(n=r.getAcceleration())&&i.Acceleration.toObject(e,n)};return e&&(o.$jspbMessageInstance=r),o}),proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.core.proto.BaseOptions;return proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new a.ExternalFile;t.readMessage(r,a.ExternalFile.deserializeBinaryFromReader),e.setModelAsset(r);break;case 2:r=t.readBool(),e.setUseStreamMode(r);break;case 3:r=new i.Acceleration,t.readMessage(r,i.Acceleration.deserializeBinaryFromReader),e.setAcceleration(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.core.proto.BaseOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.core.proto.BaseOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getModelAsset())&&r.writeMessage(1,n,a.ExternalFile.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeBool(2,n),null!=(n=e.getAcceleration())&&r.writeMessage(3,n,i.Acceleration.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getModelAsset=function(){return t.Message.getWrapperField(this,a.ExternalFile,1)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setModelAsset=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearModelAsset=function(){return this.setModelAsset(void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasModelAsset=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getUseStreamMode=function(){return t.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setUseStreamMode=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearUseStreamMode=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasUseStreamMode=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getAcceleration=function(){return t.Message.getWrapperField(this,i.Acceleration,3)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setAcceleration=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearAcceleration=function(){return this.setAcceleration(void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasAcceleration=function(){return null!=t.Message.getField(this,3)},r.object.extend(e,proto.mediapipe.tasks.core.proto)}(base_options_pb);var face_detector_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=base_options_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&o.BaseOptions.toObject(e,n),minDetectionConfidence:t.Message.getFloatingPointFieldWithDefault(r,2,.5),minSuppressionThreshold:t.Message.getFloatingPointFieldWithDefault(r,3,.5),numFaces:null==(n=t.Message.getField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions;return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new o.BaseOptions;t.readMessage(r,o.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=t.readFloat(),e.setMinDetectionConfidence(r);break;case 3:r=t.readFloat(),e.setMinSuppressionThreshold(r);break;case 4:r=t.readInt32(),e.setNumFaces(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,o.BaseOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeFloat(3,n),null!=(n=t.Message.getField(e,4))&&r.writeInt32(4,n)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext=new t.ExtensionFieldInfo(0x1dee13c9,{ext:0},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1dee13c9]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1dee13c9]=proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,o.BaseOptions,1)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setMinDetectionConfidence=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getMinSuppressionThreshold=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,.5)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setMinSuppressionThreshold=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearMinSuppressionThreshold=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasMinSuppressionThreshold=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getNumFaces=function(){return t.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setNumFaces=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearNumFaces=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasNumFaces=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext=new t.ExtensionFieldInfo(0x1dee13c9,{ext:0},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1dee13c9]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1dee13c9]=proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.face_detector.proto)}(face_detector_graph_options_pb);var detection_result={};Object.defineProperty(detection_result,"__esModule",{value:!0}),detection_result.convertFromDetectionProto=void 0;let DEFAULT_CATEGORY_INDEX=-1;function convertFromDetectionProto(e){var t,r,n,i,a,o,s,p,d,l,c,u,f;let m=e.getScoreList(),g=e.getLabelIdList(),h=e.getLabelList(),y=e.getDisplayNameList(),v={categories:[]};for(let e=0;e<m.length;e++)v.categories.push({score:m[e],index:null!=(t=g[e])?t:DEFAULT_CATEGORY_INDEX,categoryName:null!=(r=h[e])?r:"",displayName:null!=(n=y[e])?n:""});let b=null==(i=e.getLocationData())?void 0:i.getBoundingBox();if(b&&(v.boundingBox={originX:null!=(a=b.getXmin())?a:0,originY:null!=(o=b.getYmin())?o:0,width:null!=(s=b.getWidth())?s:0,height:null!=(p=b.getHeight())?p:0}),null==(d=e.getLocationData())?void 0:d.getRelativeKeypointsList().length)for(let t of(v.keypoints=[],e.getLocationData().getRelativeKeypointsList()))v.keypoints.push({x:null!=(l=t.getX())?l:0,y:null!=(c=t.getY())?c:0,score:null!=(u=t.getScore())?u:0,label:null!=(f=t.getKeypointLabel())?f:""});return v}detection_result.convertFromDetectionProto=convertFromDetectionProto;var vision_task_runner={},rect_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.NormalizedRect",null,n),r.exportSymbol("proto.mediapipe.Rect",null,n),proto.mediapipe.Rect=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.Rect,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Rect.displayName="proto.mediapipe.Rect"),proto.mediapipe.NormalizedRect=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.NormalizedRect,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedRect.displayName="proto.mediapipe.NormalizedRect"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rect.prototype.toObject=function(e){return proto.mediapipe.Rect.toObject(e,this)},proto.mediapipe.Rect.toObject=function(e,r){var n,i={xCenter:null==(n=t.Message.getField(r,1))?void 0:n,yCenter:null==(n=t.Message.getField(r,2))?void 0:n,height:null==(n=t.Message.getField(r,3))?void 0:n,width:null==(n=t.Message.getField(r,4))?void 0:n,rotation:t.Message.getFloatingPointFieldWithDefault(r,5,0),rectId:null==(n=t.Message.getField(r,6))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.Rect.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.Rect;return proto.mediapipe.Rect.deserializeBinaryFromReader(n,r)},proto.mediapipe.Rect.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setXCenter(r);break;case 2:r=t.readInt32(),e.setYCenter(r);break;case 3:r=t.readInt32(),e.setHeight(r);break;case 4:r=t.readInt32(),e.setWidth(r);break;case 5:r=t.readFloat(),e.setRotation(r);break;case 6:r=t.readInt64(),e.setRectId(r);break;default:t.skipField()}return e},proto.mediapipe.Rect.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.Rect.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.Rect.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n),null!=(n=t.Message.getField(e,4))&&r.writeInt32(4,n),null!=(n=t.Message.getField(e,5))&&r.writeFloat(5,n),null!=(n=t.Message.getField(e,6))&&r.writeInt64(6,n)},proto.mediapipe.Rect.prototype.getXCenter=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Rect.prototype.setXCenter=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.Rect.prototype.clearXCenter=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.Rect.prototype.hasXCenter=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.Rect.prototype.getYCenter=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Rect.prototype.setYCenter=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.Rect.prototype.clearYCenter=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.Rect.prototype.hasYCenter=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.Rect.prototype.getHeight=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Rect.prototype.setHeight=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.Rect.prototype.clearHeight=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.Rect.prototype.hasHeight=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.Rect.prototype.getWidth=function(){return t.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.Rect.prototype.setWidth=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.Rect.prototype.clearWidth=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.Rect.prototype.hasWidth=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.Rect.prototype.getRotation=function(){return t.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.Rect.prototype.setRotation=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.Rect.prototype.clearRotation=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.Rect.prototype.hasRotation=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.Rect.prototype.getRectId=function(){return t.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.Rect.prototype.setRectId=function(e){return t.Message.setField(this,6,e)},proto.mediapipe.Rect.prototype.clearRectId=function(){return t.Message.setField(this,6,void 0)},proto.mediapipe.Rect.prototype.hasRectId=function(){return null!=t.Message.getField(this,6)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedRect.prototype.toObject=function(e){return proto.mediapipe.NormalizedRect.toObject(e,this)},proto.mediapipe.NormalizedRect.toObject=function(e,r){var n,i={xCenter:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,yCenter:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,height:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,width:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n,rotation:t.Message.getFloatingPointFieldWithDefault(r,5,0),rectId:null==(n=t.Message.getField(r,6))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.NormalizedRect.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.NormalizedRect;return proto.mediapipe.NormalizedRect.deserializeBinaryFromReader(n,r)},proto.mediapipe.NormalizedRect.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readFloat();e.setXCenter(r);break;case 2:r=t.readFloat(),e.setYCenter(r);break;case 3:r=t.readFloat(),e.setHeight(r);break;case 4:r=t.readFloat(),e.setWidth(r);break;case 5:r=t.readFloat(),e.setRotation(r);break;case 6:r=t.readInt64(),e.setRectId(r);break;default:t.skipField()}return e},proto.mediapipe.NormalizedRect.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.NormalizedRect.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.NormalizedRect.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeFloat(1,n),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeFloat(3,n),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n),null!=(n=t.Message.getField(e,5))&&r.writeFloat(5,n),null!=(n=t.Message.getField(e,6))&&r.writeInt64(6,n)},proto.mediapipe.NormalizedRect.prototype.getXCenter=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.NormalizedRect.prototype.setXCenter=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.NormalizedRect.prototype.clearXCenter=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.NormalizedRect.prototype.hasXCenter=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.NormalizedRect.prototype.getYCenter=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.NormalizedRect.prototype.setYCenter=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.NormalizedRect.prototype.clearYCenter=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.NormalizedRect.prototype.hasYCenter=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.NormalizedRect.prototype.getHeight=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.NormalizedRect.prototype.setHeight=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.NormalizedRect.prototype.clearHeight=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.NormalizedRect.prototype.hasHeight=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.NormalizedRect.prototype.getWidth=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.NormalizedRect.prototype.setWidth=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.NormalizedRect.prototype.clearWidth=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.NormalizedRect.prototype.hasWidth=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.NormalizedRect.prototype.getRotation=function(){return t.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.NormalizedRect.prototype.setRotation=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.NormalizedRect.prototype.clearRotation=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.NormalizedRect.prototype.hasRotation=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.NormalizedRect.prototype.getRectId=function(){return t.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.NormalizedRect.prototype.setRectId=function(e){return t.Message.setField(this,6,e)},proto.mediapipe.NormalizedRect.prototype.clearRectId=function(){return t.Message.setField(this,6,void 0)},proto.mediapipe.NormalizedRect.prototype.hasRectId=function(){return null!=t.Message.getField(this,6)},r.object.extend(e,proto.mediapipe)}(rect_pb);var task_runner={},graph_runner={},platform_utils={};function isWebKit(e=navigator){let t=e.userAgent;return t.includes("Safari")&&!t.includes("Chrome")}Object.defineProperty(platform_utils,"__esModule",{value:!0}),platform_utils.isWebKit=void 0,platform_utils.isWebKit=isWebKit,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createGraphRunner=e.createMediaPipeLib=e.GraphRunner=e.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME=void 0;let t=platform_utils;e.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME="__graph_config__";class r{constructor(e,r){this.autoResizeCanvas=!0,this.wasmModule=e,this.audioPtr=null,this.audioSize=0,this.hasMultiStreamSupport="function"==typeof this.wasmModule._addIntToInputStream,void 0!==r?this.wasmModule.canvas=r:"undefined"==typeof OffscreenCanvas||(0,t.isWebKit)()?(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.wasmModule.canvas=document.createElement("canvas")):this.wasmModule.canvas=new OffscreenCanvas(1,1)}async initializeGraph(e){let t=await fetch(e),r=await t.arrayBuffer(),n=!(e.endsWith(".pbtxt")||e.endsWith(".textproto"));this.setGraph(new Uint8Array(r),n)}setGraphFromString(e){this.setGraph((new TextEncoder).encode(e),!1)}setGraph(e,t){let r=e.length,n=this.wasmModule._malloc(r);this.wasmModule.HEAPU8.set(e,n),t?this.wasmModule._changeBinaryGraph(r,n):this.wasmModule._changeTextGraph(r,n),this.wasmModule._free(n)}configureAudio(e,t,r,n,i){this.wasmModule._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),n=n||"input_audio",this.wrapStringPtr(n,n=>{i=i||"audio_header",this.wrapStringPtr(i,i=>{this.wasmModule._configureAudio(n,i,e,t,r)})})}setAutoResizeCanvas(e){this.autoResizeCanvas=e}setAutoRenderToScreen(e){this.wasmModule._setAutoRenderToScreen(e)}bindTextureToStream(e,t){let r,n;if(!this.wasmModule.canvas)throw Error("No OpenGL canvas configured.");t?this.wasmModule._bindTextureToStream(t):console.assert(this.wasmModule._bindTextureToCanvas());let i=this.wasmModule.canvas.getContext("webgl2")||this.wasmModule.canvas.getContext("webgl");if(!i)throw Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");return i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,e),e.videoWidth?(r=e.videoWidth,n=e.videoHeight):e.naturalWidth?(r=e.naturalWidth,n=e.naturalHeight):(r=e.width,n=e.height),this.autoResizeCanvas&&(r!==this.wasmModule.canvas.width||n!==this.wasmModule.canvas.height)&&(this.wasmModule.canvas.width=r,this.wasmModule.canvas.height=n),[r,n]}processGl(e,t){let[r,n]=this.bindTextureToStream(e),i=this.wasmModule._malloc(16);this.wasmModule.HEAPU32[i/4]=r,this.wasmModule.HEAPU32[i/4+1]=n,this.wasmModule.HEAPF64[i/8+1]=t,this.wasmModule._processGl(i),this.wasmModule._free(i)}wrapStringPtr(e,t){this.hasMultiStreamSupport||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");let r=this.wasmModule.stringToNewUTF8(e);t(r),this.wasmModule._free(r)}wrapStringPtrPtr(e,t){this.hasMultiStreamSupport||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");let r=new Uint32Array(e.length);for(let t=0;t<e.length;t++)r[t]=this.wasmModule.stringToNewUTF8(e[t]);let n=this.wasmModule._malloc(4*r.length);for(let e of(this.wasmModule.HEAPU32.set(r,n>>2),t(n),r))this.wasmModule._free(e);this.wasmModule._free(n)}getCalculatorGraphConfig(t,r){let n=e.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME;this.setListener(n,e=>{t(e)}),this.wrapStringPtr(n,e=>{this.wasmModule._getGraphConfig(e,r)}),delete this.wasmModule.simpleListeners[n]}setListener(e,t){this.wasmModule.simpleListeners=this.wasmModule.simpleListeners||{},this.wasmModule.simpleListeners[e]=t}setVectorListener(e,t){let r=[];this.wasmModule.simpleListeners=this.wasmModule.simpleListeners||{},this.wasmModule.simpleListeners[e]=(e,n,i)=>{n?(t(r,i),r=[]):r.push(e)}}attachErrorListener(e){this.wasmModule.errorListener=e}attachEmptyPacketListener(e,t){this.wasmModule.emptyPacketListeners=this.wasmModule.emptyPacketListeners||{},this.wasmModule.emptyPacketListeners[e]=t}addAudioToStream(e,t,r){this.addAudioToStreamWithShape(e,0,0,t,r)}addAudioToStreamWithShape(e,t,r,n,i){let a=4*e.length;this.audioSize!==a&&(this.audioPtr&&this.wasmModule._free(this.audioPtr),this.audioPtr=this.wasmModule._malloc(a),this.audioSize=a),this.wasmModule.HEAPF32.set(e,this.audioPtr/4),this.wrapStringPtr(n,e=>{this.wasmModule._addAudioToInputStream(this.audioPtr,t,r,e,i)})}addGpuBufferToStream(e,t,r){this.wrapStringPtr(t,t=>{let[n,i]=this.bindTextureToStream(e,t);this.wasmModule._addBoundTextureToStream(t,n,i,r)})}addBoolToStream(e,t,r){this.wrapStringPtr(t,t=>{this.wasmModule._addBoolToInputStream(e,t,r)})}addDoubleToStream(e,t,r){this.wrapStringPtr(t,t=>{this.wasmModule._addDoubleToInputStream(e,t,r)})}addFloatToStream(e,t,r){this.wrapStringPtr(t,t=>{this.wasmModule._addFloatToInputStream(e,t,r)})}addIntToStream(e,t,r){this.wrapStringPtr(t,t=>{this.wasmModule._addIntToInputStream(e,t,r)})}addStringToStream(e,t,r){this.wrapStringPtr(t,t=>{this.wrapStringPtr(e,e=>{this.wasmModule._addStringToInputStream(e,t,r)})})}addStringRecordToStream(e,t,r){this.wrapStringPtr(t,t=>{this.wrapStringPtrPtr(Object.keys(e),n=>{this.wrapStringPtrPtr(Object.values(e),i=>{this.wasmModule._addFlatHashMapToInputStream(n,i,Object.keys(e).length,t,r)})})})}addProtoToStream(e,t,r,n){this.wrapStringPtr(r,r=>{this.wrapStringPtr(t,t=>{let i=this.wasmModule._malloc(e.length);this.wasmModule.HEAPU8.set(e,i),this.wasmModule._addProtoToInputStream(i,e.length,t,r,n),this.wasmModule._free(i)})})}addEmptyPacketToStream(e,t){this.wrapStringPtr(e,e=>{this.wasmModule._addEmptyPacketToInputStream(e,t)})}addBoolToInputSidePacket(e,t){this.wrapStringPtr(t,t=>{this.wasmModule._addBoolToInputSidePacket(e,t)})}addDoubleToInputSidePacket(e,t){this.wrapStringPtr(t,t=>{this.wasmModule._addDoubleToInputSidePacket(e,t)})}addFloatToInputSidePacket(e,t){this.wrapStringPtr(t,t=>{this.wasmModule._addFloatToInputSidePacket(e,t)})}addIntToInputSidePacket(e,t){this.wrapStringPtr(t,t=>{this.wasmModule._addIntToInputSidePacket(e,t)})}addStringToInputSidePacket(e,t){this.wrapStringPtr(t,t=>{this.wrapStringPtr(e,e=>{this.wasmModule._addStringToInputSidePacket(e,t)})})}addProtoToInputSidePacket(e,t,r){this.wrapStringPtr(r,r=>{this.wrapStringPtr(t,t=>{let n=this.wasmModule._malloc(e.length);this.wasmModule.HEAPU8.set(e,n),this.wasmModule._addProtoToInputSidePacket(n,e.length,t,r),this.wasmModule._free(n)})})}attachBoolListener(e,t){this.setListener(e,t),this.wrapStringPtr(e,e=>{this.wasmModule._attachBoolListener(e)})}attachBoolVectorListener(e,t){this.setVectorListener(e,t),this.wrapStringPtr(e,e=>{this.wasmModule._attachBoolVectorListener(e)})}attachIntListener(e,t){this.setListener(e,t),this.wrapStringPtr(e,e=>{this.wasmModule._attachIntListener(e)})}attachIntVectorListener(e,t){this.setVectorListener(e,t),this.wrapStringPtr(e,e=>{this.wasmModule._attachIntVectorListener(e)})}attachDoubleListener(e,t){this.setListener(e,t),this.wrapStringPtr(e,e=>{this.wasmModule._attachDoubleListener(e)})}attachDoubleVectorListener(e,t){this.setVectorListener(e,t),this.wrapStringPtr(e,e=>{this.wasmModule._attachDoubleVectorListener(e)})}attachFloatListener(e,t){this.setListener(e,t),this.wrapStringPtr(e,e=>{this.wasmModule._attachFloatListener(e)})}attachFloatVectorListener(e,t){this.setVectorListener(e,t),this.wrapStringPtr(e,e=>{this.wasmModule._attachFloatVectorListener(e)})}attachStringListener(e,t){this.setListener(e,t),this.wrapStringPtr(e,e=>{this.wasmModule._attachStringListener(e)})}attachStringVectorListener(e,t){this.setVectorListener(e,t),this.wrapStringPtr(e,e=>{this.wasmModule._attachStringVectorListener(e)})}attachProtoListener(e,t,r){this.setListener(e,t),this.wrapStringPtr(e,e=>{this.wasmModule._attachProtoListener(e,r||!1)})}attachProtoVectorListener(e,t,r){this.setVectorListener(e,t),this.wrapStringPtr(e,e=>{this.wasmModule._attachProtoVectorListener(e,r||!1)})}attachAudioListener(e,t,r){this.wasmModule._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),this.setListener(e,(e,r)=>{t(new Float32Array(e.buffer,e.byteOffset,e.length/4),r)}),this.wrapStringPtr(e,e=>{this.wasmModule._attachAudioListener(e,r||!1)})}finishProcessing(){this.wasmModule._waitUntilIdle()}closeGraph(){this.wasmModule._closeGraph(),this.wasmModule.simpleListeners=void 0,this.wasmModule.emptyPacketListeners=void 0}}async function n(e){if("function"!=typeof importScripts){let t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise(e=>{t.addEventListener("load",()=>{e()},!1),t.addEventListener("error",()=>{e()},!1),document.body.appendChild(t)})}importScripts(e.toString())}async function i(e,t,r,i,a){let o=[];if(t&&o.push(t),r&&o.push(r),o.length&&await Promise.all(o.map(n)),!self.ModuleFactory)throw Error("ModuleFactory not set.");if(self.Module&&a){let e=self.Module;e.locateFile=a.locateFile,a.mainScriptUrlOrBlob&&(e.mainScriptUrlOrBlob=a.mainScriptUrlOrBlob)}let s=await self.ModuleFactory(self.Module||a);return self.ModuleFactory=self.Module=void 0,new e(s,i)}e.GraphRunner=r,e.createMediaPipeLib=i,e.createGraphRunner=async function(e,t,n,a){return i(r,e,t,n,a)}}(graph_runner);var register_model_resources_graph_service={};function SupportModelResourcesGraphService(e){return class extends e{registerModelResourcesGraphService(){this.wasmModule._registerModelResourcesGraphService()}}}Object.defineProperty(register_model_resources_graph_service,"__esModule",{value:!0}),register_model_resources_graph_service.SupportModelResourcesGraphService=void 0,register_model_resources_graph_service.SupportModelResourcesGraphService=SupportModelResourcesGraphService,Object.defineProperty(task_runner,"__esModule",{value:!0}),task_runner.TaskRunner=task_runner.createTaskRunner=task_runner.CachedGraphRunner=void 0;let inference_calculator_pb_1=inference_calculator_pb,calculator_pb_1=calculator_pb,acceleration_pb_1=acceleration_pb,external_file_pb_1=external_file_pb,graph_runner_1$1=graph_runner,register_model_resources_graph_service_1$1=register_model_resources_graph_service,NO_ASSETS=void 0,FREE_MEMORY_STREAM="free_memory",UNUSED_STREAM_SUFFIX="_unused_out",CachedGraphRunnerType=(0,register_model_resources_graph_service_1$1.SupportModelResourcesGraphService)(graph_runner_1$1.GraphRunner);class CachedGraphRunner extends CachedGraphRunnerType{}async function createTaskRunner(e,t,r,n){let i={locateFile:()=>r.wasmBinaryPath.toString()},a=await (0,graph_runner_1$1.createMediaPipeLib)(e,r.wasmLoaderPath,NO_ASSETS,t,i);return await a.setOptions(n),a}task_runner.CachedGraphRunner=CachedGraphRunner,task_runner.createTaskRunner=createTaskRunner;class TaskRunner{static async createInstance(e,t,r,n){return createTaskRunner(e,t,r,n)}constructor(e){this.graphRunner=e,this.processingErrors=[],this.latestOutputTimestamp=0,this.graphRunner.setAutoRenderToScreen(!1)}applyOptions(e){var t,r,n,i,a;let o=e.baseOptions||{};if((null==(t=e.baseOptions)?void 0:t.modelAssetBuffer)&&(null==(r=e.baseOptions)?void 0:r.modelAssetPath))throw Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!((null==(n=this.baseOptions.getModelAsset())?void 0:n.hasFileContent())||(null==(i=e.baseOptions)?void 0:i.modelAssetBuffer)||(null==(a=e.baseOptions)?void 0:a.modelAssetPath)))throw Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");return this.setAcceleration(o),o.modelAssetPath?fetch(o.modelAssetPath.toString()).then(e=>{if(e.ok)return e.arrayBuffer();throw Error(`Failed to fetch model: ${o.modelAssetPath} (${e.status})`)}).then(e=>{this.setExternalFile(new Uint8Array(e)),this.refreshGraph(),this.onGraphRefreshed()}):(this.setExternalFile(o.modelAssetBuffer),this.refreshGraph(),this.onGraphRefreshed(),Promise.resolve())}onGraphRefreshed(){}getCalculatorGraphConfig(){let e;if(this.graphRunner.getCalculatorGraphConfig(t=>{e=calculator_pb_1.CalculatorGraphConfig.deserializeBinary(t)}),!e)throw Error("Failed to retrieve CalculatorGraphConfig");return e}setGraph(e,t){this.graphRunner.attachErrorListener((e,t)=>{this.processingErrors.push(Error(t))}),this.graphRunner.registerModelResourcesGraphService(),this.graphRunner.setGraph(e,t),this.keepaliveNode=void 0,this.handleErrors()}finishProcessing(){this.graphRunner.finishProcessing(),this.handleErrors()}setLatestOutputTimestamp(e){this.latestOutputTimestamp=Math.max(this.latestOutputTimestamp,e)}getSynctheticTimestamp(){return this.latestOutputTimestamp+1}handleErrors(){try{let e=this.processingErrors.length;if(1===e)throw Error(this.processingErrors[0].message);if(e>1)throw Error("Encountered multiple errors: "+this.processingErrors.map(e=>e.message).join(", "))}finally{this.processingErrors=[]}}setExternalFile(e){let t=this.baseOptions.getModelAsset()||new external_file_pb_1.ExternalFile;e&&t.setFileContent(e),this.baseOptions.setModelAsset(t)}setAcceleration(e){let t=this.baseOptions.getAcceleration();t||(t=new acceleration_pb_1.Acceleration).setTflite(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.TfLite),"delegate"in e&&("GPU"===e.delegate?t.setGpu(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.Gpu):t.setTflite(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.TfLite)),this.baseOptions.setAcceleration(t)}addKeepaliveNode(e){this.keepaliveNode=new calculator_pb_1.CalculatorGraphConfig.Node,this.keepaliveNode.setCalculator("PassThroughCalculator"),this.keepaliveNode.addInputStream(FREE_MEMORY_STREAM),this.keepaliveNode.addOutputStream(FREE_MEMORY_STREAM+UNUSED_STREAM_SUFFIX),e.addInputStream(FREE_MEMORY_STREAM),e.addNode(this.keepaliveNode)}keepStreamAlive(e){this.keepaliveNode.addInputStream(e),this.keepaliveNode.addOutputStream(e+UNUSED_STREAM_SUFFIX)}freeKeepaliveStreams(){this.graphRunner.addBoolToStream(!0,FREE_MEMORY_STREAM,this.latestOutputTimestamp)}close(){this.keepaliveNode=void 0,this.graphRunner.closeGraph()}}task_runner.TaskRunner=TaskRunner;var graph_runner_image_lib={};function SupportImage(e){return class extends e{get wasmImageModule(){return this.wasmModule}addGpuBufferAsImageToStream(e,t,r){this.wrapStringPtr(t,t=>{let[n,i]=this.bindTextureToStream(e,t);this.wasmImageModule._addBoundTextureAsImageToStream(t,n,i,r)})}attachImageListener(e,t){this.setListener(e,t),this.wrapStringPtr(e,e=>{this.wasmImageModule._attachImageListener(e)})}attachImageVectorListener(e,t){this.setVectorListener(e,t),this.wrapStringPtr(e,e=>{this.wasmImageModule._attachImageVectorListener(e)})}}}Object.defineProperty(graph_runner_image_lib,"__esModule",{value:!0}),graph_runner_image_lib.SupportImage=void 0,graph_runner_image_lib.SupportImage=SupportImage,Object.defineProperty(vision_task_runner,"__esModule",{value:!0}),vision_task_runner.VisionTaskRunner=vision_task_runner.VisionGraphRunner=void 0;let rect_pb_1=rect_pb,task_runner_1=task_runner,image_1$1=image,image_shader_context_1=image_shader_context,mask_1$1=mask,graph_runner_1=graph_runner,graph_runner_image_lib_1=graph_runner_image_lib,platform_utils_1=platform_utils,register_model_resources_graph_service_1=register_model_resources_graph_service,GraphRunnerVisionType=(0,register_model_resources_graph_service_1.SupportModelResourcesGraphService)((0,graph_runner_image_lib_1.SupportImage)(graph_runner_1.GraphRunner));class VisionGraphRunner extends GraphRunnerVisionType{}function createCanvas(){return"undefined"==typeof OffscreenCanvas||(0,platform_utils_1.isWebKit)()?document.createElement("canvas"):void 0}vision_task_runner.VisionGraphRunner=VisionGraphRunner;class VisionTaskRunner extends task_runner_1.TaskRunner{static async createVisionInstance(e,t,r){var n;let i=null!=(n=r.canvas)?n:createCanvas();return task_runner_1.TaskRunner.createInstance(e,i,t,r)}constructor(e,t,r,n){super(e),this.graphRunner=e,this.imageStreamName=t,this.normRectStreamName=r,this.roiAllowed=n,this.shaderContext=new image_shader_context_1.MPImageShaderContext}applyOptions(e){if("runningMode"in e){let t=!!e.runningMode&&"IMAGE"!==e.runningMode;this.baseOptions.setUseStreamMode(t)}if(void 0!==e.canvas&&this.graphRunner.wasmModule.canvas!==e.canvas)throw Error("You must create a new task to reset the canvas.");return super.applyOptions(e)}processImageData(e,t){var r;if(null==(r=this.baseOptions)?void 0:r.getUseStreamMode())throw Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");this.process(e,t,this.getSynctheticTimestamp())}processVideoData(e,t,r){var n;if(!(null==(n=this.baseOptions)?void 0:n.getUseStreamMode()))throw Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");this.process(e,t,r)}getImageSourceSize(e){return void 0!==e.videoWidth?[e.videoWidth,e.videoHeight]:void 0!==e.naturalWidth?[e.naturalWidth,e.naturalHeight]:[e.width,e.height]}convertToNormalizedRect(e,t){let r=new rect_pb_1.NormalizedRect;if(null==t?void 0:t.regionOfInterest){if(!this.roiAllowed)throw Error("This task doesn't support region-of-interest.");let e=t.regionOfInterest;if(e.left>=e.right||e.top>=e.bottom)throw Error("Expected RectF with left < right and top < bottom.");if(e.left<0||e.top<0||e.right>1||e.bottom>1)throw Error("Expected RectF values to be in [0,1].");r.setXCenter((e.left+e.right)/2),r.setYCenter((e.top+e.bottom)/2),r.setWidth(e.right-e.left),r.setHeight(e.bottom-e.top)}else r.setXCenter(.5),r.setYCenter(.5),r.setWidth(1),r.setHeight(1);if(null==t?void 0:t.rotationDegrees){if((null==t?void 0:t.rotationDegrees)%90!=0)throw Error("Expected rotation to be a multiple of 90°.");if(r.setRotation(-Math.PI*t.rotationDegrees/180),(null==t?void 0:t.rotationDegrees)%180!=0){let[t,n]=this.getImageSourceSize(e),i=r.getHeight()*n/t,a=r.getWidth()*t/n;r.setWidth(i),r.setHeight(a)}}return r}process(e,t,r){let n=this.convertToNormalizedRect(e,t);this.graphRunner.addProtoToStream(n.serializeBinary(),"mediapipe.NormalizedRect",this.normRectStreamName,r),this.graphRunner.addGpuBufferAsImageToStream(e,this.imageStreamName,null!=r?r:performance.now()),this.finishProcessing()}convertToMPImage(e,t){let r,{data:n,width:i,height:a}=e,o=i*a;if(n instanceof Uint8Array)if(n.length===3*o){let e=new Uint8ClampedArray(4*o);for(let t=0;t<o;++t)e[4*t]=n[3*t],e[4*t+1]=n[3*t+1],e[4*t+2]=n[3*t+2],e[4*t+3]=255;r=new ImageData(e,i,a)}else{if(n.length!==4*o)throw Error("Unsupported channel count: "+n.length/o);r=new ImageData(new Uint8ClampedArray(n.buffer,n.byteOffset,n.length),i,a)}else{if(!(n instanceof WebGLTexture))throw Error(`Unsupported format: ${n.constructor.name}`);r=n}let s=new image_1$1.MPImage([r],!1,!1,this.graphRunner.wasmModule.canvas,this.shaderContext,i,a);return t?s.clone():s}convertToMPMask(e,t){let r,{data:n,width:i,height:a}=e,o=i*a;if(n instanceof Uint8Array||n instanceof Float32Array){if(n.length!==o)throw Error("Unsupported channel count: "+n.length/o);r=n}else r=n;let s=new mask_1$1.MPMask([r],!1,this.graphRunner.wasmModule.canvas,this.shaderContext,i,a);return t?s.clone():s}close(){this.shaderContext.close(),super.close()}}vision_task_runner.VisionTaskRunner=VisionTaskRunner;var face_detector_options={};Object.defineProperty(face_detector_options,"__esModule",{value:!0});var face_detector_result={};Object.defineProperty(face_detector_result,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.FaceDetector=void 0;let n=calculator_pb,i=calculator_options_pb,a=detection_pb,o=base_options_pb,s=face_detector_graph_options_pb,p=detection_result,d=vision_task_runner,l="image_in",c="norm_rect_in",u="detections";r(face_detector_options,e),r(face_detector_result,e);class f extends d.VisionTaskRunner{static createFromOptions(e,t){return d.VisionTaskRunner.createVisionInstance(f,e,t)}static createFromModelBuffer(e,t){return d.VisionTaskRunner.createVisionInstance(f,e,{baseOptions:{modelAssetBuffer:t}})}static async createFromModelPath(e,t){return d.VisionTaskRunner.createVisionInstance(f,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new d.VisionGraphRunner(e,t),l,c,!1),this.result={detections:[]},this.options=new s.FaceDetectorGraphOptions,this.options.setBaseOptions(new o.BaseOptions),this.options.setMinDetectionConfidence(.5),this.options.setMinSuppressionThreshold(.3)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){var t,r;return"minDetectionConfidence"in e&&this.options.setMinDetectionConfidence(null!=(t=e.minDetectionConfidence)?t:.5),"minSuppressionThreshold"in e&&this.options.setMinSuppressionThreshold(null!=(r=e.minSuppressionThreshold)?r:.3),this.applyOptions(e)}detect(e,t){return this.result={detections:[]},this.processImageData(e,t),this.result}detectForVideo(e,t,r){return this.result={detections:[]},this.processVideoData(e,r,t),this.result}addJsFaceDetections(e){for(let t of e){let e=a.Detection.deserializeBinary(t);this.result.detections.push((0,p.convertFromDetectionProto)(e))}}refreshGraph(){let e=new n.CalculatorGraphConfig;e.addInputStream(l),e.addInputStream(c),e.addOutputStream(u);let t=new i.CalculatorOptions;t.setExtension(s.FaceDetectorGraphOptions.ext,this.options);let r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),r.addInputStream("IMAGE:"+l),r.addInputStream("NORM_RECT:"+c),r.addOutputStream("DETECTIONS:"+u),r.setOptions(t),e.addNode(r),this.graphRunner.attachProtoVectorListener(u,(e,t)=>{this.addJsFaceDetections(e),this.setLatestOutputTimestamp(t)}),this.graphRunner.attachEmptyPacketListener(u,e=>{this.setLatestOutputTimestamp(e)});let a=e.serializeBinary();this.setGraph(new Uint8Array(a),!0)}}e.FaceDetector=f}(face_detector);var face_landmarker={},classification_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.Classification",null,n),r.exportSymbol("proto.mediapipe.ClassificationList",null,n),r.exportSymbol("proto.mediapipe.ClassificationListCollection",null,n),proto.mediapipe.Classification=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.Classification,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Classification.displayName="proto.mediapipe.Classification"),proto.mediapipe.ClassificationList=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.ClassificationList.repeatedFields_,null)},r.inherits(proto.mediapipe.ClassificationList,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ClassificationList.displayName="proto.mediapipe.ClassificationList"),proto.mediapipe.ClassificationListCollection=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.ClassificationListCollection.repeatedFields_,null)},r.inherits(proto.mediapipe.ClassificationListCollection,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ClassificationListCollection.displayName="proto.mediapipe.ClassificationListCollection"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Classification.prototype.toObject=function(e){return proto.mediapipe.Classification.toObject(e,this)},proto.mediapipe.Classification.toObject=function(e,r){var n,i={index:null==(n=t.Message.getField(r,1))?void 0:n,score:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,label:null==(n=t.Message.getField(r,3))?void 0:n,displayName:null==(n=t.Message.getField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.Classification.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.Classification;return proto.mediapipe.Classification.deserializeBinaryFromReader(n,r)},proto.mediapipe.Classification.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setIndex(r);break;case 2:r=t.readFloat(),e.setScore(r);break;case 3:r=t.readString(),e.setLabel(r);break;case 4:r=t.readString(),e.setDisplayName(r);break;default:t.skipField()}return e},proto.mediapipe.Classification.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.Classification.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.Classification.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeString(3,n),null!=(n=t.Message.getField(e,4))&&r.writeString(4,n)},proto.mediapipe.Classification.prototype.getIndex=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Classification.prototype.setIndex=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.Classification.prototype.clearIndex=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.Classification.prototype.hasIndex=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.Classification.prototype.getScore=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Classification.prototype.setScore=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.Classification.prototype.clearScore=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.Classification.prototype.hasScore=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.Classification.prototype.getLabel=function(){return t.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.Classification.prototype.setLabel=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.Classification.prototype.clearLabel=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.Classification.prototype.hasLabel=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.Classification.prototype.getDisplayName=function(){return t.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.Classification.prototype.setDisplayName=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.Classification.prototype.clearDisplayName=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.Classification.prototype.hasDisplayName=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.ClassificationList.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ClassificationList.prototype.toObject=function(e){return proto.mediapipe.ClassificationList.toObject(e,this)},proto.mediapipe.ClassificationList.toObject=function(e,r){var n={classificationList:t.Message.toObjectList(r.getClassificationList(),proto.mediapipe.Classification.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.ClassificationList.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.ClassificationList;return proto.mediapipe.ClassificationList.deserializeBinaryFromReader(n,r)},proto.mediapipe.ClassificationList.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.Classification;t.readMessage(r,proto.mediapipe.Classification.deserializeBinaryFromReader),e.addClassification(r)}else t.skipField();return e},proto.mediapipe.ClassificationList.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.ClassificationList.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.ClassificationList.serializeBinaryToWriter=function(e,t){var r;(r=e.getClassificationList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.Classification.serializeBinaryToWriter)},proto.mediapipe.ClassificationList.prototype.getClassificationList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.Classification,1)},proto.mediapipe.ClassificationList.prototype.setClassificationList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.ClassificationList.prototype.addClassification=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.Classification,r)},proto.mediapipe.ClassificationList.prototype.clearClassificationList=function(){return this.setClassificationList([])},proto.mediapipe.ClassificationListCollection.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ClassificationListCollection.prototype.toObject=function(e){return proto.mediapipe.ClassificationListCollection.toObject(e,this)},proto.mediapipe.ClassificationListCollection.toObject=function(e,r){var n={classificationListList:t.Message.toObjectList(r.getClassificationListList(),proto.mediapipe.ClassificationList.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.ClassificationListCollection.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.ClassificationListCollection;return proto.mediapipe.ClassificationListCollection.deserializeBinaryFromReader(n,r)},proto.mediapipe.ClassificationListCollection.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.ClassificationList;t.readMessage(r,proto.mediapipe.ClassificationList.deserializeBinaryFromReader),e.addClassificationList(r)}else t.skipField();return e},proto.mediapipe.ClassificationListCollection.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.ClassificationListCollection.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.ClassificationListCollection.serializeBinaryToWriter=function(e,t){var r;(r=e.getClassificationListList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.ClassificationList.serializeBinaryToWriter)},proto.mediapipe.ClassificationListCollection.prototype.getClassificationListList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.ClassificationList,1)},proto.mediapipe.ClassificationListCollection.prototype.setClassificationListList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.ClassificationListCollection.prototype.addClassificationList=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.ClassificationList,r)},proto.mediapipe.ClassificationListCollection.prototype.clearClassificationListList=function(){return this.setClassificationListList([])},r.object.extend(e,proto.mediapipe)}(classification_pb);var landmark_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.Landmark",null,n),r.exportSymbol("proto.mediapipe.LandmarkList",null,n),r.exportSymbol("proto.mediapipe.LandmarkListCollection",null,n),r.exportSymbol("proto.mediapipe.NormalizedLandmark",null,n),r.exportSymbol("proto.mediapipe.NormalizedLandmarkList",null,n),r.exportSymbol("proto.mediapipe.NormalizedLandmarkListCollection",null,n),proto.mediapipe.Landmark=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.Landmark,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Landmark.displayName="proto.mediapipe.Landmark"),proto.mediapipe.LandmarkList=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.LandmarkList.repeatedFields_,null)},r.inherits(proto.mediapipe.LandmarkList,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LandmarkList.displayName="proto.mediapipe.LandmarkList"),proto.mediapipe.LandmarkListCollection=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.LandmarkListCollection.repeatedFields_,null)},r.inherits(proto.mediapipe.LandmarkListCollection,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LandmarkListCollection.displayName="proto.mediapipe.LandmarkListCollection"),proto.mediapipe.NormalizedLandmark=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.NormalizedLandmark,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmark.displayName="proto.mediapipe.NormalizedLandmark"),proto.mediapipe.NormalizedLandmarkList=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.NormalizedLandmarkList.repeatedFields_,null)},r.inherits(proto.mediapipe.NormalizedLandmarkList,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmarkList.displayName="proto.mediapipe.NormalizedLandmarkList"),proto.mediapipe.NormalizedLandmarkListCollection=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.NormalizedLandmarkListCollection.repeatedFields_,null)},r.inherits(proto.mediapipe.NormalizedLandmarkListCollection,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmarkListCollection.displayName="proto.mediapipe.NormalizedLandmarkListCollection"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Landmark.prototype.toObject=function(e){return proto.mediapipe.Landmark.toObject(e,this)},proto.mediapipe.Landmark.toObject=function(e,r){var n,i={x:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,y:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,z:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,visibility:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n,presence:null==(n=t.Message.getOptionalFloatingPointField(r,5))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.Landmark.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.Landmark;return proto.mediapipe.Landmark.deserializeBinaryFromReader(n,r)},proto.mediapipe.Landmark.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readFloat();e.setX(r);break;case 2:r=t.readFloat(),e.setY(r);break;case 3:r=t.readFloat(),e.setZ(r);break;case 4:r=t.readFloat(),e.setVisibility(r);break;case 5:r=t.readFloat(),e.setPresence(r);break;default:t.skipField()}return e},proto.mediapipe.Landmark.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.Landmark.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.Landmark.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeFloat(1,n),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeFloat(3,n),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n),null!=(n=t.Message.getField(e,5))&&r.writeFloat(5,n)},proto.mediapipe.Landmark.prototype.getX=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.Landmark.prototype.setX=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.Landmark.prototype.clearX=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.Landmark.prototype.hasX=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.Landmark.prototype.getY=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Landmark.prototype.setY=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.Landmark.prototype.clearY=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.Landmark.prototype.hasY=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.Landmark.prototype.getZ=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.Landmark.prototype.setZ=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.Landmark.prototype.clearZ=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.Landmark.prototype.hasZ=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.Landmark.prototype.getVisibility=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.Landmark.prototype.setVisibility=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.Landmark.prototype.clearVisibility=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.Landmark.prototype.hasVisibility=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.Landmark.prototype.getPresence=function(){return t.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.Landmark.prototype.setPresence=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.Landmark.prototype.clearPresence=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.Landmark.prototype.hasPresence=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.LandmarkList.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LandmarkList.prototype.toObject=function(e){return proto.mediapipe.LandmarkList.toObject(e,this)},proto.mediapipe.LandmarkList.toObject=function(e,r){var n={landmarkList:t.Message.toObjectList(r.getLandmarkList(),proto.mediapipe.Landmark.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.LandmarkList.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.LandmarkList;return proto.mediapipe.LandmarkList.deserializeBinaryFromReader(n,r)},proto.mediapipe.LandmarkList.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.Landmark;t.readMessage(r,proto.mediapipe.Landmark.deserializeBinaryFromReader),e.addLandmark(r)}else t.skipField();return e},proto.mediapipe.LandmarkList.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.LandmarkList.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.LandmarkList.serializeBinaryToWriter=function(e,t){var r;(r=e.getLandmarkList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.Landmark.serializeBinaryToWriter)},proto.mediapipe.LandmarkList.prototype.getLandmarkList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.Landmark,1)},proto.mediapipe.LandmarkList.prototype.setLandmarkList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.LandmarkList.prototype.addLandmark=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.Landmark,r)},proto.mediapipe.LandmarkList.prototype.clearLandmarkList=function(){return this.setLandmarkList([])},proto.mediapipe.LandmarkListCollection.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LandmarkListCollection.prototype.toObject=function(e){return proto.mediapipe.LandmarkListCollection.toObject(e,this)},proto.mediapipe.LandmarkListCollection.toObject=function(e,r){var n={landmarkListList:t.Message.toObjectList(r.getLandmarkListList(),proto.mediapipe.LandmarkList.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.LandmarkListCollection.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.LandmarkListCollection;return proto.mediapipe.LandmarkListCollection.deserializeBinaryFromReader(n,r)},proto.mediapipe.LandmarkListCollection.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.LandmarkList;t.readMessage(r,proto.mediapipe.LandmarkList.deserializeBinaryFromReader),e.addLandmarkList(r)}else t.skipField();return e},proto.mediapipe.LandmarkListCollection.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.LandmarkListCollection.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.LandmarkListCollection.serializeBinaryToWriter=function(e,t){var r;(r=e.getLandmarkListList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.LandmarkList.serializeBinaryToWriter)},proto.mediapipe.LandmarkListCollection.prototype.getLandmarkListList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.LandmarkList,1)},proto.mediapipe.LandmarkListCollection.prototype.setLandmarkListList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.LandmarkListCollection.prototype.addLandmarkList=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.LandmarkList,r)},proto.mediapipe.LandmarkListCollection.prototype.clearLandmarkListList=function(){return this.setLandmarkListList([])},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmark.prototype.toObject=function(e){return proto.mediapipe.NormalizedLandmark.toObject(e,this)},proto.mediapipe.NormalizedLandmark.toObject=function(e,r){var n,i={x:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,y:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,z:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,visibility:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n,presence:null==(n=t.Message.getOptionalFloatingPointField(r,5))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.NormalizedLandmark.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.NormalizedLandmark;return proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader(n,r)},proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readFloat();e.setX(r);break;case 2:r=t.readFloat(),e.setY(r);break;case 3:r=t.readFloat(),e.setZ(r);break;case 4:r=t.readFloat(),e.setVisibility(r);break;case 5:r=t.readFloat(),e.setPresence(r);break;default:t.skipField()}return e},proto.mediapipe.NormalizedLandmark.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeFloat(1,n),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeFloat(3,n),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n),null!=(n=t.Message.getField(e,5))&&r.writeFloat(5,n)},proto.mediapipe.NormalizedLandmark.prototype.getX=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.NormalizedLandmark.prototype.setX=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.NormalizedLandmark.prototype.clearX=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasX=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.NormalizedLandmark.prototype.getY=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.NormalizedLandmark.prototype.setY=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.NormalizedLandmark.prototype.clearY=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasY=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.NormalizedLandmark.prototype.getZ=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.NormalizedLandmark.prototype.setZ=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.NormalizedLandmark.prototype.clearZ=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasZ=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.NormalizedLandmark.prototype.getVisibility=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.NormalizedLandmark.prototype.setVisibility=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.NormalizedLandmark.prototype.clearVisibility=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasVisibility=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.NormalizedLandmark.prototype.getPresence=function(){return t.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.NormalizedLandmark.prototype.setPresence=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.NormalizedLandmark.prototype.clearPresence=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasPresence=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.NormalizedLandmarkList.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmarkList.prototype.toObject=function(e){return proto.mediapipe.NormalizedLandmarkList.toObject(e,this)},proto.mediapipe.NormalizedLandmarkList.toObject=function(e,r){var n={landmarkList:t.Message.toObjectList(r.getLandmarkList(),proto.mediapipe.NormalizedLandmark.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.NormalizedLandmarkList.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.NormalizedLandmarkList;return proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader(n,r)},proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.NormalizedLandmark;t.readMessage(r,proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader),e.addLandmark(r)}else t.skipField();return e},proto.mediapipe.NormalizedLandmarkList.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter=function(e,t){var r;(r=e.getLandmarkList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter)},proto.mediapipe.NormalizedLandmarkList.prototype.getLandmarkList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.NormalizedLandmark,1)},proto.mediapipe.NormalizedLandmarkList.prototype.setLandmarkList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.NormalizedLandmarkList.prototype.addLandmark=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.NormalizedLandmark,r)},proto.mediapipe.NormalizedLandmarkList.prototype.clearLandmarkList=function(){return this.setLandmarkList([])},proto.mediapipe.NormalizedLandmarkListCollection.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmarkListCollection.prototype.toObject=function(e){return proto.mediapipe.NormalizedLandmarkListCollection.toObject(e,this)},proto.mediapipe.NormalizedLandmarkListCollection.toObject=function(e,r){var n={landmarkListList:t.Message.toObjectList(r.getLandmarkListList(),proto.mediapipe.NormalizedLandmarkList.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.NormalizedLandmarkListCollection;return proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinaryFromReader(n,r)},proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.NormalizedLandmarkList;t.readMessage(r,proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader),e.addLandmarkList(r)}else t.skipField();return e},proto.mediapipe.NormalizedLandmarkListCollection.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.NormalizedLandmarkListCollection.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.NormalizedLandmarkListCollection.serializeBinaryToWriter=function(e,t){var r;(r=e.getLandmarkListList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.getLandmarkListList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.NormalizedLandmarkList,1)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.setLandmarkListList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.addLandmarkList=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.NormalizedLandmarkList,r)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.clearLandmarkListList=function(){return this.setLandmarkListList([])},r.object.extend(e,proto.mediapipe)}(landmark_pb);var face_geometry_pb={},matrix_data_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.MatrixData",null,n),r.exportSymbol("proto.mediapipe.MatrixData.Layout",null,n),proto.mediapipe.MatrixData=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.MatrixData.repeatedFields_,null)},r.inherits(proto.mediapipe.MatrixData,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.MatrixData.displayName="proto.mediapipe.MatrixData"),proto.mediapipe.MatrixData.repeatedFields_=[3],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.MatrixData.prototype.toObject=function(e){return proto.mediapipe.MatrixData.toObject(e,this)},proto.mediapipe.MatrixData.toObject=function(e,r){var n,i={rows:null==(n=t.Message.getField(r,1))?void 0:n,cols:null==(n=t.Message.getField(r,2))?void 0:n,packedDataList:null==(n=t.Message.getRepeatedFloatingPointField(r,3))?void 0:n,layout:t.Message.getFieldWithDefault(r,4,0)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.MatrixData.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.MatrixData;return proto.mediapipe.MatrixData.deserializeBinaryFromReader(n,r)},proto.mediapipe.MatrixData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setRows(r);break;case 2:r=t.readInt32(),e.setCols(r);break;case 3:for(var n=t.isDelimited()?t.readPackedFloat():[t.readFloat()],i=0;i<n.length;i++)e.addPackedData(n[i]);break;case 4:r=t.readEnum(),e.setLayout(r);break;default:t.skipField()}return e},proto.mediapipe.MatrixData.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.MatrixData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.MatrixData.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),(n=e.getPackedDataList()).length>0&&r.writePackedFloat(3,n),null!=(n=t.Message.getField(e,4))&&r.writeEnum(4,n)},proto.mediapipe.MatrixData.Layout={COLUMN_MAJOR:0,ROW_MAJOR:1},proto.mediapipe.MatrixData.prototype.getRows=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.MatrixData.prototype.setRows=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.MatrixData.prototype.clearRows=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.MatrixData.prototype.hasRows=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.MatrixData.prototype.getCols=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.MatrixData.prototype.setCols=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.MatrixData.prototype.clearCols=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.MatrixData.prototype.hasCols=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.MatrixData.prototype.getPackedDataList=function(){return t.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.MatrixData.prototype.setPackedDataList=function(e){return t.Message.setField(this,3,e||[])},proto.mediapipe.MatrixData.prototype.addPackedData=function(e,r){return t.Message.addToRepeatedField(this,3,e,r)},proto.mediapipe.MatrixData.prototype.clearPackedDataList=function(){return this.setPackedDataList([])},proto.mediapipe.MatrixData.prototype.getLayout=function(){return t.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.MatrixData.prototype.setLayout=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.MatrixData.prototype.clearLayout=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.MatrixData.prototype.hasLayout=function(){return null!=t.Message.getField(this,4)},r.object.extend(e,proto.mediapipe)}(matrix_data_pb);var mesh_3d_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d",null,n),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.PrimitiveType",null,n),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.VertexType",null,n),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d"),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.repeatedFields_=[3,4],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.toObject(e,this)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.toObject=function(e,r){var n,i={vertexType:null==(n=t.Message.getField(r,1))?void 0:n,primitiveType:null==(n=t.Message.getField(r,2))?void 0:n,vertexBufferList:null==(n=t.Message.getRepeatedFloatingPointField(r,3))?void 0:n,indexBufferList:null==(n=t.Message.getRepeatedField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d;return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readEnum();e.setVertexType(r);break;case 2:r=t.readEnum(),e.setPrimitiveType(r);break;case 3:for(var n=t.isDelimited()?t.readPackedFloat():[t.readFloat()],i=0;i<n.length;i++)e.addVertexBuffer(n[i]);break;case 4:for(n=t.isDelimited()?t.readPackedUint32():[t.readUint32()],i=0;i<n.length;i++)e.addIndexBuffer(n[i]);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeEnum(1,n),null!=(n=t.Message.getField(e,2))&&r.writeEnum(2,n),(n=e.getVertexBufferList()).length>0&&r.writeRepeatedFloat(3,n),(n=e.getIndexBufferList()).length>0&&r.writeRepeatedUint32(4,n)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.VertexType={VERTEX_PT:0},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.PrimitiveType={TRIANGLE:0},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getVertexType=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setVertexType=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearVertexType=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.hasVertexType=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getPrimitiveType=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setPrimitiveType=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearPrimitiveType=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.hasPrimitiveType=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getVertexBufferList=function(){return t.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setVertexBufferList=function(e){return t.Message.setField(this,3,e||[])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.addVertexBuffer=function(e,r){return t.Message.addToRepeatedField(this,3,e,r)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearVertexBufferList=function(){return this.setVertexBufferList([])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getIndexBufferList=function(){return t.Message.getRepeatedField(this,4)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setIndexBufferList=function(e){return t.Message.setField(this,4,e||[])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.addIndexBuffer=function(e,r){return t.Message.addToRepeatedField(this,4,e,r)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearIndexBufferList=function(){return this.setIndexBufferList([])},r.object.extend(e,proto.mediapipe.tasks.vision.face_geometry.proto)}(mesh_3d_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=matrix_data_pb;r.object.extend(proto,i);var a=mesh_3d_pb;r.object.extend(proto,a),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry",null,n),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.toObject(e,this)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.toObject=function(e,t){var r,n={mesh:(r=t.getMesh())&&a.Mesh3d.toObject(e,r),poseTransformMatrix:(r=t.getPoseTransformMatrix())&&i.MatrixData.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new a.Mesh3d;t.readMessage(r,a.Mesh3d.deserializeBinaryFromReader),e.setMesh(r);break;case 2:r=new i.MatrixData,t.readMessage(r,i.MatrixData.deserializeBinaryFromReader),e.setPoseTransformMatrix(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getMesh())&&t.writeMessage(1,r,a.Mesh3d.serializeBinaryToWriter),null!=(r=e.getPoseTransformMatrix())&&t.writeMessage(2,r,i.MatrixData.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.getMesh=function(){return t.Message.getWrapperField(this,a.Mesh3d,1)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.setMesh=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.clearMesh=function(){return this.setMesh(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.hasMesh=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.getPoseTransformMatrix=function(){return t.Message.getWrapperField(this,i.MatrixData,2)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.setPoseTransformMatrix=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.clearPoseTransformMatrix=function(){return this.setPoseTransformMatrix(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.hasPoseTransformMatrix=function(){return null!=t.Message.getField(this,2)},r.object.extend(e,proto.mediapipe.tasks.vision.face_geometry.proto)}(face_geometry_pb);var face_landmarker_graph_options_pb={},face_geometry_graph_options_pb={},geometry_pipeline_calculator_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_options_pb;r.object.extend(proto,i);var a=external_file_pb;r.object.extend(proto,a),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions",null,n),proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.displayName="proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject(e,this)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject=function(e,t){var r,n={metadataFile:(r=t.getMetadataFile())&&a.ExternalFile.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions;return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new a.ExternalFile;t.readMessage(r,a.ExternalFile.deserializeBinaryFromReader),e.setMetadataFile(r)}else t.skipField();return e},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getMetadataFile())&&t.writeMessage(1,r,a.ExternalFile.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext=new t.ExtensionFieldInfo(0x1e8c1e00,{ext:0},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject,0),i.CalculatorOptions.extensionsBinary[0x1e8c1e00]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[0x1e8c1e00]=proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.getMetadataFile=function(){return t.Message.getWrapperField(this,a.ExternalFile,1)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.setMetadataFile=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.clearMetadataFile=function(){return this.setMetadataFile(void 0)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.hasMetadataFile=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext=new t.ExtensionFieldInfo(0x1e8c1e00,{ext:0},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject,0),i.CalculatorOptions.extensionsBinary[0x1e8c1e00]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[0x1e8c1e00]=proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.face_geometry)}(geometry_pipeline_calculator_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_options_pb;r.object.extend(proto,i);var a=geometry_pipeline_calculator_pb;r.object.extend(proto,a),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions",null,n),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject=function(e,t){var r,n={geometryPipelineOptions:(r=t.getGeometryPipelineOptions())&&a.FaceGeometryPipelineCalculatorOptions.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new a.FaceGeometryPipelineCalculatorOptions;t.readMessage(r,a.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader),e.setGeometryPipelineOptions(r)}else t.skipField();return e},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getGeometryPipelineOptions())&&t.writeMessage(1,r,a.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext=new t.ExtensionFieldInfo(0x1ebd50f2,{ext:0},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[0x1ebd50f2]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[0x1ebd50f2]=proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.getGeometryPipelineOptions=function(){return t.Message.getWrapperField(this,a.FaceGeometryPipelineCalculatorOptions,1)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.setGeometryPipelineOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.clearGeometryPipelineOptions=function(){return this.setGeometryPipelineOptions(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.hasGeometryPipelineOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext=new t.ExtensionFieldInfo(0x1ebd50f2,{ext:0},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[0x1ebd50f2]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[0x1ebd50f2]=proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.face_geometry.proto)}(face_geometry_graph_options_pb);var face_landmarks_detector_graph_options_pb={},face_blendshapes_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=base_options_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions",null,n),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject=function(e,t){var r,n={baseOptions:(r=t.getBaseOptions())&&o.BaseOptions.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new o.BaseOptions;t.readMessage(r,o.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r)}else t.skipField();return e},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getBaseOptions())&&t.writeMessage(1,r,o.BaseOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext=new t.ExtensionFieldInfo(0x1e567208,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1e567208]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1e567208]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,o.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext=new t.ExtensionFieldInfo(0x1e567208,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1e567208]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1e567208]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.face_landmarker.proto)}(face_blendshapes_graph_options_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=base_options_pb;r.object.extend(proto,o);var s=face_blendshapes_graph_options_pb;r.object.extend(proto,s),r.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&o.BaseOptions.toObject(e,n),minDetectionConfidence:t.Message.getFloatingPointFieldWithDefault(r,2,.5),smoothLandmarks:null==(n=t.Message.getBooleanField(r,4))?void 0:n,faceBlendshapesGraphOptions:(n=r.getFaceBlendshapesGraphOptions())&&s.FaceBlendshapesGraphOptions.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new o.BaseOptions;t.readMessage(r,o.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=t.readFloat(),e.setMinDetectionConfidence(r);break;case 4:r=t.readBool(),e.setSmoothLandmarks(r);break;case 3:r=new s.FaceBlendshapesGraphOptions,t.readMessage(r,s.FaceBlendshapesGraphOptions.deserializeBinaryFromReader),e.setFaceBlendshapesGraphOptions(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,o.BaseOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,4))&&r.writeBool(4,n),null!=(n=e.getFaceBlendshapesGraphOptions())&&r.writeMessage(3,n,s.FaceBlendshapesGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext=new t.ExtensionFieldInfo(0x1e563cd5,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1e563cd5]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1e563cd5]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,o.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getSmoothLandmarks=function(){return t.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setSmoothLandmarks=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearSmoothLandmarks=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasSmoothLandmarks=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getFaceBlendshapesGraphOptions=function(){return t.Message.getWrapperField(this,s.FaceBlendshapesGraphOptions,3)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setFaceBlendshapesGraphOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearFaceBlendshapesGraphOptions=function(){return this.setFaceBlendshapesGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasFaceBlendshapesGraphOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext=new t.ExtensionFieldInfo(0x1e563cd5,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1e563cd5]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1e563cd5]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.face_landmarker.proto)}(face_landmarks_detector_graph_options_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=base_options_pb;r.object.extend(proto,o);var s=face_detector_graph_options_pb;r.object.extend(proto,s);var p=face_geometry_graph_options_pb;r.object.extend(proto,p);var d=face_landmarks_detector_graph_options_pb;r.object.extend(proto,d),r.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions",null,n),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&o.BaseOptions.toObject(e,n),faceDetectorGraphOptions:(n=r.getFaceDetectorGraphOptions())&&s.FaceDetectorGraphOptions.toObject(e,n),faceLandmarksDetectorGraphOptions:(n=r.getFaceLandmarksDetectorGraphOptions())&&d.FaceLandmarksDetectorGraphOptions.toObject(e,n),minTrackingConfidence:t.Message.getFloatingPointFieldWithDefault(r,4,.5),faceGeometryGraphOptions:(n=r.getFaceGeometryGraphOptions())&&p.FaceGeometryGraphOptions.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new o.BaseOptions;t.readMessage(r,o.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new s.FaceDetectorGraphOptions,t.readMessage(r,s.FaceDetectorGraphOptions.deserializeBinaryFromReader),e.setFaceDetectorGraphOptions(r);break;case 3:r=new d.FaceLandmarksDetectorGraphOptions,t.readMessage(r,d.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader),e.setFaceLandmarksDetectorGraphOptions(r);break;case 4:r=t.readFloat(),e.setMinTrackingConfidence(r);break;case 5:r=new p.FaceGeometryGraphOptions,t.readMessage(r,p.FaceGeometryGraphOptions.deserializeBinaryFromReader),e.setFaceGeometryGraphOptions(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,o.BaseOptions.serializeBinaryToWriter),null!=(n=e.getFaceDetectorGraphOptions())&&r.writeMessage(2,n,s.FaceDetectorGraphOptions.serializeBinaryToWriter),null!=(n=e.getFaceLandmarksDetectorGraphOptions())&&r.writeMessage(3,n,d.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n),null!=(n=e.getFaceGeometryGraphOptions())&&r.writeMessage(5,n,p.FaceGeometryGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext=new t.ExtensionFieldInfo(0x1e563cd6,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1e563cd6]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1e563cd6]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,o.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceDetectorGraphOptions=function(){return t.Message.getWrapperField(this,s.FaceDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceDetectorGraphOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceDetectorGraphOptions=function(){return this.setFaceDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceDetectorGraphOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceLandmarksDetectorGraphOptions=function(){return t.Message.getWrapperField(this,d.FaceLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceLandmarksDetectorGraphOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceLandmarksDetectorGraphOptions=function(){return this.setFaceLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceLandmarksDetectorGraphOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceGeometryGraphOptions=function(){return t.Message.getWrapperField(this,p.FaceGeometryGraphOptions,5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceGeometryGraphOptions=function(e){return t.Message.setWrapperField(this,5,e)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceGeometryGraphOptions=function(){return this.setFaceGeometryGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceGeometryGraphOptions=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext=new t.ExtensionFieldInfo(0x1e563cd6,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1e563cd6]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1e563cd6]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.face_landmarker.proto)}(face_landmarker_graph_options_pb);var classifier_result={};Object.defineProperty(classifier_result,"__esModule",{value:!0}),classifier_result.convertFromClassificationResultProto=classifier_result.convertFromClassifications=void 0;let DEFAULT_INDEX$1=-1,DEFAULT_SCORE=0;function convertFromClassifications(e,t=DEFAULT_INDEX$1,r=""){return{categories:e.map(e=>{var t,r,n,i;return{index:null!=(t=e.getIndex())?t:DEFAULT_INDEX$1,score:null!=(r=e.getScore())?r:DEFAULT_SCORE,categoryName:null!=(n=e.getLabel())?n:"",displayName:null!=(i=e.getDisplayName())?i:""}}),headIndex:t,headName:r}}function convertFromClassificationsProto(e){var t,r;return convertFromClassifications(null!=(r=null==(t=e.getClassificationList())?void 0:t.getClassificationList())?r:[],e.getHeadIndex(),e.getHeadName())}function convertFromClassificationResultProto(e){let t={classifications:e.getClassificationsList().map(e=>convertFromClassificationsProto(e))};return e.hasTimestampMs()&&(t.timestampMs=e.getTimestampMs()),t}classifier_result.convertFromClassifications=convertFromClassifications,classifier_result.convertFromClassificationResultProto=convertFromClassificationResultProto;var landmark_result={};function convertToLandmarks(e){var t,r,n;let i=[];for(let a of e.getLandmarkList())i.push({x:null!=(t=a.getX())?t:0,y:null!=(r=a.getY())?r:0,z:null!=(n=a.getZ())?n:0});return i}function convertToWorldLandmarks(e){var t,r,n;let i=[];for(let a of e.getLandmarkList())i.push({x:null!=(t=a.getX())?t:0,y:null!=(r=a.getY())?r:0,z:null!=(n=a.getZ())?n:0});return i}Object.defineProperty(landmark_result,"__esModule",{value:!0}),landmark_result.convertToWorldLandmarks=landmark_result.convertToLandmarks=void 0,landmark_result.convertToLandmarks=convertToLandmarks,landmark_result.convertToWorldLandmarks=convertToWorldLandmarks;var MPImageType,MPMaskType,face_landmarks_connections={};exports=face_landmarks_connections,Object.defineProperty(exports,"__esModule",{value:!0}),exports.FACE_LANDMARKS_TESSELATION=exports.FACE_LANDMARKS_CONTOURS=exports.FACE_LANDMARKS_FACE_OVAL=exports.FACE_LANDMARKS_RIGHT_IRIS=exports.FACE_LANDMARKS_RIGHT_EYEBROW=exports.FACE_LANDMARKS_RIGHT_EYE=exports.FACE_LANDMARKS_LEFT_IRIS=exports.FACE_LANDMARKS_LEFT_EYEBROW=exports.FACE_LANDMARKS_LEFT_EYE=exports.FACE_LANDMARKS_LIPS=void 0,exports.FACE_LANDMARKS_LIPS=[{start:61,end:146},{start:146,end:91},{start:91,end:181},{start:181,end:84},{start:84,end:17},{start:17,end:314},{start:314,end:405},{start:405,end:321},{start:321,end:375},{start:375,end:291},{start:61,end:185},{start:185,end:40},{start:40,end:39},{start:39,end:37},{start:37,end:0},{start:0,end:267},{start:267,end:269},{start:269,end:270},{start:270,end:409},{start:409,end:291},{start:78,end:95},{start:95,end:88},{start:88,end:178},{start:178,end:87},{start:87,end:14},{start:14,end:317},{start:317,end:402},{start:402,end:318},{start:318,end:324},{start:324,end:308},{start:78,end:191},{start:191,end:80},{start:80,end:81},{start:81,end:82},{start:82,end:13},{start:13,end:312},{start:312,end:311},{start:311,end:310},{start:310,end:415},{start:415,end:308}],exports.FACE_LANDMARKS_LEFT_EYE=[{start:263,end:249},{start:249,end:390},{start:390,end:373},{start:373,end:374},{start:374,end:380},{start:380,end:381},{start:381,end:382},{start:382,end:362},{start:263,end:466},{start:466,end:388},{start:388,end:387},{start:387,end:386},{start:386,end:385},{start:385,end:384},{start:384,end:398},{start:398,end:362}],exports.FACE_LANDMARKS_LEFT_EYEBROW=[{start:276,end:283},{start:283,end:282},{start:282,end:295},{start:295,end:285},{start:300,end:293},{start:293,end:334},{start:334,end:296},{start:296,end:336}],exports.FACE_LANDMARKS_LEFT_IRIS=[{start:474,end:475},{start:475,end:476},{start:476,end:477},{start:477,end:474}],exports.FACE_LANDMARKS_RIGHT_EYE=[{start:33,end:7},{start:7,end:163},{start:163,end:144},{start:144,end:145},{start:145,end:153},{start:153,end:154},{start:154,end:155},{start:155,end:133},{start:33,end:246},{start:246,end:161},{start:161,end:160},{start:160,end:159},{start:159,end:158},{start:158,end:157},{start:157,end:173},{start:173,end:133}],exports.FACE_LANDMARKS_RIGHT_EYEBROW=[{start:46,end:53},{start:53,end:52},{start:52,end:65},{start:65,end:55},{start:70,end:63},{start:63,end:105},{start:105,end:66},{start:66,end:107}],exports.FACE_LANDMARKS_RIGHT_IRIS=[{start:469,end:470},{start:470,end:471},{start:471,end:472},{start:472,end:469}],exports.FACE_LANDMARKS_FACE_OVAL=[{start:10,end:338},{start:338,end:297},{start:297,end:332},{start:332,end:284},{start:284,end:251},{start:251,end:389},{start:389,end:356},{start:356,end:454},{start:454,end:323},{start:323,end:361},{start:361,end:288},{start:288,end:397},{start:397,end:365},{start:365,end:379},{start:379,end:378},{start:378,end:400},{start:400,end:377},{start:377,end:152},{start:152,end:148},{start:148,end:176},{start:176,end:149},{start:149,end:150},{start:150,end:136},{start:136,end:172},{start:172,end:58},{start:58,end:132},{start:132,end:93},{start:93,end:234},{start:234,end:127},{start:127,end:162},{start:162,end:21},{start:21,end:54},{start:54,end:103},{start:103,end:67},{start:67,end:109},{start:109,end:10}],exports.FACE_LANDMARKS_CONTOURS=[...exports.FACE_LANDMARKS_LIPS,...exports.FACE_LANDMARKS_LEFT_EYE,...exports.FACE_LANDMARKS_LEFT_EYEBROW,...exports.FACE_LANDMARKS_RIGHT_EYE,...exports.FACE_LANDMARKS_RIGHT_EYEBROW,...exports.FACE_LANDMARKS_FACE_OVAL],exports.FACE_LANDMARKS_TESSELATION=[{start:127,end:34},{start:34,end:139},{start:139,end:127},{start:11,end:0},{start:0,end:37},{start:37,end:11},{start:232,end:231},{start:231,end:120},{start:120,end:232},{start:72,end:37},{start:37,end:39},{start:39,end:72},{start:128,end:121},{start:121,end:47},{start:47,end:128},{start:232,end:121},{start:121,end:128},{start:128,end:232},{start:104,end:69},{start:69,end:67},{start:67,end:104},{start:175,end:171},{start:171,end:148},{start:148,end:175},{start:118,end:50},{start:50,end:101},{start:101,end:118},{start:73,end:39},{start:39,end:40},{start:40,end:73},{start:9,end:151},{start:151,end:108},{start:108,end:9},{start:48,end:115},{start:115,end:131},{start:131,end:48},{start:194,end:204},{start:204,end:211},{start:211,end:194},{start:74,end:40},{start:40,end:185},{start:185,end:74},{start:80,end:42},{start:42,end:183},{start:183,end:80},{start:40,end:92},{start:92,end:186},{start:186,end:40},{start:230,end:229},{start:229,end:118},{start:118,end:230},{start:202,end:212},{start:212,end:214},{start:214,end:202},{start:83,end:18},{start:18,end:17},{start:17,end:83},{start:76,end:61},{start:61,end:146},{start:146,end:76},{start:160,end:29},{start:29,end:30},{start:30,end:160},{start:56,end:157},{start:157,end:173},{start:173,end:56},{start:106,end:204},{start:204,end:194},{start:194,end:106},{start:135,end:214},{start:214,end:192},{start:192,end:135},{start:203,end:165},{start:165,end:98},{start:98,end:203},{start:21,end:71},{start:71,end:68},{start:68,end:21},{start:51,end:45},{start:45,end:4},{start:4,end:51},{start:144,end:24},{start:24,end:23},{start:23,end:144},{start:77,end:146},{start:146,end:91},{start:91,end:77},{start:205,end:50},{start:50,end:187},{start:187,end:205},{start:201,end:200},{start:200,end:18},{start:18,end:201},{start:91,end:106},{start:106,end:182},{start:182,end:91},{start:90,end:91},{start:91,end:181},{start:181,end:90},{start:85,end:84},{start:84,end:17},{start:17,end:85},{start:206,end:203},{start:203,end:36},{start:36,end:206},{start:148,end:171},{start:171,end:140},{start:140,end:148},{start:92,end:40},{start:40,end:39},{start:39,end:92},{start:193,end:189},{start:189,end:244},{start:244,end:193},{start:159,end:158},{start:158,end:28},{start:28,end:159},{start:247,end:246},{start:246,end:161},{start:161,end:247},{start:236,end:3},{start:3,end:196},{start:196,end:236},{start:54,end:68},{start:68,end:104},{start:104,end:54},{start:193,end:168},{start:168,end:8},{start:8,end:193},{start:117,end:228},{start:228,end:31},{start:31,end:117},{start:189,end:193},{start:193,end:55},{start:55,end:189},{start:98,end:97},{start:97,end:99},{start:99,end:98},{start:126,end:47},{start:47,end:100},{start:100,end:126},{start:166,end:79},{start:79,end:218},{start:218,end:166},{start:155,end:154},{start:154,end:26},{start:26,end:155},{start:209,end:49},{start:49,end:131},{start:131,end:209},{start:135,end:136},{start:136,end:150},{start:150,end:135},{start:47,end:126},{start:126,end:217},{start:217,end:47},{start:223,end:52},{start:52,end:53},{start:53,end:223},{start:45,end:51},{start:51,end:134},{start:134,end:45},{start:211,end:170},{start:170,end:140},{start:140,end:211},{start:67,end:69},{start:69,end:108},{start:108,end:67},{start:43,end:106},{start:106,end:91},{start:91,end:43},{start:230,end:119},{start:119,end:120},{start:120,end:230},{start:226,end:130},{start:130,end:247},{start:247,end:226},{start:63,end:53},{start:53,end:52},{start:52,end:63},{start:238,end:20},{start:20,end:242},{start:242,end:238},{start:46,end:70},{start:70,end:156},{start:156,end:46},{start:78,end:62},{start:62,end:96},{start:96,end:78},{start:46,end:53},{start:53,end:63},{start:63,end:46},{start:143,end:34},{start:34,end:227},{start:227,end:143},{start:123,end:117},{start:117,end:111},{start:111,end:123},{start:44,end:125},{start:125,end:19},{start:19,end:44},{start:236,end:134},{start:134,end:51},{start:51,end:236},{start:216,end:206},{start:206,end:205},{start:205,end:216},{start:154,end:153},{start:153,end:22},{start:22,end:154},{start:39,end:37},{start:37,end:167},{start:167,end:39},{start:200,end:201},{start:201,end:208},{start:208,end:200},{start:36,end:142},{start:142,end:100},{start:100,end:36},{start:57,end:212},{start:212,end:202},{start:202,end:57},{start:20,end:60},{start:60,end:99},{start:99,end:20},{start:28,end:158},{start:158,end:157},{start:157,end:28},{start:35,end:226},{start:226,end:113},{start:113,end:35},{start:160,end:159},{start:159,end:27},{start:27,end:160},{start:204,end:202},{start:202,end:210},{start:210,end:204},{start:113,end:225},{start:225,end:46},{start:46,end:113},{start:43,end:202},{start:202,end:204},{start:204,end:43},{start:62,end:76},{start:76,end:77},{start:77,end:62},{start:137,end:123},{start:123,end:116},{start:116,end:137},{start:41,end:38},{start:38,end:72},{start:72,end:41},{start:203,end:129},{start:129,end:142},{start:142,end:203},{start:64,end:98},{start:98,end:240},{start:240,end:64},{start:49,end:102},{start:102,end:64},{start:64,end:49},{start:41,end:73},{start:73,end:74},{start:74,end:41},{start:212,end:216},{start:216,end:207},{start:207,end:212},{start:42,end:74},{start:74,end:184},{start:184,end:42},{start:169,end:170},{start:170,end:211},{start:211,end:169},{start:170,end:149},{start:149,end:176},{start:176,end:170},{start:105,end:66},{start:66,end:69},{start:69,end:105},{start:122,end:6},{start:6,end:168},{start:168,end:122},{start:123,end:147},{start:147,end:187},{start:187,end:123},{start:96,end:77},{start:77,end:90},{start:90,end:96},{start:65,end:55},{start:55,end:107},{start:107,end:65},{start:89,end:90},{start:90,end:180},{start:180,end:89},{start:101,end:100},{start:100,end:120},{start:120,end:101},{start:63,end:105},{start:105,end:104},{start:104,end:63},{start:93,end:137},{start:137,end:227},{start:227,end:93},{start:15,end:86},{start:86,end:85},{start:85,end:15},{start:129,end:102},{start:102,end:49},{start:49,end:129},{start:14,end:87},{start:87,end:86},{start:86,end:14},{start:55,end:8},{start:8,end:9},{start:9,end:55},{start:100,end:47},{start:47,end:121},{start:121,end:100},{start:145,end:23},{start:23,end:22},{start:22,end:145},{start:88,end:89},{start:89,end:179},{start:179,end:88},{start:6,end:122},{start:122,end:196},{start:196,end:6},{start:88,end:95},{start:95,end:96},{start:96,end:88},{start:138,end:172},{start:172,end:136},{start:136,end:138},{start:215,end:58},{start:58,end:172},{start:172,end:215},{start:115,end:48},{start:48,end:219},{start:219,end:115},{start:42,end:80},{start:80,end:81},{start:81,end:42},{start:195,end:3},{start:3,end:51},{start:51,end:195},{start:43,end:146},{start:146,end:61},{start:61,end:43},{start:171,end:175},{start:175,end:199},{start:199,end:171},{start:81,end:82},{start:82,end:38},{start:38,end:81},{start:53,end:46},{start:46,end:225},{start:225,end:53},{start:144,end:163},{start:163,end:110},{start:110,end:144},{start:52,end:65},{start:65,end:66},{start:66,end:52},{start:229,end:228},{start:228,end:117},{start:117,end:229},{start:34,end:127},{start:127,end:234},{start:234,end:34},{start:107,end:108},{start:108,end:69},{start:69,end:107},{start:109,end:108},{start:108,end:151},{start:151,end:109},{start:48,end:64},{start:64,end:235},{start:235,end:48},{start:62,end:78},{start:78,end:191},{start:191,end:62},{start:129,end:209},{start:209,end:126},{start:126,end:129},{start:111,end:35},{start:35,end:143},{start:143,end:111},{start:117,end:123},{start:123,end:50},{start:50,end:117},{start:222,end:65},{start:65,end:52},{start:52,end:222},{start:19,end:125},{start:125,end:141},{start:141,end:19},{start:221,end:55},{start:55,end:65},{start:65,end:221},{start:3,end:195},{start:195,end:197},{start:197,end:3},{start:25,end:7},{start:7,end:33},{start:33,end:25},{start:220,end:237},{start:237,end:44},{start:44,end:220},{start:70,end:71},{start:71,end:139},{start:139,end:70},{start:122,end:193},{start:193,end:245},{start:245,end:122},{start:247,end:130},{start:130,end:33},{start:33,end:247},{start:71,end:21},{start:21,end:162},{start:162,end:71},{start:170,end:169},{start:169,end:150},{start:150,end:170},{start:188,end:174},{start:174,end:196},{start:196,end:188},{start:216,end:186},{start:186,end:92},{start:92,end:216},{start:2,end:97},{start:97,end:167},{start:167,end:2},{start:141,end:125},{start:125,end:241},{start:241,end:141},{start:164,end:167},{start:167,end:37},{start:37,end:164},{start:72,end:38},{start:38,end:12},{start:12,end:72},{start:38,end:82},{start:82,end:13},{start:13,end:38},{start:63,end:68},{start:68,end:71},{start:71,end:63},{start:226,end:35},{start:35,end:111},{start:111,end:226},{start:101,end:50},{start:50,end:205},{start:205,end:101},{start:206,end:92},{start:92,end:165},{start:165,end:206},{start:209,end:198},{start:198,end:217},{start:217,end:209},{start:165,end:167},{start:167,end:97},{start:97,end:165},{start:220,end:115},{start:115,end:218},{start:218,end:220},{start:133,end:112},{start:112,end:243},{start:243,end:133},{start:239,end:238},{start:238,end:241},{start:241,end:239},{start:214,end:135},{start:135,end:169},{start:169,end:214},{start:190,end:173},{start:173,end:133},{start:133,end:190},{start:171,end:208},{start:208,end:32},{start:32,end:171},{start:125,end:44},{start:44,end:237},{start:237,end:125},{start:86,end:87},{start:87,end:178},{start:178,end:86},{start:85,end:86},{start:86,end:179},{start:179,end:85},{start:84,end:85},{start:85,end:180},{start:180,end:84},{start:83,end:84},{start:84,end:181},{start:181,end:83},{start:201,end:83},{start:83,end:182},{start:182,end:201},{start:137,end:93},{start:93,end:132},{start:132,end:137},{start:76,end:62},{start:62,end:183},{start:183,end:76},{start:61,end:76},{start:76,end:184},{start:184,end:61},{start:57,end:61},{start:61,end:185},{start:185,end:57},{start:212,end:57},{start:57,end:186},{start:186,end:212},{start:214,end:207},{start:207,end:187},{start:187,end:214},{start:34,end:143},{start:143,end:156},{start:156,end:34},{start:79,end:239},{start:239,end:237},{start:237,end:79},{start:123,end:137},{start:137,end:177},{start:177,end:123},{start:44,end:1},{start:1,end:4},{start:4,end:44},{start:201,end:194},{start:194,end:32},{start:32,end:201},{start:64,end:102},{start:102,end:129},{start:129,end:64},{start:213,end:215},{start:215,end:138},{start:138,end:213},{start:59,end:166},{start:166,end:219},{start:219,end:59},{start:242,end:99},{start:99,end:97},{start:97,end:242},{start:2,end:94},{start:94,end:141},{start:141,end:2},{start:75,end:59},{start:59,end:235},{start:235,end:75},{start:24,end:110},{start:110,end:228},{start:228,end:24},{start:25,end:130},{start:130,end:226},{start:226,end:25},{start:23,end:24},{start:24,end:229},{start:229,end:23},{start:22,end:23},{start:23,end:230},{start:230,end:22},{start:26,end:22},{start:22,end:231},{start:231,end:26},{start:112,end:26},{start:26,end:232},{start:232,end:112},{start:189,end:190},{start:190,end:243},{start:243,end:189},{start:221,end:56},{start:56,end:190},{start:190,end:221},{start:28,end:56},{start:56,end:221},{start:221,end:28},{start:27,end:28},{start:28,end:222},{start:222,end:27},{start:29,end:27},{start:27,end:223},{start:223,end:29},{start:30,end:29},{start:29,end:224},{start:224,end:30},{start:247,end:30},{start:30,end:225},{start:225,end:247},{start:238,end:79},{start:79,end:20},{start:20,end:238},{start:166,end:59},{start:59,end:75},{start:75,end:166},{start:60,end:75},{start:75,end:240},{start:240,end:60},{start:147,end:177},{start:177,end:215},{start:215,end:147},{start:20,end:79},{start:79,end:166},{start:166,end:20},{start:187,end:147},{start:147,end:213},{start:213,end:187},{start:112,end:233},{start:233,end:244},{start:244,end:112},{start:233,end:128},{start:128,end:245},{start:245,end:233},{start:128,end:114},{start:114,end:188},{start:188,end:128},{start:114,end:217},{start:217,end:174},{start:174,end:114},{start:131,end:115},{start:115,end:220},{start:220,end:131},{start:217,end:198},{start:198,end:236},{start:236,end:217},{start:198,end:131},{start:131,end:134},{start:134,end:198},{start:177,end:132},{start:132,end:58},{start:58,end:177},{start:143,end:35},{start:35,end:124},{start:124,end:143},{start:110,end:163},{start:163,end:7},{start:7,end:110},{start:228,end:110},{start:110,end:25},{start:25,end:228},{start:356,end:389},{start:389,end:368},{start:368,end:356},{start:11,end:302},{start:302,end:267},{start:267,end:11},{start:452,end:350},{start:350,end:349},{start:349,end:452},{start:302,end:303},{start:303,end:269},{start:269,end:302},{start:357,end:343},{start:343,end:277},{start:277,end:357},{start:452,end:453},{start:453,end:357},{start:357,end:452},{start:333,end:332},{start:332,end:297},{start:297,end:333},{start:175,end:152},{start:152,end:377},{start:377,end:175},{start:347,end:348},{start:348,end:330},{start:330,end:347},{start:303,end:304},{start:304,end:270},{start:270,end:303},{start:9,end:336},{start:336,end:337},{start:337,end:9},{start:278,end:279},{start:279,end:360},{start:360,end:278},{start:418,end:262},{start:262,end:431},{start:431,end:418},{start:304,end:408},{start:408,end:409},{start:409,end:304},{start:310,end:415},{start:415,end:407},{start:407,end:310},{start:270,end:409},{start:409,end:410},{start:410,end:270},{start:450,end:348},{start:348,end:347},{start:347,end:450},{start:422,end:430},{start:430,end:434},{start:434,end:422},{start:313,end:314},{start:314,end:17},{start:17,end:313},{start:306,end:307},{start:307,end:375},{start:375,end:306},{start:387,end:388},{start:388,end:260},{start:260,end:387},{start:286,end:414},{start:414,end:398},{start:398,end:286},{start:335,end:406},{start:406,end:418},{start:418,end:335},{start:364,end:367},{start:367,end:416},{start:416,end:364},{start:423,end:358},{start:358,end:327},{start:327,end:423},{start:251,end:284},{start:284,end:298},{start:298,end:251},{start:281,end:5},{start:5,end:4},{start:4,end:281},{start:373,end:374},{start:374,end:253},{start:253,end:373},{start:307,end:320},{start:320,end:321},{start:321,end:307},{start:425,end:427},{start:427,end:411},{start:411,end:425},{start:421,end:313},{start:313,end:18},{start:18,end:421},{start:321,end:405},{start:405,end:406},{start:406,end:321},{start:320,end:404},{start:404,end:405},{start:405,end:320},{start:315,end:16},{start:16,end:17},{start:17,end:315},{start:426,end:425},{start:425,end:266},{start:266,end:426},{start:377,end:400},{start:400,end:369},{start:369,end:377},{start:322,end:391},{start:391,end:269},{start:269,end:322},{start:417,end:465},{start:465,end:464},{start:464,end:417},{start:386,end:257},{start:257,end:258},{start:258,end:386},{start:466,end:260},{start:260,end:388},{start:388,end:466},{start:456,end:399},{start:399,end:419},{start:419,end:456},{start:284,end:332},{start:332,end:333},{start:333,end:284},{start:417,end:285},{start:285,end:8},{start:8,end:417},{start:346,end:340},{start:340,end:261},{start:261,end:346},{start:413,end:441},{start:441,end:285},{start:285,end:413},{start:327,end:460},{start:460,end:328},{start:328,end:327},{start:355,end:371},{start:371,end:329},{start:329,end:355},{start:392,end:439},{start:439,end:438},{start:438,end:392},{start:382,end:341},{start:341,end:256},{start:256,end:382},{start:429,end:420},{start:420,end:360},{start:360,end:429},{start:364,end:394},{start:394,end:379},{start:379,end:364},{start:277,end:343},{start:343,end:437},{start:437,end:277},{start:443,end:444},{start:444,end:283},{start:283,end:443},{start:275,end:440},{start:440,end:363},{start:363,end:275},{start:431,end:262},{start:262,end:369},{start:369,end:431},{start:297,end:338},{start:338,end:337},{start:337,end:297},{start:273,end:375},{start:375,end:321},{start:321,end:273},{start:450,end:451},{start:451,end:349},{start:349,end:450},{start:446,end:342},{start:342,end:467},{start:467,end:446},{start:293,end:334},{start:334,end:282},{start:282,end:293},{start:458,end:461},{start:461,end:462},{start:462,end:458},{start:276,end:353},{start:353,end:383},{start:383,end:276},{start:308,end:324},{start:324,end:325},{start:325,end:308},{start:276,end:300},{start:300,end:293},{start:293,end:276},{start:372,end:345},{start:345,end:447},{start:447,end:372},{start:352,end:345},{start:345,end:340},{start:340,end:352},{start:274,end:1},{start:1,end:19},{start:19,end:274},{start:456,end:248},{start:248,end:281},{start:281,end:456},{start:436,end:427},{start:427,end:425},{start:425,end:436},{start:381,end:256},{start:256,end:252},{start:252,end:381},{start:269,end:391},{start:391,end:393},{start:393,end:269},{start:200,end:199},{start:199,end:428},{start:428,end:200},{start:266,end:330},{start:330,end:329},{start:329,end:266},{start:287,end:273},{start:273,end:422},{start:422,end:287},{start:250,end:462},{start:462,end:328},{start:328,end:250},{start:258,end:286},{start:286,end:384},{start:384,end:258},{start:265,end:353},{start:353,end:342},{start:342,end:265},{start:387,end:259},{start:259,end:257},{start:257,end:387},{start:424,end:431},{start:431,end:430},{start:430,end:424},{start:342,end:353},{start:353,end:276},{start:276,end:342},{start:273,end:335},{start:335,end:424},{start:424,end:273},{start:292,end:325},{start:325,end:307},{start:307,end:292},{start:366,end:447},{start:447,end:345},{start:345,end:366},{start:271,end:303},{start:303,end:302},{start:302,end:271},{start:423,end:266},{start:266,end:371},{start:371,end:423},{start:294,end:455},{start:455,end:460},{start:460,end:294},{start:279,end:278},{start:278,end:294},{start:294,end:279},{start:271,end:272},{start:272,end:304},{start:304,end:271},{start:432,end:434},{start:434,end:427},{start:427,end:432},{start:272,end:407},{start:407,end:408},{start:408,end:272},{start:394,end:430},{start:430,end:431},{start:431,end:394},{start:395,end:369},{start:369,end:400},{start:400,end:395},{start:334,end:333},{start:333,end:299},{start:299,end:334},{start:351,end:417},{start:417,end:168},{start:168,end:351},{start:352,end:280},{start:280,end:411},{start:411,end:352},{start:325,end:319},{start:319,end:320},{start:320,end:325},{start:295,end:296},{start:296,end:336},{start:336,end:295},{start:319,end:403},{start:403,end:404},{start:404,end:319},{start:330,end:348},{start:348,end:349},{start:349,end:330},{start:293,end:298},{start:298,end:333},{start:333,end:293},{start:323,end:454},{start:454,end:447},{start:447,end:323},{start:15,end:16},{start:16,end:315},{start:315,end:15},{start:358,end:429},{start:429,end:279},{start:279,end:358},{start:14,end:15},{start:15,end:316},{start:316,end:14},{start:285,end:336},{start:336,end:9},{start:9,end:285},{start:329,end:349},{start:349,end:350},{start:350,end:329},{start:374,end:380},{start:380,end:252},{start:252,end:374},{start:318,end:402},{start:402,end:403},{start:403,end:318},{start:6,end:197},{start:197,end:419},{start:419,end:6},{start:318,end:319},{start:319,end:325},{start:325,end:318},{start:367,end:364},{start:364,end:365},{start:365,end:367},{start:435,end:367},{start:367,end:397},{start:397,end:435},{start:344,end:438},{start:438,end:439},{start:439,end:344},{start:272,end:271},{start:271,end:311},{start:311,end:272},{start:195,end:5},{start:5,end:281},{start:281,end:195},{start:273,end:287},{start:287,end:291},{start:291,end:273},{start:396,end:428},{start:428,end:199},{start:199,end:396},{start:311,end:271},{start:271,end:268},{start:268,end:311},{start:283,end:444},{start:444,end:445},{start:445,end:283},{start:373,end:254},{start:254,end:339},{start:339,end:373},{start:282,end:334},{start:334,end:296},{start:296,end:282},{start:449,end:347},{start:347,end:346},{start:346,end:449},{start:264,end:447},{start:447,end:454},{start:454,end:264},{start:336,end:296},{start:296,end:299},{start:299,end:336},{start:338,end:10},{start:10,end:151},{start:151,end:338},{start:278,end:439},{start:439,end:455},{start:455,end:278},{start:292,end:407},{start:407,end:415},{start:415,end:292},{start:358,end:371},{start:371,end:355},{start:355,end:358},{start:340,end:345},{start:345,end:372},{start:372,end:340},{start:346,end:347},{start:347,end:280},{start:280,end:346},{start:442,end:443},{start:443,end:282},{start:282,end:442},{start:19,end:94},{start:94,end:370},{start:370,end:19},{start:441,end:442},{start:442,end:295},{start:295,end:441},{start:248,end:419},{start:419,end:197},{start:197,end:248},{start:263,end:255},{start:255,end:359},{start:359,end:263},{start:440,end:275},{start:275,end:274},{start:274,end:440},{start:300,end:383},{start:383,end:368},{start:368,end:300},{start:351,end:412},{start:412,end:465},{start:465,end:351},{start:263,end:467},{start:467,end:466},{start:466,end:263},{start:301,end:368},{start:368,end:389},{start:389,end:301},{start:395,end:378},{start:378,end:379},{start:379,end:395},{start:412,end:351},{start:351,end:419},{start:419,end:412},{start:436,end:426},{start:426,end:322},{start:322,end:436},{start:2,end:164},{start:164,end:393},{start:393,end:2},{start:370,end:462},{start:462,end:461},{start:461,end:370},{start:164,end:0},{start:0,end:267},{start:267,end:164},{start:302,end:11},{start:11,end:12},{start:12,end:302},{start:268,end:12},{start:12,end:13},{start:13,end:268},{start:293,end:300},{start:300,end:301},{start:301,end:293},{start:446,end:261},{start:261,end:340},{start:340,end:446},{start:330,end:266},{start:266,end:425},{start:425,end:330},{start:426,end:423},{start:423,end:391},{start:391,end:426},{start:429,end:355},{start:355,end:437},{start:437,end:429},{start:391,end:327},{start:327,end:326},{start:326,end:391},{start:440,end:457},{start:457,end:438},{start:438,end:440},{start:341,end:382},{start:382,end:362},{start:362,end:341},{start:459,end:457},{start:457,end:461},{start:461,end:459},{start:434,end:430},{start:430,end:394},{start:394,end:434},{start:414,end:463},{start:463,end:362},{start:362,end:414},{start:396,end:369},{start:369,end:262},{start:262,end:396},{start:354,end:461},{start:461,end:457},{start:457,end:354},{start:316,end:403},{start:403,end:402},{start:402,end:316},{start:315,end:404},{start:404,end:403},{start:403,end:315},{start:314,end:405},{start:405,end:404},{start:404,end:314},{start:313,end:406},{start:406,end:405},{start:405,end:313},{start:421,end:418},{start:418,end:406},{start:406,end:421},{start:366,end:401},{start:401,end:361},{start:361,end:366},{start:306,end:408},{start:408,end:407},{start:407,end:306},{start:291,end:409},{start:409,end:408},{start:408,end:291},{start:287,end:410},{start:410,end:409},{start:409,end:287},{start:432,end:436},{start:436,end:410},{start:410,end:432},{start:434,end:416},{start:416,end:411},{start:411,end:434},{start:264,end:368},{start:368,end:383},{start:383,end:264},{start:309,end:438},{start:438,end:457},{start:457,end:309},{start:352,end:376},{start:376,end:401},{start:401,end:352},{start:274,end:275},{start:275,end:4},{start:4,end:274},{start:421,end:428},{start:428,end:262},{start:262,end:421},{start:294,end:327},{start:327,end:358},{start:358,end:294},{start:433,end:416},{start:416,end:367},{start:367,end:433},{start:289,end:455},{start:455,end:439},{start:439,end:289},{start:462,end:370},{start:370,end:326},{start:326,end:462},{start:2,end:326},{start:326,end:370},{start:370,end:2},{start:305,end:460},{start:460,end:455},{start:455,end:305},{start:254,end:449},{start:449,end:448},{start:448,end:254},{start:255,end:261},{start:261,end:446},{start:446,end:255},{start:253,end:450},{start:450,end:449},{start:449,end:253},{start:252,end:451},{start:451,end:450},{start:450,end:252},{start:256,end:452},{start:452,end:451},{start:451,end:256},{start:341,end:453},{start:453,end:452},{start:452,end:341},{start:413,end:464},{start:464,end:463},{start:463,end:413},{start:441,end:413},{start:413,end:414},{start:414,end:441},{start:258,end:442},{start:442,end:441},{start:441,end:258},{start:257,end:443},{start:443,end:442},{start:442,end:257},{start:259,end:444},{start:444,end:443},{start:443,end:259},{start:260,end:445},{start:445,end:444},{start:444,end:260},{start:467,end:342},{start:342,end:445},{start:445,end:467},{start:459,end:458},{start:458,end:250},{start:250,end:459},{start:289,end:392},{start:392,end:290},{start:290,end:289},{start:290,end:328},{start:328,end:460},{start:460,end:290},{start:376,end:433},{start:433,end:435},{start:435,end:376},{start:250,end:290},{start:290,end:392},{start:392,end:250},{start:411,end:416},{start:416,end:433},{start:433,end:411},{start:341,end:463},{start:463,end:464},{start:464,end:341},{start:453,end:464},{start:464,end:465},{start:465,end:453},{start:357,end:465},{start:465,end:412},{start:412,end:357},{start:343,end:412},{start:412,end:399},{start:399,end:343},{start:360,end:363},{start:363,end:440},{start:440,end:360},{start:437,end:399},{start:399,end:456},{start:456,end:437},{start:420,end:456},{start:456,end:363},{start:363,end:420},{start:401,end:435},{start:435,end:288},{start:288,end:401},{start:372,end:383},{start:383,end:353},{start:353,end:372},{start:339,end:255},{start:255,end:249},{start:249,end:339},{start:448,end:261},{start:261,end:255},{start:255,end:448},{start:133,end:243},{start:243,end:190},{start:190,end:133},{start:133,end:155},{start:155,end:112},{start:112,end:133},{start:33,end:246},{start:246,end:247},{start:247,end:33},{start:33,end:130},{start:130,end:25},{start:25,end:33},{start:398,end:384},{start:384,end:286},{start:286,end:398},{start:362,end:398},{start:398,end:414},{start:414,end:362},{start:362,end:463},{start:463,end:341},{start:341,end:362},{start:263,end:359},{start:359,end:467},{start:467,end:263},{start:263,end:249},{start:249,end:255},{start:255,end:263},{start:466,end:467},{start:467,end:260},{start:260,end:466},{start:75,end:60},{start:60,end:166},{start:166,end:75},{start:238,end:239},{start:239,end:79},{start:79,end:238},{start:162,end:127},{start:127,end:139},{start:139,end:162},{start:72,end:11},{start:11,end:37},{start:37,end:72},{start:121,end:232},{start:232,end:120},{start:120,end:121},{start:73,end:72},{start:72,end:39},{start:39,end:73},{start:114,end:128},{start:128,end:47},{start:47,end:114},{start:233,end:232},{start:232,end:128},{start:128,end:233},{start:103,end:104},{start:104,end:67},{start:67,end:103},{start:152,end:175},{start:175,end:148},{start:148,end:152},{start:119,end:118},{start:118,end:101},{start:101,end:119},{start:74,end:73},{start:73,end:40},{start:40,end:74},{start:107,end:9},{start:9,end:108},{start:108,end:107},{start:49,end:48},{start:48,end:131},{start:131,end:49},{start:32,end:194},{start:194,end:211},{start:211,end:32},{start:184,end:74},{start:74,end:185},{start:185,end:184},{start:191,end:80},{start:80,end:183},{start:183,end:191},{start:185,end:40},{start:40,end:186},{start:186,end:185},{start:119,end:230},{start:230,end:118},{start:118,end:119},{start:210,end:202},{start:202,end:214},{start:214,end:210},{start:84,end:83},{start:83,end:17},{start:17,end:84},{start:77,end:76},{start:76,end:146},{start:146,end:77},{start:161,end:160},{start:160,end:30},{start:30,end:161},{start:190,end:56},{start:56,end:173},{start:173,end:190},{start:182,end:106},{start:106,end:194},{start:194,end:182},{start:138,end:135},{start:135,end:192},{start:192,end:138},{start:129,end:203},{start:203,end:98},{start:98,end:129},{start:54,end:21},{start:21,end:68},{start:68,end:54},{start:5,end:51},{start:51,end:4},{start:4,end:5},{start:145,end:144},{start:144,end:23},{start:23,end:145},{start:90,end:77},{start:77,end:91},{start:91,end:90},{start:207,end:205},{start:205,end:187},{start:187,end:207},{start:83,end:201},{start:201,end:18},{start:18,end:83},{start:181,end:91},{start:91,end:182},{start:182,end:181},{start:180,end:90},{start:90,end:181},{start:181,end:180},{start:16,end:85},{start:85,end:17},{start:17,end:16},{start:205,end:206},{start:206,end:36},{start:36,end:205},{start:176,end:148},{start:148,end:140},{start:140,end:176},{start:165,end:92},{start:92,end:39},{start:39,end:165},{start:245,end:193},{start:193,end:244},{start:244,end:245},{start:27,end:159},{start:159,end:28},{start:28,end:27},{start:30,end:247},{start:247,end:161},{start:161,end:30},{start:174,end:236},{start:236,end:196},{start:196,end:174},{start:103,end:54},{start:54,end:104},{start:104,end:103},{start:55,end:193},{start:193,end:8},{start:8,end:55},{start:111,end:117},{start:117,end:31},{start:31,end:111},{start:221,end:189},{start:189,end:55},{start:55,end:221},{start:240,end:98},{start:98,end:99},{start:99,end:240},{start:142,end:126},{start:126,end:100},{start:100,end:142},{start:219,end:166},{start:166,end:218},{start:218,end:219},{start:112,end:155},{start:155,end:26},{start:26,end:112},{start:198,end:209},{start:209,end:131},{start:131,end:198},{start:169,end:135},{start:135,end:150},{start:150,end:169},{start:114,end:47},{start:47,end:217},{start:217,end:114},{start:224,end:223},{start:223,end:53},{start:53,end:224},{start:220,end:45},{start:45,end:134},{start:134,end:220},{start:32,end:211},{start:211,end:140},{start:140,end:32},{start:109,end:67},{start:67,end:108},{start:108,end:109},{start:146,end:43},{start:43,end:91},{start:91,end:146},{start:231,end:230},{start:230,end:120},{start:120,end:231},{start:113,end:226},{start:226,end:247},{start:247,end:113},{start:105,end:63},{start:63,end:52},{start:52,end:105},{start:241,end:238},{start:238,end:242},{start:242,end:241},{start:124,end:46},{start:46,end:156},{start:156,end:124},{start:95,end:78},{start:78,end:96},{start:96,end:95},{start:70,end:46},{start:46,end:63},{start:63,end:70},{start:116,end:143},{start:143,end:227},{start:227,end:116},{start:116,end:123},{start:123,end:111},{start:111,end:116},{start:1,end:44},{start:44,end:19},{start:19,end:1},{start:3,end:236},{start:236,end:51},{start:51,end:3},{start:207,end:216},{start:216,end:205},{start:205,end:207},{start:26,end:154},{start:154,end:22},{start:22,end:26},{start:165,end:39},{start:39,end:167},{start:167,end:165},{start:199,end:200},{start:200,end:208},{start:208,end:199},{start:101,end:36},{start:36,end:100},{start:100,end:101},{start:43,end:57},{start:57,end:202},{start:202,end:43},{start:242,end:20},{start:20,end:99},{start:99,end:242},{start:56,end:28},{start:28,end:157},{start:157,end:56},{start:124,end:35},{start:35,end:113},{start:113,end:124},{start:29,end:160},{start:160,end:27},{start:27,end:29},{start:211,end:204},{start:204,end:210},{start:210,end:211},{start:124,end:113},{start:113,end:46},{start:46,end:124},{start:106,end:43},{start:43,end:204},{start:204,end:106},{start:96,end:62},{start:62,end:77},{start:77,end:96},{start:227,end:137},{start:137,end:116},{start:116,end:227},{start:73,end:41},{start:41,end:72},{start:72,end:73},{start:36,end:203},{start:203,end:142},{start:142,end:36},{start:235,end:64},{start:64,end:240},{start:240,end:235},{start:48,end:49},{start:49,end:64},{start:64,end:48},{start:42,end:41},{start:41,end:74},{start:74,end:42},{start:214,end:212},{start:212,end:207},{start:207,end:214},{start:183,end:42},{start:42,end:184},{start:184,end:183},{start:210,end:169},{start:169,end:211},{start:211,end:210},{start:140,end:170},{start:170,end:176},{start:176,end:140},{start:104,end:105},{start:105,end:69},{start:69,end:104},{start:193,end:122},{start:122,end:168},{start:168,end:193},{start:50,end:123},{start:123,end:187},{start:187,end:50},{start:89,end:96},{start:96,end:90},{start:90,end:89},{start:66,end:65},{start:65,end:107},{start:107,end:66},{start:179,end:89},{start:89,end:180},{start:180,end:179},{start:119,end:101},{start:101,end:120},{start:120,end:119},{start:68,end:63},{start:63,end:104},{start:104,end:68},{start:234,end:93},{start:93,end:227},{start:227,end:234},{start:16,end:15},{start:15,end:85},{start:85,end:16},{start:209,end:129},{start:129,end:49},{start:49,end:209},{start:15,end:14},{start:14,end:86},{start:86,end:15},{start:107,end:55},{start:55,end:9},{start:9,end:107},{start:120,end:100},{start:100,end:121},{start:121,end:120},{start:153,end:145},{start:145,end:22},{start:22,end:153},{start:178,end:88},{start:88,end:179},{start:179,end:178},{start:197,end:6},{start:6,end:196},{start:196,end:197},{start:89,end:88},{start:88,end:96},{start:96,end:89},{start:135,end:138},{start:138,end:136},{start:136,end:135},{start:138,end:215},{start:215,end:172},{start:172,end:138},{start:218,end:115},{start:115,end:219},{start:219,end:218},{start:41,end:42},{start:42,end:81},{start:81,end:41},{start:5,end:195},{start:195,end:51},{start:51,end:5},{start:57,end:43},{start:43,end:61},{start:61,end:57},{start:208,end:171},{start:171,end:199},{start:199,end:208},{start:41,end:81},{start:81,end:38},{start:38,end:41},{start:224,end:53},{start:53,end:225},{start:225,end:224},{start:24,end:144},{start:144,end:110},{start:110,end:24},{start:105,end:52},{start:52,end:66},{start:66,end:105},{start:118,end:229},{start:229,end:117},{start:117,end:118},{start:227,end:34},{start:34,end:234},{start:234,end:227},{start:66,end:107},{start:107,end:69},{start:69,end:66},{start:10,end:109},{start:109,end:151},{start:151,end:10},{start:219,end:48},{start:48,end:235},{start:235,end:219},{start:183,end:62},{start:62,end:191},{start:191,end:183},{start:142,end:129},{start:129,end:126},{start:126,end:142},{start:116,end:111},{start:111,end:143},{start:143,end:116},{start:118,end:117},{start:117,end:50},{start:50,end:118},{start:223,end:222},{start:222,end:52},{start:52,end:223},{start:94,end:19},{start:19,end:141},{start:141,end:94},{start:222,end:221},{start:221,end:65},{start:65,end:222},{start:196,end:3},{start:3,end:197},{start:197,end:196},{start:45,end:220},{start:220,end:44},{start:44,end:45},{start:156,end:70},{start:70,end:139},{start:139,end:156},{start:188,end:122},{start:122,end:245},{start:245,end:188},{start:139,end:71},{start:71,end:162},{start:162,end:139},{start:149,end:170},{start:170,end:150},{start:150,end:149},{start:122,end:188},{start:188,end:196},{start:196,end:122},{start:206,end:216},{start:216,end:92},{start:92,end:206},{start:164,end:2},{start:2,end:167},{start:167,end:164},{start:242,end:141},{start:141,end:241},{start:241,end:242},{start:0,end:164},{start:164,end:37},{start:37,end:0},{start:11,end:72},{start:72,end:12},{start:12,end:11},{start:12,end:38},{start:38,end:13},{start:13,end:12},{start:70,end:63},{start:63,end:71},{start:71,end:70},{start:31,end:226},{start:226,end:111},{start:111,end:31},{start:36,end:101},{start:101,end:205},{start:205,end:36},{start:203,end:206},{start:206,end:165},{start:165,end:203},{start:126,end:209},{start:209,end:217},{start:217,end:126},{start:98,end:165},{start:165,end:97},{start:97,end:98},{start:237,end:220},{start:220,end:218},{start:218,end:237},{start:237,end:239},{start:239,end:241},{start:241,end:237},{start:210,end:214},{start:214,end:169},{start:169,end:210},{start:140,end:171},{start:171,end:32},{start:32,end:140},{start:241,end:125},{start:125,end:237},{start:237,end:241},{start:179,end:86},{start:86,end:178},{start:178,end:179},{start:180,end:85},{start:85,end:179},{start:179,end:180},{start:181,end:84},{start:84,end:180},{start:180,end:181},{start:182,end:83},{start:83,end:181},{start:181,end:182},{start:194,end:201},{start:201,end:182},{start:182,end:194},{start:177,end:137},{start:137,end:132},{start:132,end:177},{start:184,end:76},{start:76,end:183},{start:183,end:184},{start:185,end:61},{start:61,end:184},{start:184,end:185},{start:186,end:57},{start:57,end:185},{start:185,end:186},{start:216,end:212},{start:212,end:186},{start:186,end:216},{start:192,end:214},{start:214,end:187},{start:187,end:192},{start:139,end:34},{start:34,end:156},{start:156,end:139},{start:218,end:79},{start:79,end:237},{start:237,end:218},{start:147,end:123},{start:123,end:177},{start:177,end:147},{start:45,end:44},{start:44,end:4},{start:4,end:45},{start:208,end:201},{start:201,end:32},{start:32,end:208},{start:98,end:64},{start:64,end:129},{start:129,end:98},{start:192,end:213},{start:213,end:138},{start:138,end:192},{start:235,end:59},{start:59,end:219},{start:219,end:235},{start:141,end:242},{start:242,end:97},{start:97,end:141},{start:97,end:2},{start:2,end:141},{start:141,end:97},{start:240,end:75},{start:75,end:235},{start:235,end:240},{start:229,end:24},{start:24,end:228},{start:228,end:229},{start:31,end:25},{start:25,end:226},{start:226,end:31},{start:230,end:23},{start:23,end:229},{start:229,end:230},{start:231,end:22},{start:22,end:230},{start:230,end:231},{start:232,end:26},{start:26,end:231},{start:231,end:232},{start:233,end:112},{start:112,end:232},{start:232,end:233},{start:244,end:189},{start:189,end:243},{start:243,end:244},{start:189,end:221},{start:221,end:190},{start:190,end:189},{start:222,end:28},{start:28,end:221},{start:221,end:222},{start:223,end:27},{start:27,end:222},{start:222,end:223},{start:224,end:29},{start:29,end:223},{start:223,end:224},{start:225,end:30},{start:30,end:224},{start:224,end:225},{start:113,end:247},{start:247,end:225},{start:225,end:113},{start:99,end:60},{start:60,end:240},{start:240,end:99},{start:213,end:147},{start:147,end:215},{start:215,end:213},{start:60,end:20},{start:20,end:166},{start:166,end:60},{start:192,end:187},{start:187,end:213},{start:213,end:192},{start:243,end:112},{start:112,end:244},{start:244,end:243},{start:244,end:233},{start:233,end:245},{start:245,end:244},{start:245,end:128},{start:128,end:188},{start:188,end:245},{start:188,end:114},{start:114,end:174},{start:174,end:188},{start:134,end:131},{start:131,end:220},{start:220,end:134},{start:174,end:217},{start:217,end:236},{start:236,end:174},{start:236,end:198},{start:198,end:134},{start:134,end:236},{start:215,end:177},{start:177,end:58},{start:58,end:215},{start:156,end:143},{start:143,end:124},{start:124,end:156},{start:25,end:110},{start:110,end:7},{start:7,end:25},{start:31,end:228},{start:228,end:25},{start:25,end:31},{start:264,end:356},{start:356,end:368},{start:368,end:264},{start:0,end:11},{start:11,end:267},{start:267,end:0},{start:451,end:452},{start:452,end:349},{start:349,end:451},{start:267,end:302},{start:302,end:269},{start:269,end:267},{start:350,end:357},{start:357,end:277},{start:277,end:350},{start:350,end:452},{start:452,end:357},{start:357,end:350},{start:299,end:333},{start:333,end:297},{start:297,end:299},{start:396,end:175},{start:175,end:377},{start:377,end:396},{start:280,end:347},{start:347,end:330},{start:330,end:280},{start:269,end:303},{start:303,end:270},{start:270,end:269},{start:151,end:9},{start:9,end:337},{start:337,end:151},{start:344,end:278},{start:278,end:360},{start:360,end:344},{start:424,end:418},{start:418,end:431},{start:431,end:424},{start:270,end:304},{start:304,end:409},{start:409,end:270},{start:272,end:310},{start:310,end:407},{start:407,end:272},{start:322,end:270},{start:270,end:410},{start:410,end:322},{start:449,end:450},{start:450,end:347},{start:347,end:449},{start:432,end:422},{start:422,end:434},{start:434,end:432},{start:18,end:313},{start:313,end:17},{start:17,end:18},{start:291,end:306},{start:306,end:375},{start:375,end:291},{start:259,end:387},{start:387,end:260},{start:260,end:259},{start:424,end:335},{start:335,end:418},{start:418,end:424},{start:434,end:364},{start:364,end:416},{start:416,end:434},{start:391,end:423},{start:423,end:327},{start:327,end:391},{start:301,end:251},{start:251,end:298},{start:298,end:301},{start:275,end:281},{start:281,end:4},{start:4,end:275},{start:254,end:373},{start:373,end:253},{start:253,end:254},{start:375,end:307},{start:307,end:321},{start:321,end:375},{start:280,end:425},{start:425,end:411},{start:411,end:280},{start:200,end:421},{start:421,end:18},{start:18,end:200},{start:335,end:321},{start:321,end:406},{start:406,end:335},{start:321,end:320},{start:320,end:405},{start:405,end:321},{start:314,end:315},{start:315,end:17},{start:17,end:314},{start:423,end:426},{start:426,end:266},{start:266,end:423},{start:396,end:377},{start:377,end:369},{start:369,end:396},{start:270,end:322},{start:322,end:269},{start:269,end:270},{start:413,end:417},{start:417,end:464},{start:464,end:413},{start:385,end:386},{start:386,end:258},{start:258,end:385},{start:248,end:456},{start:456,end:419},{start:419,end:248},{start:298,end:284},{start:284,end:333},{start:333,end:298},{start:168,end:417},{start:417,end:8},{start:8,end:168},{start:448,end:346},{start:346,end:261},{start:261,end:448},{start:417,end:413},{start:413,end:285},{start:285,end:417},{start:326,end:327},{start:327,end:328},{start:328,end:326},{start:277,end:355},{start:355,end:329},{start:329,end:277},{start:309,end:392},{start:392,end:438},{start:438,end:309},{start:381,end:382},{start:382,end:256},{start:256,end:381},{start:279,end:429},{start:429,end:360},{start:360,end:279},{start:365,end:364},{start:364,end:379},{start:379,end:365},{start:355,end:277},{start:277,end:437},{start:437,end:355},{start:282,end:443},{start:443,end:283},{start:283,end:282},{start:281,end:275},{start:275,end:363},{start:363,end:281},{start:395,end:431},{start:431,end:369},{start:369,end:395},{start:299,end:297},{start:297,end:337},{start:337,end:299},{start:335,end:273},{start:273,end:321},{start:321,end:335},{start:348,end:450},{start:450,end:349},{start:349,end:348},{start:359,end:446},{start:446,end:467},{start:467,end:359},{start:283,end:293},{start:293,end:282},{start:282,end:283},{start:250,end:458},{start:458,end:462},{start:462,end:250},{start:300,end:276},{start:276,end:383},{start:383,end:300},{start:292,end:308},{start:308,end:325},{start:325,end:292},{start:283,end:276},{start:276,end:293},{start:293,end:283},{start:264,end:372},{start:372,end:447},{start:447,end:264},{start:346,end:352},{start:352,end:340},{start:340,end:346},{start:354,end:274},{start:274,end:19},{start:19,end:354},{start:363,end:456},{start:456,end:281},{start:281,end:363},{start:426,end:436},{start:436,end:425},{start:425,end:426},{start:380,end:381},{start:381,end:252},{start:252,end:380},{start:267,end:269},{start:269,end:393},{start:393,end:267},{start:421,end:200},{start:200,end:428},{start:428,end:421},{start:371,end:266},{start:266,end:329},{start:329,end:371},{start:432,end:287},{start:287,end:422},{start:422,end:432},{start:290,end:250},{start:250,end:328},{start:328,end:290},{start:385,end:258},{start:258,end:384},{start:384,end:385},{start:446,end:265},{start:265,end:342},{start:342,end:446},{start:386,end:387},{start:387,end:257},{start:257,end:386},{start:422,end:424},{start:424,end:430},{start:430,end:422},{start:445,end:342},{start:342,end:276},{start:276,end:445},{start:422,end:273},{start:273,end:424},{start:424,end:422},{start:306,end:292},{start:292,end:307},{start:307,end:306},{start:352,end:366},{start:366,end:345},{start:345,end:352},{start:268,end:271},{start:271,end:302},{start:302,end:268},{start:358,end:423},{start:423,end:371},{start:371,end:358},{start:327,end:294},{start:294,end:460},{start:460,end:327},{start:331,end:279},{start:279,end:294},{start:294,end:331},{start:303,end:271},{start:271,end:304},{start:304,end:303},{start:436,end:432},{start:432,end:427},{start:427,end:436},{start:304,end:272},{start:272,end:408},{start:408,end:304},{start:395,end:394},{start:394,end:431},{start:431,end:395},{start:378,end:395},{start:395,end:400},{start:400,end:378},{start:296,end:334},{start:334,end:299},{start:299,end:296},{start:6,end:351},{start:351,end:168},{start:168,end:6},{start:376,end:352},{start:352,end:411},{start:411,end:376},{start:307,end:325},{start:325,end:320},{start:320,end:307},{start:285,end:295},{start:295,end:336},{start:336,end:285},{start:320,end:319},{start:319,end:404},{start:404,end:320},{start:329,end:330},{start:330,end:349},{start:349,end:329},{start:334,end:293},{start:293,end:333},{start:333,end:334},{start:366,end:323},{start:323,end:447},{start:447,end:366},{start:316,end:15},{start:15,end:315},{start:315,end:316},{start:331,end:358},{start:358,end:279},{start:279,end:331},{start:317,end:14},{start:14,end:316},{start:316,end:317},{start:8,end:285},{start:285,end:9},{start:9,end:8},{start:277,end:329},{start:329,end:350},{start:350,end:277},{start:253,end:374},{start:374,end:252},{start:252,end:253},{start:319,end:318},{start:318,end:403},{start:403,end:319},{start:351,end:6},{start:6,end:419},{start:419,end:351},{start:324,end:318},{start:318,end:325},{start:325,end:324},{start:397,end:367},{start:367,end:365},{start:365,end:397},{start:288,end:435},{start:435,end:397},{start:397,end:288},{start:278,end:344},{start:344,end:439},{start:439,end:278},{start:310,end:272},{start:272,end:311},{start:311,end:310},{start:248,end:195},{start:195,end:281},{start:281,end:248},{start:375,end:273},{start:273,end:291},{start:291,end:375},{start:175,end:396},{start:396,end:199},{start:199,end:175},{start:312,end:311},{start:311,end:268},{start:268,end:312},{start:276,end:283},{start:283,end:445},{start:445,end:276},{start:390,end:373},{start:373,end:339},{start:339,end:390},{start:295,end:282},{start:282,end:296},{start:296,end:295},{start:448,end:449},{start:449,end:346},{start:346,end:448},{start:356,end:264},{start:264,end:454},{start:454,end:356},{start:337,end:336},{start:336,end:299},{start:299,end:337},{start:337,end:338},{start:338,end:151},{start:151,end:337},{start:294,end:278},{start:278,end:455},{start:455,end:294},{start:308,end:292},{start:292,end:415},{start:415,end:308},{start:429,end:358},{start:358,end:355},{start:355,end:429},{start:265,end:340},{start:340,end:372},{start:372,end:265},{start:352,end:346},{start:346,end:280},{start:280,end:352},{start:295,end:442},{start:442,end:282},{start:282,end:295},{start:354,end:19},{start:19,end:370},{start:370,end:354},{start:285,end:441},{start:441,end:295},{start:295,end:285},{start:195,end:248},{start:248,end:197},{start:197,end:195},{start:457,end:440},{start:440,end:274},{start:274,end:457},{start:301,end:300},{start:300,end:368},{start:368,end:301},{start:417,end:351},{start:351,end:465},{start:465,end:417},{start:251,end:301},{start:301,end:389},{start:389,end:251},{start:394,end:395},{start:395,end:379},{start:379,end:394},{start:399,end:412},{start:412,end:419},{start:419,end:399},{start:410,end:436},{start:436,end:322},{start:322,end:410},{start:326,end:2},{start:2,end:393},{start:393,end:326},{start:354,end:370},{start:370,end:461},{start:461,end:354},{start:393,end:164},{start:164,end:267},{start:267,end:393},{start:268,end:302},{start:302,end:12},{start:12,end:268},{start:312,end:268},{start:268,end:13},{start:13,end:312},{start:298,end:293},{start:293,end:301},{start:301,end:298},{start:265,end:446},{start:446,end:340},{start:340,end:265},{start:280,end:330},{start:330,end:425},{start:425,end:280},{start:322,end:426},{start:426,end:391},{start:391,end:322},{start:420,end:429},{start:429,end:437},{start:437,end:420},{start:393,end:391},{start:391,end:326},{start:326,end:393},{start:344,end:440},{start:440,end:438},{start:438,end:344},{start:458,end:459},{start:459,end:461},{start:461,end:458},{start:364,end:434},{start:434,end:394},{start:394,end:364},{start:428,end:396},{start:396,end:262},{start:262,end:428},{start:274,end:354},{start:354,end:457},{start:457,end:274},{start:317,end:316},{start:316,end:402},{start:402,end:317},{start:316,end:315},{start:315,end:403},{start:403,end:316},{start:315,end:314},{start:314,end:404},{start:404,end:315},{start:314,end:313},{start:313,end:405},{start:405,end:314},{start:313,end:421},{start:421,end:406},{start:406,end:313},{start:323,end:366},{start:366,end:361},{start:361,end:323},{start:292,end:306},{start:306,end:407},{start:407,end:292},{start:306,end:291},{start:291,end:408},{start:408,end:306},{start:291,end:287},{start:287,end:409},{start:409,end:291},{start:287,end:432},{start:432,end:410},{start:410,end:287},{start:427,end:434},{start:434,end:411},{start:411,end:427},{start:372,end:264},{start:264,end:383},{start:383,end:372},{start:459,end:309},{start:309,end:457},{start:457,end:459},{start:366,end:352},{start:352,end:401},{start:401,end:366},{start:1,end:274},{start:274,end:4},{start:4,end:1},{start:418,end:421},{start:421,end:262},{start:262,end:418},{start:331,end:294},{start:294,end:358},{start:358,end:331},{start:435,end:433},{start:433,end:367},{start:367,end:435},{start:392,end:289},{start:289,end:439},{start:439,end:392},{start:328,end:462},{start:462,end:326},{start:326,end:328},{start:94,end:2},{start:2,end:370},{start:370,end:94},{start:289,end:305},{start:305,end:455},{start:455,end:289},{start:339,end:254},{start:254,end:448},{start:448,end:339},{start:359,end:255},{start:255,end:446},{start:446,end:359},{start:254,end:253},{start:253,end:449},{start:449,end:254},{start:253,end:252},{start:252,end:450},{start:450,end:253},{start:252,end:256},{start:256,end:451},{start:451,end:252},{start:256,end:341},{start:341,end:452},{start:452,end:256},{start:414,end:413},{start:413,end:463},{start:463,end:414},{start:286,end:441},{start:441,end:414},{start:414,end:286},{start:286,end:258},{start:258,end:441},{start:441,end:286},{start:258,end:257},{start:257,end:442},{start:442,end:258},{start:257,end:259},{start:259,end:443},{start:443,end:257},{start:259,end:260},{start:260,end:444},{start:444,end:259},{start:260,end:467},{start:467,end:445},{start:445,end:260},{start:309,end:459},{start:459,end:250},{start:250,end:309},{start:305,end:289},{start:289,end:290},{start:290,end:305},{start:305,end:290},{start:290,end:460},{start:460,end:305},{start:401,end:376},{start:376,end:435},{start:435,end:401},{start:309,end:250},{start:250,end:392},{start:392,end:309},{start:376,end:411},{start:411,end:433},{start:433,end:376},{start:453,end:341},{start:341,end:464},{start:464,end:453},{start:357,end:453},{start:453,end:465},{start:465,end:357},{start:343,end:357},{start:357,end:412},{start:412,end:343},{start:437,end:343},{start:343,end:399},{start:399,end:437},{start:344,end:360},{start:360,end:440},{start:440,end:344},{start:420,end:437},{start:437,end:456},{start:456,end:420},{start:360,end:420},{start:420,end:363},{start:363,end:360},{start:361,end:401},{start:401,end:288},{start:288,end:361},{start:265,end:372},{start:372,end:353},{start:353,end:265},{start:390,end:339},{start:339,end:249},{start:249,end:390},{start:339,end:448},{start:448,end:255},{start:255,end:339}];var face_landmarker_options={};Object.defineProperty(face_landmarker_options,"__esModule",{value:!0});var face_landmarker_result={};Object.defineProperty(face_landmarker_result,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.FaceLandmarker=void 0;let n=calculator_pb,i=calculator_options_pb,a=classification_pb,o=landmark_pb,s=base_options_pb,p=face_detector_graph_options_pb,d=face_geometry_pb,l=face_landmarker_graph_options_pb,c=face_landmarks_detector_graph_options_pb,u=classifier_result,f=landmark_result,m=vision_task_runner,g=face_landmarks_connections;r(face_landmarker_options,e),r(face_landmarker_result,e);let h="image_in",y="norm_rect",v="face_landmarks",b="blendshapes",_="face_geometry",O=.5;class M extends m.VisionTaskRunner{static createFromOptions(e,t){return m.VisionTaskRunner.createVisionInstance(M,e,t)}static createFromModelBuffer(e,t){return m.VisionTaskRunner.createVisionInstance(M,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return m.VisionTaskRunner.createVisionInstance(M,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new m.VisionGraphRunner(e,t),h,y,!1),this.result={faceLandmarks:[]},this.outputFaceBlendshapes=!1,this.outputFacialTransformationMatrixes=!1,this.options=new l.FaceLandmarkerGraphOptions,this.options.setBaseOptions(new s.BaseOptions),this.faceLandmarksDetectorGraphOptions=new c.FaceLandmarksDetectorGraphOptions,this.options.setFaceLandmarksDetectorGraphOptions(this.faceLandmarksDetectorGraphOptions),this.faceDetectorGraphOptions=new p.FaceDetectorGraphOptions,this.options.setFaceDetectorGraphOptions(this.faceDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){var t,r,n,i;return"numFaces"in e&&this.faceDetectorGraphOptions.setNumFaces(null!=(t=e.numFaces)?t:1),"minFaceDetectionConfidence"in e&&this.faceDetectorGraphOptions.setMinDetectionConfidence(null!=(r=e.minFaceDetectionConfidence)?r:O),"minTrackingConfidence"in e&&this.options.setMinTrackingConfidence(null!=(n=e.minTrackingConfidence)?n:O),"minFacePresenceConfidence"in e&&this.faceLandmarksDetectorGraphOptions.setMinDetectionConfidence(null!=(i=e.minFacePresenceConfidence)?i:O),"outputFaceBlendshapes"in e&&(this.outputFaceBlendshapes=!!e.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in e&&(this.outputFacialTransformationMatrixes=!!e.outputFacialTransformationMatrixes),this.applyOptions(e)}detect(e,t){return this.resetResults(),this.processImageData(e,t),this.result}detectForVideo(e,t,r){return this.resetResults(),this.processVideoData(e,r,t),this.result}resetResults(){this.result={faceLandmarks:[]},this.outputFaceBlendshapes&&(this.result.faceBlendshapes=[]),this.outputFacialTransformationMatrixes&&(this.result.facialTransformationMatrixes=[])}initDefaults(){this.faceDetectorGraphOptions.setNumFaces(1),this.faceDetectorGraphOptions.setMinDetectionConfidence(O),this.faceLandmarksDetectorGraphOptions.setMinDetectionConfidence(O),this.options.setMinTrackingConfidence(O)}addJsLandmarks(e){for(let t of e){let e=o.NormalizedLandmarkList.deserializeBinary(t);this.result.faceLandmarks.push((0,f.convertToLandmarks)(e))}}addBlenshape(e){var t;if(this.result.faceBlendshapes)for(let r of e){let e=a.ClassificationList.deserializeBinary(r);this.result.faceBlendshapes.push((0,u.convertFromClassifications)(null!=(t=e.getClassificationList())?t:[]))}}addFacialTransformationMatrixes(e){var t,r,n;if(this.result.facialTransformationMatrixes)for(let i of e){let e=d.FaceGeometry.deserializeBinary(i).getPoseTransformMatrix();e&&this.result.facialTransformationMatrixes.push({rows:null!=(t=e.getRows())?t:0,columns:null!=(r=e.getCols())?r:0,data:null!=(n=e.getPackedDataList())?n:[]})}}refreshGraph(){let e=new n.CalculatorGraphConfig;e.addInputStream(h),e.addInputStream(y),e.addOutputStream(v);let t=new i.CalculatorOptions;t.setExtension(l.FaceLandmarkerGraphOptions.ext,this.options);let r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),r.addInputStream("IMAGE:"+h),r.addInputStream("NORM_RECT:"+y),r.addOutputStream("NORM_LANDMARKS:"+v),r.setOptions(t),e.addNode(r),this.graphRunner.attachProtoVectorListener(v,(e,t)=>{this.addJsLandmarks(e),this.setLatestOutputTimestamp(t)}),this.graphRunner.attachEmptyPacketListener(v,e=>{this.setLatestOutputTimestamp(e)}),this.outputFaceBlendshapes&&(e.addOutputStream(b),r.addOutputStream("BLENDSHAPES:"+b),this.graphRunner.attachProtoVectorListener(b,(e,t)=>{this.addBlenshape(e),this.setLatestOutputTimestamp(t)}),this.graphRunner.attachEmptyPacketListener(b,e=>{this.setLatestOutputTimestamp(e)})),this.outputFacialTransformationMatrixes&&(e.addOutputStream(_),r.addOutputStream("FACE_GEOMETRY:"+_),this.graphRunner.attachProtoVectorListener(_,(e,t)=>{this.addFacialTransformationMatrixes(e),this.setLatestOutputTimestamp(t)}),this.graphRunner.attachEmptyPacketListener(_,e=>{this.setLatestOutputTimestamp(e)}));let a=e.serializeBinary();this.setGraph(new Uint8Array(a),!0)}}e.FaceLandmarker=M,M.FACE_LANDMARKS_LIPS=g.FACE_LANDMARKS_LIPS,M.FACE_LANDMARKS_LEFT_EYE=g.FACE_LANDMARKS_LEFT_EYE,M.FACE_LANDMARKS_LEFT_EYEBROW=g.FACE_LANDMARKS_LEFT_EYEBROW,M.FACE_LANDMARKS_LEFT_IRIS=g.FACE_LANDMARKS_LEFT_IRIS,M.FACE_LANDMARKS_RIGHT_EYE=g.FACE_LANDMARKS_RIGHT_EYE,M.FACE_LANDMARKS_RIGHT_EYEBROW=g.FACE_LANDMARKS_RIGHT_EYEBROW,M.FACE_LANDMARKS_RIGHT_IRIS=g.FACE_LANDMARKS_RIGHT_IRIS,M.FACE_LANDMARKS_FACE_OVAL=g.FACE_LANDMARKS_FACE_OVAL,M.FACE_LANDMARKS_CONTOURS=g.FACE_LANDMARKS_CONTOURS,M.FACE_LANDMARKS_TESSELATION=g.FACE_LANDMARKS_TESSELATION}(face_landmarker);var face_stylizer={},face_stylizer_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=base_options_pb;r.object.extend(proto,o);var s=face_landmarker_graph_options_pb;r.object.extend(proto,s),r.exportSymbol("proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions",null,n),proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.displayName="proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject=function(e,t){var r,n={baseOptions:(r=t.getBaseOptions())&&o.BaseOptions.toObject(e,r),faceLandmarkerGraphOptions:(r=t.getFaceLandmarkerGraphOptions())&&s.FaceLandmarkerGraphOptions.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions;return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new o.BaseOptions;t.readMessage(r,o.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new s.FaceLandmarkerGraphOptions,t.readMessage(r,s.FaceLandmarkerGraphOptions.deserializeBinaryFromReader),e.setFaceLandmarkerGraphOptions(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getBaseOptions())&&t.writeMessage(1,r,o.BaseOptions.serializeBinaryToWriter),null!=(r=e.getFaceLandmarkerGraphOptions())&&t.writeMessage(2,r,s.FaceLandmarkerGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext=new t.ExtensionFieldInfo(0x1ea1bd3c,{ext:0},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1ea1bd3c]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1ea1bd3c]=proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,o.BaseOptions,1)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.getFaceLandmarkerGraphOptions=function(){return t.Message.getWrapperField(this,s.FaceLandmarkerGraphOptions,2)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.setFaceLandmarkerGraphOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.clearFaceLandmarkerGraphOptions=function(){return this.setFaceLandmarkerGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.hasFaceLandmarkerGraphOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext=new t.ExtensionFieldInfo(0x1ea1bd3c,{ext:0},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1ea1bd3c]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1ea1bd3c]=proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.face_stylizer.proto)}(face_stylizer_graph_options_pb);var face_stylizer_options={};Object.defineProperty(face_stylizer_options,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.FaceStylizer=void 0;let n=calculator_pb,i=calculator_options_pb,a=base_options_pb,o=face_stylizer_graph_options_pb,s=vision_task_runner;r(face_stylizer_options,e);let p="image_in",d="norm_rect",l="stylized_image";class c extends s.VisionTaskRunner{static createFromOptions(e,t){return s.VisionTaskRunner.createVisionInstance(c,e,t)}static createFromModelBuffer(e,t){return s.VisionTaskRunner.createVisionInstance(c,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return s.VisionTaskRunner.createVisionInstance(c,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new s.VisionGraphRunner(e,t),p,d,!0),this.options=new o.FaceStylizerGraphOptions,this.options.setBaseOptions(new a.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){return super.applyOptions(e)}stylize(e,t,r){let n="function"!=typeof t?t:{};if(this.userCallback="function"==typeof t?t:r,this.processImageData(e,null!=n?n:{}),!this.userCallback)return this.result}stylizeForVideo(e,t,r,n){let i="function"!=typeof r?r:{};if(this.userCallback="function"==typeof r?r:n,this.processVideoData(e,i,t),this.userCallback=void 0,!this.userCallback)return this.result}refreshGraph(){let e=new n.CalculatorGraphConfig;e.addInputStream(p),e.addInputStream(d),e.addOutputStream(l);let t=new i.CalculatorOptions;t.setExtension(o.FaceStylizerGraphOptions.ext,this.options);let r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.face_stylizer.FaceStylizerGraph"),r.addInputStream("IMAGE:"+p),r.addInputStream("NORM_RECT:"+d),r.addOutputStream("STYLIZED_IMAGE:"+l),r.setOptions(t),e.addNode(r),this.graphRunner.attachImageListener(l,(e,t)=>{let r=this.convertToMPImage(e,!this.userCallback);this.result=r,this.userCallback&&this.userCallback(r),this.setLatestOutputTimestamp(t)}),this.graphRunner.attachEmptyPacketListener(l,e=>{this.result=null,this.userCallback&&this.userCallback(null),this.setLatestOutputTimestamp(e)});let a=e.serializeBinary();this.setGraph(new Uint8Array(a),!0)}}e.FaceStylizer=c}(face_stylizer);var gesture_recognizer={},gesture_classifier_graph_options_pb={},classifier_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.components.processors.proto.ClassifierOptions",null,n),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.displayName="proto.mediapipe.tasks.components.processors.proto.ClassifierOptions"),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.repeatedFields_=[4,5],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.toObject(e,this)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.toObject=function(e,r){var n,i={displayNamesLocale:t.Message.getFieldWithDefault(r,1,"en"),maxResults:t.Message.getFieldWithDefault(r,2,-1),scoreThreshold:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,categoryAllowlistList:null==(n=t.Message.getRepeatedField(r,4))?void 0:n,categoryDenylistList:null==(n=t.Message.getRepeatedField(r,5))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.components.processors.proto.ClassifierOptions;return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setDisplayNamesLocale(r);break;case 2:r=t.readInt32(),e.setMaxResults(r);break;case 3:r=t.readFloat(),e.setScoreThreshold(r);break;case 4:r=t.readString(),e.addCategoryAllowlist(r);break;case 5:r=t.readString(),e.addCategoryDenylist(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=t.Message.getField(e,3))&&r.writeFloat(3,n),(n=e.getCategoryAllowlistList()).length>0&&r.writeRepeatedString(4,n),(n=e.getCategoryDenylistList()).length>0&&r.writeRepeatedString(5,n)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getDisplayNamesLocale=function(){return t.Message.getFieldWithDefault(this,1,"en")},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setDisplayNamesLocale=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearDisplayNamesLocale=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasDisplayNamesLocale=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getMaxResults=function(){return t.Message.getFieldWithDefault(this,2,-1)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setMaxResults=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearMaxResults=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasMaxResults=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getScoreThreshold=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setScoreThreshold=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearScoreThreshold=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasScoreThreshold=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getCategoryAllowlistList=function(){return t.Message.getRepeatedField(this,4)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setCategoryAllowlistList=function(e){return t.Message.setField(this,4,e||[])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.addCategoryAllowlist=function(e,r){return t.Message.addToRepeatedField(this,4,e,r)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearCategoryAllowlistList=function(){return this.setCategoryAllowlistList([])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getCategoryDenylistList=function(){return t.Message.getRepeatedField(this,5)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setCategoryDenylistList=function(e){return t.Message.setField(this,5,e||[])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.addCategoryDenylist=function(e,r){return t.Message.addToRepeatedField(this,5,e,r)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearCategoryDenylistList=function(){return this.setCategoryDenylistList([])},r.object.extend(e,proto.mediapipe.tasks.components.processors.proto)}(classifier_options_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=classifier_options_pb;r.object.extend(proto,o);var s=base_options_pb;r.object.extend(proto,s),r.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions",null,n),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject=function(e,t){var r,n={baseOptions:(r=t.getBaseOptions())&&s.BaseOptions.toObject(e,r),classifierOptions:(r=t.getClassifierOptions())&&o.ClassifierOptions.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new s.BaseOptions;t.readMessage(r,s.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new o.ClassifierOptions,t.readMessage(r,o.ClassifierOptions.deserializeBinaryFromReader),e.setClassifierOptions(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getBaseOptions())&&t.writeMessage(1,r,s.BaseOptions.serializeBinaryToWriter),null!=(r=e.getClassifierOptions())&&t.writeMessage(2,r,o.ClassifierOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext=new t.ExtensionFieldInfo(0x1c8a4bf9,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1c8a4bf9]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1c8a4bf9]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,s.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.getClassifierOptions=function(){return t.Message.getWrapperField(this,o.ClassifierOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.setClassifierOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.clearClassifierOptions=function(){return this.setClassifierOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.hasClassifierOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext=new t.ExtensionFieldInfo(0x1c8a4bf9,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1c8a4bf9]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1c8a4bf9]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(gesture_classifier_graph_options_pb);var gesture_recognizer_graph_options_pb={},hand_gesture_recognizer_graph_options_pb={},gesture_embedder_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=base_options_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions",null,n),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject=function(e,t){var r,n={baseOptions:(r=t.getBaseOptions())&&o.BaseOptions.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new o.BaseOptions;t.readMessage(r,o.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r)}else t.skipField();return e},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getBaseOptions())&&t.writeMessage(1,r,o.BaseOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext=new t.ExtensionFieldInfo(0x1c8a4bce,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1c8a4bce]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1c8a4bce]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,o.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext=new t.ExtensionFieldInfo(0x1c8a4bce,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1c8a4bce]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1c8a4bce]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(gesture_embedder_graph_options_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=base_options_pb;r.object.extend(proto,o);var s=gesture_classifier_graph_options_pb;r.object.extend(proto,s);var p=gesture_embedder_graph_options_pb;r.object.extend(proto,p),r.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions",null,n),proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject=function(e,t){var r,n={baseOptions:(r=t.getBaseOptions())&&o.BaseOptions.toObject(e,r),gestureEmbedderGraphOptions:(r=t.getGestureEmbedderGraphOptions())&&p.GestureEmbedderGraphOptions.toObject(e,r),cannedGestureClassifierGraphOptions:(r=t.getCannedGestureClassifierGraphOptions())&&s.GestureClassifierGraphOptions.toObject(e,r),customGestureClassifierGraphOptions:(r=t.getCustomGestureClassifierGraphOptions())&&s.GestureClassifierGraphOptions.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new o.BaseOptions;t.readMessage(r,o.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new p.GestureEmbedderGraphOptions,t.readMessage(r,p.GestureEmbedderGraphOptions.deserializeBinaryFromReader),e.setGestureEmbedderGraphOptions(r);break;case 3:r=new s.GestureClassifierGraphOptions,t.readMessage(r,s.GestureClassifierGraphOptions.deserializeBinaryFromReader),e.setCannedGestureClassifierGraphOptions(r);break;case 4:r=new s.GestureClassifierGraphOptions,t.readMessage(r,s.GestureClassifierGraphOptions.deserializeBinaryFromReader),e.setCustomGestureClassifierGraphOptions(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getBaseOptions())&&t.writeMessage(1,r,o.BaseOptions.serializeBinaryToWriter),null!=(r=e.getGestureEmbedderGraphOptions())&&t.writeMessage(2,r,p.GestureEmbedderGraphOptions.serializeBinaryToWriter),null!=(r=e.getCannedGestureClassifierGraphOptions())&&t.writeMessage(3,r,s.GestureClassifierGraphOptions.serializeBinaryToWriter),null!=(r=e.getCustomGestureClassifierGraphOptions())&&t.writeMessage(4,r,s.GestureClassifierGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext=new t.ExtensionFieldInfo(0x1b9e78d4,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1b9e78d4]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1b9e78d4]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,o.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getGestureEmbedderGraphOptions=function(){return t.Message.getWrapperField(this,p.GestureEmbedderGraphOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setGestureEmbedderGraphOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearGestureEmbedderGraphOptions=function(){return this.setGestureEmbedderGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasGestureEmbedderGraphOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getCannedGestureClassifierGraphOptions=function(){return t.Message.getWrapperField(this,s.GestureClassifierGraphOptions,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setCannedGestureClassifierGraphOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearCannedGestureClassifierGraphOptions=function(){return this.setCannedGestureClassifierGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasCannedGestureClassifierGraphOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getCustomGestureClassifierGraphOptions=function(){return t.Message.getWrapperField(this,s.GestureClassifierGraphOptions,4)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setCustomGestureClassifierGraphOptions=function(e){return t.Message.setWrapperField(this,4,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearCustomGestureClassifierGraphOptions=function(){return this.setCustomGestureClassifierGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasCustomGestureClassifierGraphOptions=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext=new t.ExtensionFieldInfo(0x1b9e78d4,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1b9e78d4]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1b9e78d4]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(hand_gesture_recognizer_graph_options_pb);var hand_landmarker_graph_options_pb={},hand_detector_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=base_options_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&o.BaseOptions.toObject(e,n),minDetectionConfidence:t.Message.getFloatingPointFieldWithDefault(r,2,.5),numHands:null==(n=t.Message.getField(r,3))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions;return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new o.BaseOptions;t.readMessage(r,o.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=t.readFloat(),e.setMinDetectionConfidence(r);break;case 3:r=t.readInt32(),e.setNumHands(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,o.BaseOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext=new t.ExtensionFieldInfo(0x1bb54420,{ext:0},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1bb54420]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1bb54420]=proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,o.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setMinDetectionConfidence=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getNumHands=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setNumHands=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearNumHands=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasNumHands=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext=new t.ExtensionFieldInfo(0x1bb54420,{ext:0},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1bb54420]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1bb54420]=proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.hand_detector.proto)}(hand_detector_graph_options_pb);var hand_landmarks_detector_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=base_options_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&o.BaseOptions.toObject(e,n),minDetectionConfidence:t.Message.getFloatingPointFieldWithDefault(r,2,.5)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new o.BaseOptions;t.readMessage(r,o.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=t.readFloat(),e.setMinDetectionConfidence(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,o.BaseOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext=new t.ExtensionFieldInfo(0x1c47e016,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1c47e016]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1c47e016]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,o.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext=new t.ExtensionFieldInfo(0x1c47e016,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1c47e016]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1c47e016]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.hand_landmarker.proto)}(hand_landmarks_detector_graph_options_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=base_options_pb;r.object.extend(proto,o);var s=hand_detector_graph_options_pb;r.object.extend(proto,s);var p=hand_landmarks_detector_graph_options_pb;r.object.extend(proto,p),r.exportSymbol("proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions",null,n),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&o.BaseOptions.toObject(e,n),handDetectorGraphOptions:(n=r.getHandDetectorGraphOptions())&&s.HandDetectorGraphOptions.toObject(e,n),handLandmarksDetectorGraphOptions:(n=r.getHandLandmarksDetectorGraphOptions())&&p.HandLandmarksDetectorGraphOptions.toObject(e,n),minTrackingConfidence:t.Message.getFloatingPointFieldWithDefault(r,4,.5)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new o.BaseOptions;t.readMessage(r,o.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new s.HandDetectorGraphOptions,t.readMessage(r,s.HandDetectorGraphOptions.deserializeBinaryFromReader),e.setHandDetectorGraphOptions(r);break;case 3:r=new p.HandLandmarksDetectorGraphOptions,t.readMessage(r,p.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader),e.setHandLandmarksDetectorGraphOptions(r);break;case 4:r=t.readFloat(),e.setMinTrackingConfidence(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,o.BaseOptions.serializeBinaryToWriter),null!=(n=e.getHandDetectorGraphOptions())&&r.writeMessage(2,n,s.HandDetectorGraphOptions.serializeBinaryToWriter),null!=(n=e.getHandLandmarksDetectorGraphOptions())&&r.writeMessage(3,n,p.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext=new t.ExtensionFieldInfo(0x1b947172,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1b947172]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1b947172]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,o.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getHandDetectorGraphOptions=function(){return t.Message.getWrapperField(this,s.HandDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setHandDetectorGraphOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearHandDetectorGraphOptions=function(){return this.setHandDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasHandDetectorGraphOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getHandLandmarksDetectorGraphOptions=function(){return t.Message.getWrapperField(this,p.HandLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setHandLandmarksDetectorGraphOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearHandLandmarksDetectorGraphOptions=function(){return this.setHandLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasHandLandmarksDetectorGraphOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext=new t.ExtensionFieldInfo(0x1b947172,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1b947172]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1b947172]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.hand_landmarker.proto)}(hand_landmarker_graph_options_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=base_options_pb;r.object.extend(proto,o);var s=hand_gesture_recognizer_graph_options_pb;r.object.extend(proto,s);var p=hand_landmarker_graph_options_pb;r.object.extend(proto,p),r.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions",null,n),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject=function(e,t){var r,n={baseOptions:(r=t.getBaseOptions())&&o.BaseOptions.toObject(e,r),handLandmarkerGraphOptions:(r=t.getHandLandmarkerGraphOptions())&&p.HandLandmarkerGraphOptions.toObject(e,r),handGestureRecognizerGraphOptions:(r=t.getHandGestureRecognizerGraphOptions())&&s.HandGestureRecognizerGraphOptions.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new o.BaseOptions;t.readMessage(r,o.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new p.HandLandmarkerGraphOptions,t.readMessage(r,p.HandLandmarkerGraphOptions.deserializeBinaryFromReader),e.setHandLandmarkerGraphOptions(r);break;case 3:r=new s.HandGestureRecognizerGraphOptions,t.readMessage(r,s.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader),e.setHandGestureRecognizerGraphOptions(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getBaseOptions())&&t.writeMessage(1,r,o.BaseOptions.serializeBinaryToWriter),null!=(r=e.getHandLandmarkerGraphOptions())&&t.writeMessage(2,r,p.HandLandmarkerGraphOptions.serializeBinaryToWriter),null!=(r=e.getHandGestureRecognizerGraphOptions())&&t.writeMessage(3,r,s.HandGestureRecognizerGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext=new t.ExtensionFieldInfo(0x1c8e70de,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1c8e70de]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1c8e70de]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,o.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getHandLandmarkerGraphOptions=function(){return t.Message.getWrapperField(this,p.HandLandmarkerGraphOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setHandLandmarkerGraphOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearHandLandmarkerGraphOptions=function(){return this.setHandLandmarkerGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasHandLandmarkerGraphOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getHandGestureRecognizerGraphOptions=function(){return t.Message.getWrapperField(this,s.HandGestureRecognizerGraphOptions,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setHandGestureRecognizerGraphOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearHandGestureRecognizerGraphOptions=function(){return this.setHandGestureRecognizerGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasHandGestureRecognizerGraphOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext=new t.ExtensionFieldInfo(0x1c8e70de,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1c8e70de]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1c8e70de]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(gesture_recognizer_graph_options_pb);var classifier_options={};Object.defineProperty(classifier_options,"__esModule",{value:!0}),classifier_options.convertClassifierOptionsToProto=void 0;let classifier_options_pb_1=classifier_options_pb;function convertClassifierOptionsToProto(e,t){let r=t?t.clone():new classifier_options_pb_1.ClassifierOptions;return void 0!==e.displayNamesLocale?r.setDisplayNamesLocale(e.displayNamesLocale):void 0===e.displayNamesLocale&&r.clearDisplayNamesLocale(),void 0!==e.maxResults?r.setMaxResults(e.maxResults):"maxResults"in e&&r.clearMaxResults(),void 0!==e.scoreThreshold?r.setScoreThreshold(e.scoreThreshold):"scoreThreshold"in e&&r.clearScoreThreshold(),void 0!==e.categoryAllowlist?r.setCategoryAllowlistList(e.categoryAllowlist):"categoryAllowlist"in e&&r.clearCategoryAllowlistList(),void 0!==e.categoryDenylist?r.setCategoryDenylistList(e.categoryDenylist):"categoryDenylist"in e&&r.clearCategoryDenylistList(),r}classifier_options.convertClassifierOptionsToProto=convertClassifierOptionsToProto;var hand_landmarks_connections={};Object.defineProperty(hand_landmarks_connections,"__esModule",{value:!0}),hand_landmarks_connections.HAND_CONNECTIONS=void 0,hand_landmarks_connections.HAND_CONNECTIONS=[{start:0,end:1},{start:1,end:2},{start:2,end:3},{start:3,end:4},{start:0,end:5},{start:5,end:6},{start:6,end:7},{start:7,end:8},{start:5,end:9},{start:9,end:10},{start:10,end:11},{start:11,end:12},{start:9,end:13},{start:13,end:14},{start:14,end:15},{start:15,end:16},{start:13,end:17},{start:0,end:17},{start:17,end:18},{start:18,end:19},{start:19,end:20}];var gesture_recognizer_options={};Object.defineProperty(gesture_recognizer_options,"__esModule",{value:!0});var gesture_recognizer_result={};Object.defineProperty(gesture_recognizer_result,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.GestureRecognizer=void 0;let n=calculator_pb,i=calculator_options_pb,a=classification_pb,o=landmark_pb,s=base_options_pb,p=gesture_classifier_graph_options_pb,d=gesture_recognizer_graph_options_pb,l=hand_gesture_recognizer_graph_options_pb,c=hand_detector_graph_options_pb,u=hand_landmarker_graph_options_pb,f=hand_landmarks_detector_graph_options_pb,m=classifier_options,g=vision_task_runner,h=hand_landmarks_connections;r(gesture_recognizer_options,e),r(gesture_recognizer_result,e);let y="image_in",v="norm_rect",b="hand_gestures",_="hand_landmarks",O="world_hand_landmarks",M="handedness",F=.5;class S extends g.VisionTaskRunner{static createFromOptions(e,t){return g.VisionTaskRunner.createVisionInstance(S,e,t)}static createFromModelBuffer(e,t){return g.VisionTaskRunner.createVisionInstance(S,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return g.VisionTaskRunner.createVisionInstance(S,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new g.VisionGraphRunner(e,t),y,v,!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handednesses=[],this.options=new d.GestureRecognizerGraphOptions,this.options.setBaseOptions(new s.BaseOptions),this.handLandmarkerGraphOptions=new u.HandLandmarkerGraphOptions,this.options.setHandLandmarkerGraphOptions(this.handLandmarkerGraphOptions),this.handLandmarksDetectorGraphOptions=new f.HandLandmarksDetectorGraphOptions,this.handLandmarkerGraphOptions.setHandLandmarksDetectorGraphOptions(this.handLandmarksDetectorGraphOptions),this.handDetectorGraphOptions=new c.HandDetectorGraphOptions,this.handLandmarkerGraphOptions.setHandDetectorGraphOptions(this.handDetectorGraphOptions),this.handGestureRecognizerGraphOptions=new l.HandGestureRecognizerGraphOptions,this.options.setHandGestureRecognizerGraphOptions(this.handGestureRecognizerGraphOptions),this.handDetectorGraphOptions.setMinDetectionConfidence(F),this.handLandmarkerGraphOptions.setMinTrackingConfidence(F),this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence(F)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){var t,r,n,i,a,o,s,d;if(this.handDetectorGraphOptions.setNumHands(null!=(t=e.numHands)?t:1),"minHandDetectionConfidence"in e&&this.handDetectorGraphOptions.setMinDetectionConfidence(null!=(r=e.minHandDetectionConfidence)?r:F),"minTrackingConfidence"in e&&this.handLandmarkerGraphOptions.setMinTrackingConfidence(null!=(n=e.minTrackingConfidence)?n:F),"minHandPresenceConfidence"in e&&this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence(null!=(i=e.minHandPresenceConfidence)?i:F),e.cannedGesturesClassifierOptions){let t=new p.GestureClassifierGraphOptions;t.setClassifierOptions((0,m.convertClassifierOptionsToProto)(e.cannedGesturesClassifierOptions,null==(a=this.handGestureRecognizerGraphOptions.getCannedGestureClassifierGraphOptions())?void 0:a.getClassifierOptions())),this.handGestureRecognizerGraphOptions.setCannedGestureClassifierGraphOptions(t)}else void 0===e.cannedGesturesClassifierOptions&&(null==(o=this.handGestureRecognizerGraphOptions.getCannedGestureClassifierGraphOptions())||o.clearClassifierOptions());if(e.customGesturesClassifierOptions){let t=new p.GestureClassifierGraphOptions;t.setClassifierOptions((0,m.convertClassifierOptionsToProto)(e.customGesturesClassifierOptions,null==(s=this.handGestureRecognizerGraphOptions.getCustomGestureClassifierGraphOptions())?void 0:s.getClassifierOptions())),this.handGestureRecognizerGraphOptions.setCustomGestureClassifierGraphOptions(t)}else void 0===e.customGesturesClassifierOptions&&(null==(d=this.handGestureRecognizerGraphOptions.getCustomGestureClassifierGraphOptions())||d.clearClassifierOptions());return this.applyOptions(e)}recognize(e,t){return this.resetResults(),this.processImageData(e,t),this.processResults()}recognizeForVideo(e,t,r){return this.resetResults(),this.processVideoData(e,r,t),this.processResults()}resetResults(){this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handednesses=[]}processResults(){return 0===this.gestures.length?{gestures:[],landmarks:[],worldLandmarks:[],handednesses:[]}:{gestures:this.gestures,landmarks:this.landmarks,worldLandmarks:this.worldLandmarks,handednesses:this.handednesses}}toJsCategories(e,t=!0){var r,n,i;let o=[];for(let s of e){let e=a.ClassificationList.deserializeBinary(s),p=[];for(let a of e.getClassificationList()){let e=t&&a.hasIndex()?a.getIndex():-1;p.push({score:null!=(r=a.getScore())?r:0,index:e,categoryName:null!=(n=a.getLabel())?n:"",displayName:null!=(i=a.getDisplayName())?i:""})}o.push(p)}return o}addJsLandmarks(e){var t,r,n;for(let i of e){let e=o.NormalizedLandmarkList.deserializeBinary(i),a=[];for(let i of e.getLandmarkList())a.push({x:null!=(t=i.getX())?t:0,y:null!=(r=i.getY())?r:0,z:null!=(n=i.getZ())?n:0});this.landmarks.push(a)}}adddJsWorldLandmarks(e){var t,r,n;for(let i of e){let e=o.LandmarkList.deserializeBinary(i),a=[];for(let i of e.getLandmarkList())a.push({x:null!=(t=i.getX())?t:0,y:null!=(r=i.getY())?r:0,z:null!=(n=i.getZ())?n:0});this.worldLandmarks.push(a)}}refreshGraph(){let e=new n.CalculatorGraphConfig;e.addInputStream(y),e.addInputStream(v),e.addOutputStream(b),e.addOutputStream(_),e.addOutputStream(O),e.addOutputStream(M);let t=new i.CalculatorOptions;t.setExtension(d.GestureRecognizerGraphOptions.ext,this.options);let r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),r.addInputStream("IMAGE:"+y),r.addInputStream("NORM_RECT:"+v),r.addOutputStream("HAND_GESTURES:"+b),r.addOutputStream("LANDMARKS:"+_),r.addOutputStream("WORLD_LANDMARKS:"+O),r.addOutputStream("HANDEDNESS:"+M),r.setOptions(t),e.addNode(r),this.graphRunner.attachProtoVectorListener(_,(e,t)=>{this.addJsLandmarks(e),this.setLatestOutputTimestamp(t)}),this.graphRunner.attachEmptyPacketListener(_,e=>{this.setLatestOutputTimestamp(e)}),this.graphRunner.attachProtoVectorListener(O,(e,t)=>{this.adddJsWorldLandmarks(e),this.setLatestOutputTimestamp(t)}),this.graphRunner.attachEmptyPacketListener(O,e=>{this.setLatestOutputTimestamp(e)}),this.graphRunner.attachProtoVectorListener(b,(e,t)=>{this.gestures.push(...this.toJsCategories(e,!1)),this.setLatestOutputTimestamp(t)}),this.graphRunner.attachEmptyPacketListener(b,e=>{this.setLatestOutputTimestamp(e)}),this.graphRunner.attachProtoVectorListener(M,(e,t)=>{this.handednesses.push(...this.toJsCategories(e)),this.setLatestOutputTimestamp(t)}),this.graphRunner.attachEmptyPacketListener(M,e=>{this.setLatestOutputTimestamp(e)});let a=e.serializeBinary();this.setGraph(new Uint8Array(a),!0)}}e.GestureRecognizer=S,S.HAND_CONNECTIONS=h.HAND_CONNECTIONS}(gesture_recognizer);var hand_landmarker={},hand_landmarker_options={};Object.defineProperty(hand_landmarker_options,"__esModule",{value:!0});var hand_landmarker_result={};Object.defineProperty(hand_landmarker_result,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.HandLandmarker=void 0;let n=calculator_pb,i=calculator_options_pb,a=classification_pb,o=landmark_pb,s=base_options_pb,p=hand_detector_graph_options_pb,d=hand_landmarker_graph_options_pb,l=hand_landmarks_detector_graph_options_pb,c=landmark_result,u=vision_task_runner,f=hand_landmarks_connections;r(hand_landmarker_options,e),r(hand_landmarker_result,e);let m="image_in",g="norm_rect",h="hand_landmarks",y="world_hand_landmarks",v="handedness",b=.5;class _ extends u.VisionTaskRunner{static createFromOptions(e,t){return u.VisionTaskRunner.createVisionInstance(_,e,t)}static createFromModelBuffer(e,t){return u.VisionTaskRunner.createVisionInstance(_,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return u.VisionTaskRunner.createVisionInstance(_,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new u.VisionGraphRunner(e,t),m,g,!1),this.landmarks=[],this.worldLandmarks=[],this.handednesses=[],this.options=new d.HandLandmarkerGraphOptions,this.options.setBaseOptions(new s.BaseOptions),this.handLandmarksDetectorGraphOptions=new l.HandLandmarksDetectorGraphOptions,this.options.setHandLandmarksDetectorGraphOptions(this.handLandmarksDetectorGraphOptions),this.handDetectorGraphOptions=new p.HandDetectorGraphOptions,this.options.setHandDetectorGraphOptions(this.handDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){var t,r,n,i;return"numHands"in e&&this.handDetectorGraphOptions.setNumHands(null!=(t=e.numHands)?t:1),"minHandDetectionConfidence"in e&&this.handDetectorGraphOptions.setMinDetectionConfidence(null!=(r=e.minHandDetectionConfidence)?r:b),"minTrackingConfidence"in e&&this.options.setMinTrackingConfidence(null!=(n=e.minTrackingConfidence)?n:b),"minHandPresenceConfidence"in e&&this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence(null!=(i=e.minHandPresenceConfidence)?i:b),this.applyOptions(e)}detect(e,t){return this.resetResults(),this.processImageData(e,t),this.processResults()}detectForVideo(e,t,r){return this.resetResults(),this.processVideoData(e,r,t),this.processResults()}resetResults(){this.landmarks=[],this.worldLandmarks=[],this.handednesses=[]}processResults(){return{landmarks:this.landmarks,worldLandmarks:this.worldLandmarks,handednesses:this.handednesses}}initDefaults(){this.handDetectorGraphOptions.setNumHands(1),this.handDetectorGraphOptions.setMinDetectionConfidence(b),this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence(b),this.options.setMinTrackingConfidence(b)}toJsCategories(e){var t,r,n,i;let o=[];for(let s of e){let e=a.ClassificationList.deserializeBinary(s),p=[];for(let a of e.getClassificationList())p.push({score:null!=(t=a.getScore())?t:0,index:null!=(r=a.getIndex())?r:-1,categoryName:null!=(n=a.getLabel())?n:"",displayName:null!=(i=a.getDisplayName())?i:""});o.push(p)}return o}addJsLandmarks(e){for(let t of e){let e=o.NormalizedLandmarkList.deserializeBinary(t);this.landmarks.push((0,c.convertToLandmarks)(e))}}adddJsWorldLandmarks(e){for(let t of e){let e=o.LandmarkList.deserializeBinary(t);this.worldLandmarks.push((0,c.convertToWorldLandmarks)(e))}}refreshGraph(){let e=new n.CalculatorGraphConfig;e.addInputStream(m),e.addInputStream(g),e.addOutputStream(h),e.addOutputStream(y),e.addOutputStream(v);let t=new i.CalculatorOptions;t.setExtension(d.HandLandmarkerGraphOptions.ext,this.options);let r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),r.addInputStream("IMAGE:"+m),r.addInputStream("NORM_RECT:"+g),r.addOutputStream("LANDMARKS:"+h),r.addOutputStream("WORLD_LANDMARKS:"+y),r.addOutputStream("HANDEDNESS:"+v),r.setOptions(t),e.addNode(r),this.graphRunner.attachProtoVectorListener(h,(e,t)=>{this.addJsLandmarks(e),this.setLatestOutputTimestamp(t)}),this.graphRunner.attachEmptyPacketListener(h,e=>{this.setLatestOutputTimestamp(e)}),this.graphRunner.attachProtoVectorListener(y,(e,t)=>{this.adddJsWorldLandmarks(e),this.setLatestOutputTimestamp(t)}),this.graphRunner.attachEmptyPacketListener(y,e=>{this.setLatestOutputTimestamp(e)}),this.graphRunner.attachProtoVectorListener(v,(e,t)=>{this.handednesses.push(...this.toJsCategories(e)),this.setLatestOutputTimestamp(t)}),this.graphRunner.attachEmptyPacketListener(v,e=>{this.setLatestOutputTimestamp(e)});let a=e.serializeBinary();this.setGraph(new Uint8Array(a),!0)}}e.HandLandmarker=_,_.HAND_CONNECTIONS=f.HAND_CONNECTIONS}(hand_landmarker);var image_classifier={},classifications_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=classification_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.ClassificationResult",null,n),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Classifications",null,n),proto.mediapipe.tasks.components.containers.proto.Classifications=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.Classifications,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.Classifications.displayName="proto.mediapipe.tasks.components.containers.proto.Classifications"),proto.mediapipe.tasks.components.containers.proto.ClassificationResult=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.tasks.components.containers.proto.ClassificationResult.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.ClassificationResult,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.ClassificationResult.displayName="proto.mediapipe.tasks.components.containers.proto.ClassificationResult"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.toObject=function(e){return proto.mediapipe.tasks.components.containers.proto.Classifications.toObject(e,this)},proto.mediapipe.tasks.components.containers.proto.Classifications.toObject=function(e,r){var n,a={classificationList:(n=r.getClassificationList())&&i.ClassificationList.toObject(e,n),headIndex:null==(n=t.Message.getField(r,2))?void 0:n,headName:null==(n=t.Message.getField(r,3))?void 0:n};return e&&(a.$jspbMessageInstance=r),a}),proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.components.containers.proto.Classifications;return proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 4:var r=new i.ClassificationList;t.readMessage(r,i.ClassificationList.deserializeBinaryFromReader),e.setClassificationList(r);break;case 2:r=t.readInt32(),e.setHeadIndex(r);break;case 3:r=t.readString(),e.setHeadName(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getClassificationList())&&r.writeMessage(4,n,i.ClassificationList.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=t.Message.getField(e,3))&&r.writeString(3,n)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getClassificationList=function(){return t.Message.getWrapperField(this,i.ClassificationList,4)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setClassificationList=function(e){return t.Message.setWrapperField(this,4,e)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearClassificationList=function(){return this.setClassificationList(void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasClassificationList=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getHeadIndex=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setHeadIndex=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearHeadIndex=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasHeadIndex=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getHeadName=function(){return t.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setHeadName=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearHeadName=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasHeadName=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.toObject=function(e){return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.toObject(e,this)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.toObject=function(e,r){var n,i={classificationsList:t.Message.toObjectList(r.getClassificationsList(),proto.mediapipe.tasks.components.containers.proto.Classifications.toObject,e),timestampMs:null==(n=t.Message.getField(r,2))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.components.containers.proto.ClassificationResult;return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.tasks.components.containers.proto.Classifications;t.readMessage(r,proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader),e.addClassifications(r);break;case 2:r=t.readInt64(),e.setTimestampMs(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.serializeBinaryToWriter=function(e,r){var n=void 0;(n=e.getClassificationsList()).length>0&&r.writeRepeatedMessage(1,n,proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeInt64(2,n)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.getClassificationsList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.tasks.components.containers.proto.Classifications,1)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.setClassificationsList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.addClassifications=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.tasks.components.containers.proto.Classifications,r)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.clearClassificationsList=function(){return this.setClassificationsList([])},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.getTimestampMs=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.setTimestampMs=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.clearTimestampMs=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.hasTimestampMs=function(){return null!=t.Message.getField(this,2)},r.object.extend(e,proto.mediapipe.tasks.components.containers.proto)}(classifications_pb);var image_classifier_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=classifier_options_pb;r.object.extend(proto,o);var s=base_options_pb;r.object.extend(proto,s),r.exportSymbol("proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions",null,n),proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.displayName="proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject=function(e,t){var r,n={baseOptions:(r=t.getBaseOptions())&&s.BaseOptions.toObject(e,r),classifierOptions:(r=t.getClassifierOptions())&&o.ClassifierOptions.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions;return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new s.BaseOptions;t.readMessage(r,s.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new o.ClassifierOptions,t.readMessage(r,o.ClassifierOptions.deserializeBinaryFromReader),e.setClassifierOptions(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getBaseOptions())&&t.writeMessage(1,r,s.BaseOptions.serializeBinaryToWriter),null!=(r=e.getClassifierOptions())&&t.writeMessage(2,r,o.ClassifierOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext=new t.ExtensionFieldInfo(0x1b33db97,{ext:0},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1b33db97]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1b33db97]=proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,s.BaseOptions,1)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.getClassifierOptions=function(){return t.Message.getWrapperField(this,o.ClassifierOptions,2)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.setClassifierOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.clearClassifierOptions=function(){return this.setClassifierOptions(void 0)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.hasClassifierOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext=new t.ExtensionFieldInfo(0x1b33db97,{ext:0},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1b33db97]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1b33db97]=proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.image_classifier.proto)}(image_classifier_graph_options_pb);var image_classifier_options={};Object.defineProperty(image_classifier_options,"__esModule",{value:!0});var image_classifier_result={};Object.defineProperty(image_classifier_result,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageClassifier=void 0;let n=calculator_pb,i=calculator_options_pb,a=classifications_pb,o=base_options_pb,s=image_classifier_graph_options_pb,p=classifier_options,d=classifier_result,l=vision_task_runner,c="input_image",u="norm_rect",f="classifications";r(image_classifier_options,e),r(image_classifier_result,e);class m extends l.VisionTaskRunner{static createFromOptions(e,t){return l.VisionTaskRunner.createVisionInstance(m,e,t)}static createFromModelBuffer(e,t){return l.VisionTaskRunner.createVisionInstance(m,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return l.VisionTaskRunner.createVisionInstance(m,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new l.VisionGraphRunner(e,t),c,u,!0),this.classificationResult={classifications:[]},this.options=new s.ImageClassifierGraphOptions,this.options.setBaseOptions(new o.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){return this.options.setClassifierOptions((0,p.convertClassifierOptionsToProto)(e,this.options.getClassifierOptions())),this.applyOptions(e)}classify(e,t){return this.classificationResult={classifications:[]},this.processImageData(e,t),this.classificationResult}classifyForVideo(e,t,r){return this.classificationResult={classifications:[]},this.processVideoData(e,r,t),this.classificationResult}refreshGraph(){let e=new n.CalculatorGraphConfig;e.addInputStream(c),e.addInputStream(u),e.addOutputStream(f);let t=new i.CalculatorOptions;t.setExtension(s.ImageClassifierGraphOptions.ext,this.options);let r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),r.addInputStream("IMAGE:"+c),r.addInputStream("NORM_RECT:"+u),r.addOutputStream("CLASSIFICATIONS:"+f),r.setOptions(t),e.addNode(r),this.graphRunner.attachProtoListener(f,(e,t)=>{this.classificationResult=(0,d.convertFromClassificationResultProto)(a.ClassificationResult.deserializeBinary(e)),this.setLatestOutputTimestamp(t)}),this.graphRunner.attachEmptyPacketListener(f,e=>{this.setLatestOutputTimestamp(e)});let o=e.serializeBinary();this.setGraph(new Uint8Array(o),!0)}}e.ImageClassifier=m}(image_classifier);var image_embedder={},embeddings_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Embedding",null,n),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Embedding.EmbeddingCase",null,n),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.EmbeddingResult",null,n),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.FloatEmbedding",null,n),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding",null,n),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.displayName="proto.mediapipe.tasks.components.containers.proto.FloatEmbedding"),proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.displayName="proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding"),proto.mediapipe.tasks.components.containers.proto.Embedding=function(e){t.Message.initialize(this,e,0,-1,null,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_)},r.inherits(proto.mediapipe.tasks.components.containers.proto.Embedding,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.Embedding.displayName="proto.mediapipe.tasks.components.containers.proto.Embedding"),proto.mediapipe.tasks.components.containers.proto.EmbeddingResult=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.displayName="proto.mediapipe.tasks.components.containers.proto.EmbeddingResult"),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.toObject=function(e){return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject(e,this)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject=function(e,r){var n,i={valuesList:null==(n=t.Message.getRepeatedFloatingPointField(r,1))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.components.containers.proto.FloatEmbedding;return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber())for(var r=t.isDelimited()?t.readPackedFloat():[t.readFloat()],n=0;n<r.length;n++)e.addValues(r[n]);else t.skipField();return e},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter=function(e,t){var r;(r=e.getValuesList()).length>0&&t.writePackedFloat(1,r)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.getValuesList=function(){return t.Message.getRepeatedFloatingPointField(this,1)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.setValuesList=function(e){return t.Message.setField(this,1,e||[])},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.addValues=function(e,r){return t.Message.addToRepeatedField(this,1,e,r)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.clearValuesList=function(){return this.setValuesList([])},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.toObject=function(e){return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject(e,this)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject=function(e,t){var r={values:t.getValues_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding;return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readBytes();e.setValues(r)}else t.skipField();return e},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter=function(e,r){var n;null!=(n=t.Message.getField(e,1))&&r.writeBytes(1,n)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues_asB64=function(){return t.Message.bytesAsB64(this.getValues())},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues_asU8=function(){return t.Message.bytesAsU8(this.getValues())},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.setValues=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.clearValues=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.hasValues=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_=[[1,2]],proto.mediapipe.tasks.components.containers.proto.Embedding.EmbeddingCase={EMBEDDING_NOT_SET:0,FLOAT_EMBEDDING:1,QUANTIZED_EMBEDDING:2},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getEmbeddingCase=function(){return t.Message.computeOneofCase(this,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0])},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.toObject=function(e){return proto.mediapipe.tasks.components.containers.proto.Embedding.toObject(e,this)},proto.mediapipe.tasks.components.containers.proto.Embedding.toObject=function(e,r){var n,i={floatEmbedding:(n=r.getFloatEmbedding())&&proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject(e,n),quantizedEmbedding:(n=r.getQuantizedEmbedding())&&proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject(e,n),headIndex:null==(n=t.Message.getField(r,3))?void 0:n,headName:null==(n=t.Message.getField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.components.containers.proto.Embedding;return proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.tasks.components.containers.proto.FloatEmbedding;t.readMessage(r,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader),e.setFloatEmbedding(r);break;case 2:r=new proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,t.readMessage(r,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader),e.setQuantizedEmbedding(r);break;case 3:r=t.readInt32(),e.setHeadIndex(r);break;case 4:r=t.readString(),e.setHeadName(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getFloatEmbedding())&&r.writeMessage(1,n,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter),null!=(n=e.getQuantizedEmbedding())&&r.writeMessage(2,n,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n),null!=(n=t.Message.getField(e,4))&&r.writeString(4,n)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getFloatEmbedding=function(){return t.Message.getWrapperField(this,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding,1)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setFloatEmbedding=function(e){return t.Message.setOneofWrapperField(this,1,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0],e)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearFloatEmbedding=function(){return this.setFloatEmbedding(void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasFloatEmbedding=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getQuantizedEmbedding=function(){return t.Message.getWrapperField(this,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,2)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setQuantizedEmbedding=function(e){return t.Message.setOneofWrapperField(this,2,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0],e)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearQuantizedEmbedding=function(){return this.setQuantizedEmbedding(void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasQuantizedEmbedding=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getHeadIndex=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setHeadIndex=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearHeadIndex=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasHeadIndex=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getHeadName=function(){return t.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setHeadName=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearHeadName=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasHeadName=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.toObject=function(e){return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.toObject(e,this)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.toObject=function(e,r){var n,i={embeddingsList:t.Message.toObjectList(r.getEmbeddingsList(),proto.mediapipe.tasks.components.containers.proto.Embedding.toObject,e),timestampMs:null==(n=t.Message.getField(r,2))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.components.containers.proto.EmbeddingResult;return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.tasks.components.containers.proto.Embedding;t.readMessage(r,proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader),e.addEmbeddings(r);break;case 2:r=t.readInt64(),e.setTimestampMs(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.serializeBinaryToWriter=function(e,r){var n=void 0;(n=e.getEmbeddingsList()).length>0&&r.writeRepeatedMessage(1,n,proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeInt64(2,n)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.getEmbeddingsList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.tasks.components.containers.proto.Embedding,1)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.setEmbeddingsList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.addEmbeddings=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.tasks.components.containers.proto.Embedding,r)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.clearEmbeddingsList=function(){return this.setEmbeddingsList([])},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.getTimestampMs=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.setTimestampMs=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.clearTimestampMs=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.hasTimestampMs=function(){return null!=t.Message.getField(this,2)},r.object.extend(e,proto.mediapipe.tasks.components.containers.proto)}(embeddings_pb);var image_embedder_graph_options_pb={},embedder_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.components.processors.proto.EmbedderOptions",null,n),proto.mediapipe.tasks.components.processors.proto.EmbedderOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.displayName="proto.mediapipe.tasks.components.processors.proto.EmbedderOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.toObject(e,this)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.toObject=function(e,r){var n,i={l2Normalize:null==(n=t.Message.getBooleanField(r,1))?void 0:n,quantize:null==(n=t.Message.getBooleanField(r,2))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.components.processors.proto.EmbedderOptions;return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBool();e.setL2Normalize(r);break;case 2:r=t.readBool(),e.setQuantize(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeBool(1,n),null!=(n=t.Message.getField(e,2))&&r.writeBool(2,n)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.getL2Normalize=function(){return t.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.setL2Normalize=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.clearL2Normalize=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.hasL2Normalize=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.getQuantize=function(){return t.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.setQuantize=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.clearQuantize=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.hasQuantize=function(){return null!=t.Message.getField(this,2)},r.object.extend(e,proto.mediapipe.tasks.components.processors.proto)}(embedder_options_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=embedder_options_pb;r.object.extend(proto,o);var s=base_options_pb;r.object.extend(proto,s),r.exportSymbol("proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions",null,n),proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.displayName="proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject=function(e,t){var r,n={baseOptions:(r=t.getBaseOptions())&&s.BaseOptions.toObject(e,r),embedderOptions:(r=t.getEmbedderOptions())&&o.EmbedderOptions.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions;return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new s.BaseOptions;t.readMessage(r,s.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new o.EmbedderOptions,t.readMessage(r,o.EmbedderOptions.deserializeBinaryFromReader),e.setEmbedderOptions(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getBaseOptions())&&t.writeMessage(1,r,s.BaseOptions.serializeBinaryToWriter),null!=(r=e.getEmbedderOptions())&&t.writeMessage(2,r,o.EmbedderOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext=new t.ExtensionFieldInfo(0x1c647f1b,{ext:0},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1c647f1b]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1c647f1b]=proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,s.BaseOptions,1)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.getEmbedderOptions=function(){return t.Message.getWrapperField(this,o.EmbedderOptions,2)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.setEmbedderOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.clearEmbedderOptions=function(){return this.setEmbedderOptions(void 0)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.hasEmbedderOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext=new t.ExtensionFieldInfo(0x1c647f1b,{ext:0},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1c647f1b]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1c647f1b]=proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.image_embedder.proto)}(image_embedder_graph_options_pb);var embedder_options={};Object.defineProperty(embedder_options,"__esModule",{value:!0}),embedder_options.convertEmbedderOptionsToProto=void 0;let embedder_options_pb_1=embedder_options_pb;function convertEmbedderOptionsToProto(e,t){let r=t?t.clone():new embedder_options_pb_1.EmbedderOptions;return void 0!==e.l2Normalize?r.setL2Normalize(e.l2Normalize):"l2Normalize"in e&&r.clearL2Normalize(),void 0!==e.quantize?r.setQuantize(e.quantize):"quantize"in e&&r.clearQuantize(),r}embedder_options.convertEmbedderOptionsToProto=convertEmbedderOptionsToProto;var embedder_result={};Object.defineProperty(embedder_result,"__esModule",{value:!0}),embedder_result.convertFromEmbeddingResultProto=void 0;let DEFAULT_INDEX=-1;function convertFromEmbeddingsProto(e){var t,r,n,i;let a={headIndex:null!=(t=e.getHeadIndex())?t:DEFAULT_INDEX,headName:null!=(r=e.getHeadName())?r:""};if(e.hasFloatEmbedding())a.floatEmbedding=e.getFloatEmbedding().getValuesList();else{let t=null!=(i=null==(n=e.getQuantizedEmbedding())?void 0:n.getValues())?i:"";a.quantizedEmbedding="string"==typeof t?Uint8Array.from(atob(t),e=>e.charCodeAt(0)):t}return a}function convertFromEmbeddingResultProto(e){return{embeddings:e.getEmbeddingsList().map(e=>convertFromEmbeddingsProto(e)),timestampMs:e.getTimestampMs()}}embedder_result.convertFromEmbeddingResultProto=convertFromEmbeddingResultProto;var cosine_similarity={};function computeCosineSimilarity(e,t){if(e.floatEmbedding&&t.floatEmbedding)return compute(e.floatEmbedding,t.floatEmbedding);if(e.quantizedEmbedding&&t.quantizedEmbedding)return compute(convertToBytes(e.quantizedEmbedding),convertToBytes(t.quantizedEmbedding));throw Error("Cannot compute cosine similarity between quantized and float embeddings.")}function convertToBytes(e){return Array.from(e,e=>e>127?e-256:e)}function compute(e,t){if(e.length!==t.length)throw Error(`Cannot compute cosine similarity between embeddings of different sizes (${e.length} vs. ${t.length}).`);let r=0,n=0,i=0;for(let a=0;a<e.length;a++)r+=e[a]*t[a],n+=e[a]*e[a],i+=t[a]*t[a];if(n<=0||i<=0)throw Error("Cannot compute cosine similarity on embedding with 0 norm.");return r/Math.sqrt(n*i)}Object.defineProperty(cosine_similarity,"__esModule",{value:!0}),cosine_similarity.computeCosineSimilarity=void 0,cosine_similarity.computeCosineSimilarity=computeCosineSimilarity;var image_embedder_options={};Object.defineProperty(image_embedder_options,"__esModule",{value:!0});var image_embedder_result={};Object.defineProperty(image_embedder_result,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageEmbedder=void 0;let n=calculator_pb,i=calculator_options_pb,a=embeddings_pb,o=base_options_pb,s=image_embedder_graph_options_pb,p=embedder_options,d=embedder_result,l=cosine_similarity,c=vision_task_runner,u="image_in",f="norm_rect",m="embeddings_out";r(image_embedder_options,e),r(image_embedder_result,e);class g extends c.VisionTaskRunner{static createFromOptions(e,t){return c.VisionTaskRunner.createVisionInstance(g,e,t)}static createFromModelBuffer(e,t){return c.VisionTaskRunner.createVisionInstance(g,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return c.VisionTaskRunner.createVisionInstance(g,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new c.VisionGraphRunner(e,t),u,f,!0),this.options=new s.ImageEmbedderGraphOptions,this.embeddings={embeddings:[]},this.options.setBaseOptions(new o.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){return this.options.setEmbedderOptions((0,p.convertEmbedderOptionsToProto)(e,this.options.getEmbedderOptions())),this.applyOptions(e)}embed(e,t){return this.processImageData(e,t),this.embeddings}embedForVideo(e,t,r){return this.processVideoData(e,r,t),this.embeddings}static cosineSimilarity(e,t){return(0,l.computeCosineSimilarity)(e,t)}addJsImageEmdedding(e){let t=a.EmbeddingResult.deserializeBinary(e);this.embeddings=(0,d.convertFromEmbeddingResultProto)(t)}refreshGraph(){let e=new n.CalculatorGraphConfig;e.addInputStream(u),e.addInputStream(f),e.addOutputStream(m);let t=new i.CalculatorOptions;t.setExtension(s.ImageEmbedderGraphOptions.ext,this.options);let r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),r.addInputStream("IMAGE:"+u),r.addInputStream("NORM_RECT:"+f),r.addOutputStream("EMBEDDINGS:"+m),r.setOptions(t),e.addNode(r),this.graphRunner.attachProtoListener(m,(e,t)=>{this.addJsImageEmdedding(e),this.setLatestOutputTimestamp(t)}),this.graphRunner.attachEmptyPacketListener(m,e=>{this.setLatestOutputTimestamp(e)});let a=e.serializeBinary();this.setGraph(new Uint8Array(a),!0)}}e.ImageEmbedder=g}(image_embedder);var image_segmenter={},tensors_to_segmentation_calculator_pb={},segmenter_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions",null,n),r.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.Activation",null,n),r.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.OutputType",null,n),proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.displayName="proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.toObject(e,this)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.toObject=function(e,r){var n,i={outputType:null==(n=t.Message.getField(r,1))?void 0:n,activation:t.Message.getFieldWithDefault(r,2,0)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions;return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readEnum();e.setOutputType(r);break;case 2:r=t.readEnum(),e.setActivation(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeEnum(1,n),null!=(n=t.Message.getField(e,2))&&r.writeEnum(2,n)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.OutputType={UNSPECIFIED:0,CATEGORY_MASK:1,CONFIDENCE_MASK:2},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.Activation={NONE:0,SIGMOID:1,SOFTMAX:2},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.getOutputType=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.setOutputType=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.clearOutputType=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.hasOutputType=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.getActivation=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.setActivation=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.clearActivation=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.hasActivation=function(){return null!=t.Message.getField(this,2)},r.object.extend(e,proto.mediapipe.tasks.vision.image_segmenter.proto)}(segmenter_options_pb);var label_map_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.LabelMapItem",null,n),proto.mediapipe.LabelMapItem=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.LabelMapItem.repeatedFields_,null)},r.inherits(proto.mediapipe.LabelMapItem,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LabelMapItem.displayName="proto.mediapipe.LabelMapItem"),proto.mediapipe.LabelMapItem.repeatedFields_=[3],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LabelMapItem.prototype.toObject=function(e){return proto.mediapipe.LabelMapItem.toObject(e,this)},proto.mediapipe.LabelMapItem.toObject=function(e,r){var n,i={name:null==(n=t.Message.getField(r,1))?void 0:n,displayName:null==(n=t.Message.getField(r,2))?void 0:n,childNameList:null==(n=t.Message.getRepeatedField(r,3))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.LabelMapItem.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.LabelMapItem;return proto.mediapipe.LabelMapItem.deserializeBinaryFromReader(n,r)},proto.mediapipe.LabelMapItem.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readString(),e.setDisplayName(r);break;case 3:r=t.readString(),e.addChildName(r);break;default:t.skipField()}return e},proto.mediapipe.LabelMapItem.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.LabelMapItem.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.LabelMapItem.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),null!=(n=t.Message.getField(e,2))&&r.writeString(2,n),(n=e.getChildNameList()).length>0&&r.writeRepeatedString(3,n)},proto.mediapipe.LabelMapItem.prototype.getName=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.LabelMapItem.prototype.setName=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.LabelMapItem.prototype.clearName=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.LabelMapItem.prototype.hasName=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.LabelMapItem.prototype.getDisplayName=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.LabelMapItem.prototype.setDisplayName=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.LabelMapItem.prototype.clearDisplayName=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.LabelMapItem.prototype.hasDisplayName=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.LabelMapItem.prototype.getChildNameList=function(){return t.Message.getRepeatedField(this,3)},proto.mediapipe.LabelMapItem.prototype.setChildNameList=function(e){return t.Message.setField(this,3,e||[])},proto.mediapipe.LabelMapItem.prototype.addChildName=function(e,r){return t.Message.addToRepeatedField(this,3,e,r)},proto.mediapipe.LabelMapItem.prototype.clearChildNameList=function(){return this.setChildNameList([])},r.object.extend(e,proto.mediapipe)}(label_map_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_options_pb;r.object.extend(proto,i);var a=segmenter_options_pb;r.object.extend(proto,a);var o=label_map_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions",null,n),proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.displayName="proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject(e,this)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject=function(e,t){var r,n={segmenterOptions:(r=t.getSegmenterOptions())&&a.SegmenterOptions.toObject(e,r),labelItemsMap:(r=t.getLabelItemsMap())?r.toObject(e,proto.mediapipe.LabelMapItem.toObject):[]};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions;return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader=function(e,r){for(;r.nextField()&&!r.isEndGroup();)switch(r.getFieldNumber()){case 1:var n=new a.SegmenterOptions;r.readMessage(n,a.SegmenterOptions.deserializeBinaryFromReader),e.setSegmenterOptions(n);break;case 2:n=e.getLabelItemsMap(),r.readMessage(n,function(e,r){t.Map.deserializeBinary(e,r,t.BinaryReader.prototype.readInt64,t.BinaryReader.prototype.readMessage,proto.mediapipe.LabelMapItem.deserializeBinaryFromReader,0,new proto.mediapipe.LabelMapItem)});break;default:r.skipField()}return e},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getSegmenterOptions())&&r.writeMessage(1,n,a.SegmenterOptions.serializeBinaryToWriter),(n=e.getLabelItemsMap(!0))&&n.getLength()>0&&n.serializeBinary(2,r,t.BinaryWriter.prototype.writeInt64,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.LabelMapItem.serializeBinaryToWriter)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext=new t.ExtensionFieldInfo(0x1b4e2414,{ext:0},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject,0),i.CalculatorOptions.extensionsBinary[0x1b4e2414]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[0x1b4e2414]=proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.getSegmenterOptions=function(){return t.Message.getWrapperField(this,a.SegmenterOptions,1)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.setSegmenterOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.clearSegmenterOptions=function(){return this.setSegmenterOptions(void 0)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.hasSegmenterOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.getLabelItemsMap=function(e){return t.Message.getMapField(this,2,e,proto.mediapipe.LabelMapItem)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.clearLabelItemsMap=function(){return this.getLabelItemsMap().clear(),this},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext=new t.ExtensionFieldInfo(0x1b4e2414,{ext:0},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject,0),i.CalculatorOptions.extensionsBinary[0x1b4e2414]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[0x1b4e2414]=proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,r.object.extend(e,proto.mediapipe.tasks)}(tensors_to_segmentation_calculator_pb);var image_segmenter_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=base_options_pb;r.object.extend(proto,o);var s=segmenter_options_pb;r.object.extend(proto,s),r.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions",null,n),proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.displayName="proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&o.BaseOptions.toObject(e,n),displayNamesLocale:t.Message.getFieldWithDefault(r,2,"en"),segmenterOptions:(n=r.getSegmenterOptions())&&s.SegmenterOptions.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions;return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new o.BaseOptions;t.readMessage(r,o.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=t.readString(),e.setDisplayNamesLocale(r);break;case 3:r=new s.SegmenterOptions,t.readMessage(r,s.SegmenterOptions.deserializeBinaryFromReader),e.setSegmenterOptions(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,o.BaseOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeString(2,n),null!=(n=e.getSegmenterOptions())&&r.writeMessage(3,n,s.SegmenterOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext=new t.ExtensionFieldInfo(0x1b4e239e,{ext:0},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1b4e239e]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1b4e239e]=proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,o.BaseOptions,1)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getDisplayNamesLocale=function(){return t.Message.getFieldWithDefault(this,2,"en")},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setDisplayNamesLocale=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearDisplayNamesLocale=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasDisplayNamesLocale=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getSegmenterOptions=function(){return t.Message.getWrapperField(this,s.SegmenterOptions,3)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setSegmenterOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearSegmenterOptions=function(){return this.setSegmenterOptions(void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasSegmenterOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext=new t.ExtensionFieldInfo(0x1b4e239e,{ext:0},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1b4e239e]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1b4e239e]=proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.image_segmenter.proto)}(image_segmenter_graph_options_pb);var image_segmenter_options={};Object.defineProperty(image_segmenter_options,"__esModule",{value:!0});var image_segmenter_result={};Object.defineProperty(image_segmenter_result,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageSegmenter=void 0;let n=calculator_pb,i=calculator_options_pb,a=base_options_pb,o=tensors_to_segmentation_calculator_pb,s=image_segmenter_graph_options_pb,p=segmenter_options_pb,d=vision_task_runner;r(image_segmenter_options,e),r(image_segmenter_result,e);let l="image_in",c="norm_rect",u="confidence_masks",f="category_mask",m="mediapipe.tasks.TensorsToSegmentationCalculator";class g extends d.VisionTaskRunner{static createFromOptions(e,t){return d.VisionTaskRunner.createVisionInstance(g,e,t)}static createFromModelBuffer(e,t){return d.VisionTaskRunner.createVisionInstance(g,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return d.VisionTaskRunner.createVisionInstance(g,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new d.VisionGraphRunner(e,t),l,c,!1),this.result={},this.labels=[],this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.options=new s.ImageSegmenterGraphOptions,this.segmenterOptions=new p.SegmenterOptions,this.options.setSegmenterOptions(this.segmenterOptions),this.options.setBaseOptions(new a.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){var t,r;return void 0!==e.displayNamesLocale?this.options.setDisplayNamesLocale(e.displayNamesLocale):"displayNamesLocale"in e&&this.options.clearDisplayNamesLocale(),"outputCategoryMask"in e&&(this.outputCategoryMask=null!=(t=e.outputCategoryMask)&&t),"outputConfidenceMasks"in e&&(this.outputConfidenceMasks=null==(r=e.outputConfidenceMasks)||r),super.applyOptions(e)}onGraphRefreshed(){this.populateLabels()}populateLabels(){var e,t,r;let n=this.getCalculatorGraphConfig().getNodeList().filter(e=>e.getName().includes(m));if(this.labels=[],n.length>1)throw Error(`The graph has more than one ${m}.`);1===n.length&&(null!=(r=null==(t=null==(e=n[0].getOptions())?void 0:e.getExtension(o.TensorsToSegmentationCalculatorOptions.ext))?void 0:t.getLabelItemsMap())?r:new Map).forEach((e,t)=>{this.labels[Number(t)]=e.getName()})}segment(e,t,r){let n="function"!=typeof t?t:{};if(this.userCallback="function"==typeof t?t:r,this.reset(),this.processImageData(e,n),!this.userCallback)return this.result}segmentForVideo(e,t,r,n){let i="function"!=typeof r?r:{};if(this.userCallback="function"==typeof r?r:n,this.reset(),this.processVideoData(e,i,t),!this.userCallback)return this.result}getLabels(){return this.labels}reset(){this.result={}}maybeInvokeCallback(){(!this.outputConfidenceMasks||"confidenceMasks"in this.result)&&(!this.outputCategoryMask||"categoryMask"in this.result)&&this.userCallback&&(this.userCallback(this.result),this.freeKeepaliveStreams())}refreshGraph(){let e=new n.CalculatorGraphConfig;e.addInputStream(l),e.addInputStream(c);let t=new i.CalculatorOptions;t.setExtension(s.ImageSegmenterGraphOptions.ext,this.options);let r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),r.addInputStream("IMAGE:"+l),r.addInputStream("NORM_RECT:"+c),r.setOptions(t),e.addNode(r),this.addKeepaliveNode(e),this.outputConfidenceMasks&&(e.addOutputStream(u),r.addOutputStream("CONFIDENCE_MASKS:"+u),this.keepStreamAlive(u),this.graphRunner.attachImageVectorListener(u,(e,t)=>{this.result.confidenceMasks=e.map(e=>this.convertToMPMask(e,!this.userCallback)),this.setLatestOutputTimestamp(t),this.maybeInvokeCallback()}),this.graphRunner.attachEmptyPacketListener(u,e=>{this.result.confidenceMasks=void 0,this.setLatestOutputTimestamp(e),this.maybeInvokeCallback()})),this.outputCategoryMask&&(e.addOutputStream(f),r.addOutputStream("CATEGORY_MASK:"+f),this.keepStreamAlive(f),this.graphRunner.attachImageListener(f,(e,t)=>{this.result.categoryMask=this.convertToMPMask(e,!this.userCallback),this.setLatestOutputTimestamp(t),this.maybeInvokeCallback()}),this.graphRunner.attachEmptyPacketListener(f,e=>{this.result.categoryMask=void 0,this.setLatestOutputTimestamp(e),this.maybeInvokeCallback()}));let a=e.serializeBinary();this.setGraph(new Uint8Array(a),!0)}}e.ImageSegmenter=g}(image_segmenter);var interactive_segmenter={},color_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.Color",null,n),r.exportSymbol("proto.mediapipe.ColorMap",null,n),proto.mediapipe.Color=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.Color,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Color.displayName="proto.mediapipe.Color"),proto.mediapipe.ColorMap=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.ColorMap,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ColorMap.displayName="proto.mediapipe.ColorMap"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Color.prototype.toObject=function(e){return proto.mediapipe.Color.toObject(e,this)},proto.mediapipe.Color.toObject=function(e,r){var n,i={r:null==(n=t.Message.getField(r,1))?void 0:n,g:null==(n=t.Message.getField(r,2))?void 0:n,b:null==(n=t.Message.getField(r,3))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.Color.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.Color;return proto.mediapipe.Color.deserializeBinaryFromReader(n,r)},proto.mediapipe.Color.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setR(r);break;case 2:r=t.readInt32(),e.setG(r);break;case 3:r=t.readInt32(),e.setB(r);break;default:t.skipField()}return e},proto.mediapipe.Color.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.Color.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.Color.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeInt32(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n)},proto.mediapipe.Color.prototype.getR=function(){return t.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Color.prototype.setR=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.Color.prototype.clearR=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.Color.prototype.hasR=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.Color.prototype.getG=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Color.prototype.setG=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.Color.prototype.clearG=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.Color.prototype.hasG=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.Color.prototype.getB=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Color.prototype.setB=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.Color.prototype.clearB=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.Color.prototype.hasB=function(){return null!=t.Message.getField(this,3)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ColorMap.prototype.toObject=function(e){return proto.mediapipe.ColorMap.toObject(e,this)},proto.mediapipe.ColorMap.toObject=function(e,t){var r,n={labelToColorMap:(r=t.getLabelToColorMap())?r.toObject(e,proto.mediapipe.Color.toObject):[]};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.ColorMap.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.ColorMap;return proto.mediapipe.ColorMap.deserializeBinaryFromReader(n,r)},proto.mediapipe.ColorMap.deserializeBinaryFromReader=function(e,r){for(;r.nextField()&&!r.isEndGroup();)if(1===r.getFieldNumber()){var n=e.getLabelToColorMap();r.readMessage(n,function(e,r){t.Map.deserializeBinary(e,r,t.BinaryReader.prototype.readString,t.BinaryReader.prototype.readMessage,proto.mediapipe.Color.deserializeBinaryFromReader,"",new proto.mediapipe.Color)})}else r.skipField();return e},proto.mediapipe.ColorMap.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.ColorMap.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.ColorMap.serializeBinaryToWriter=function(e,r){var n=void 0;(n=e.getLabelToColorMap(!0))&&n.getLength()>0&&n.serializeBinary(1,r,t.BinaryWriter.prototype.writeString,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.Color.serializeBinaryToWriter)},proto.mediapipe.ColorMap.prototype.getLabelToColorMap=function(e){return t.Message.getMapField(this,1,e,proto.mediapipe.Color)},proto.mediapipe.ColorMap.prototype.clearLabelToColorMap=function(){return this.getLabelToColorMap().clear(),this},r.object.extend(e,proto.mediapipe)}(color_pb);var render_data_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=color_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.RenderAnnotation",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Arrow",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.DataCase",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.FilledOval",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.FilledRectangle",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.FilledRoundedRectangle",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.GradientLine",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Line",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Line.LineType",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Oval",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Point",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Rectangle",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.RoundedRectangle",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Scribble",null,n),r.exportSymbol("proto.mediapipe.RenderAnnotation.Text",null,n),r.exportSymbol("proto.mediapipe.RenderData",null,n),r.exportSymbol("proto.mediapipe.RenderViewport",null,n),proto.mediapipe.RenderData=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.RenderData.repeatedFields_,null)},r.inherits(proto.mediapipe.RenderData,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderData.displayName="proto.mediapipe.RenderData"),proto.mediapipe.RenderAnnotation=function(e){t.Message.initialize(this,e,0,-1,null,proto.mediapipe.RenderAnnotation.oneofGroups_)},r.inherits(proto.mediapipe.RenderAnnotation,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.displayName="proto.mediapipe.RenderAnnotation"),proto.mediapipe.RenderAnnotation.Rectangle=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Rectangle,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Rectangle.displayName="proto.mediapipe.RenderAnnotation.Rectangle"),proto.mediapipe.RenderAnnotation.FilledRectangle=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.FilledRectangle,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledRectangle.displayName="proto.mediapipe.RenderAnnotation.FilledRectangle"),proto.mediapipe.RenderAnnotation.RoundedRectangle=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.RoundedRectangle,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.RoundedRectangle.displayName="proto.mediapipe.RenderAnnotation.RoundedRectangle"),proto.mediapipe.RenderAnnotation.FilledRoundedRectangle=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.displayName="proto.mediapipe.RenderAnnotation.FilledRoundedRectangle"),proto.mediapipe.RenderAnnotation.Oval=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Oval,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Oval.displayName="proto.mediapipe.RenderAnnotation.Oval"),proto.mediapipe.RenderAnnotation.FilledOval=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.FilledOval,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledOval.displayName="proto.mediapipe.RenderAnnotation.FilledOval"),proto.mediapipe.RenderAnnotation.Point=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Point,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Point.displayName="proto.mediapipe.RenderAnnotation.Point"),proto.mediapipe.RenderAnnotation.Line=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Line,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Line.displayName="proto.mediapipe.RenderAnnotation.Line"),proto.mediapipe.RenderAnnotation.GradientLine=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.GradientLine,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.GradientLine.displayName="proto.mediapipe.RenderAnnotation.GradientLine"),proto.mediapipe.RenderAnnotation.Scribble=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.RenderAnnotation.Scribble.repeatedFields_,null)},r.inherits(proto.mediapipe.RenderAnnotation.Scribble,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Scribble.displayName="proto.mediapipe.RenderAnnotation.Scribble"),proto.mediapipe.RenderAnnotation.Arrow=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Arrow,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Arrow.displayName="proto.mediapipe.RenderAnnotation.Arrow"),proto.mediapipe.RenderAnnotation.Text=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Text,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Text.displayName="proto.mediapipe.RenderAnnotation.Text"),proto.mediapipe.RenderViewport=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.RenderViewport,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderViewport.displayName="proto.mediapipe.RenderViewport"),proto.mediapipe.RenderData.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderData.prototype.toObject=function(e){return proto.mediapipe.RenderData.toObject(e,this)},proto.mediapipe.RenderData.toObject=function(e,r){var n,i={renderAnnotationsList:t.Message.toObjectList(r.getRenderAnnotationsList(),proto.mediapipe.RenderAnnotation.toObject,e),sceneClass:null==(n=t.Message.getField(r,2))?void 0:n,sceneViewport:(n=r.getSceneViewport())&&proto.mediapipe.RenderViewport.toObject(e,n)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.RenderData.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderData;return proto.mediapipe.RenderData.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.RenderAnnotation;t.readMessage(r,proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader),e.addRenderAnnotations(r);break;case 2:r=t.readString(),e.setSceneClass(r);break;case 3:r=new proto.mediapipe.RenderViewport,t.readMessage(r,proto.mediapipe.RenderViewport.deserializeBinaryFromReader),e.setSceneViewport(r);break;default:t.skipField()}return e},proto.mediapipe.RenderData.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderData.serializeBinaryToWriter=function(e,r){var n=void 0;(n=e.getRenderAnnotationsList()).length>0&&r.writeRepeatedMessage(1,n,proto.mediapipe.RenderAnnotation.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeString(2,n),null!=(n=e.getSceneViewport())&&r.writeMessage(3,n,proto.mediapipe.RenderViewport.serializeBinaryToWriter)},proto.mediapipe.RenderData.prototype.getRenderAnnotationsList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.RenderAnnotation,1)},proto.mediapipe.RenderData.prototype.setRenderAnnotationsList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.RenderData.prototype.addRenderAnnotations=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.RenderAnnotation,r)},proto.mediapipe.RenderData.prototype.clearRenderAnnotationsList=function(){return this.setRenderAnnotationsList([])},proto.mediapipe.RenderData.prototype.getSceneClass=function(){return t.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.RenderData.prototype.setSceneClass=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderData.prototype.clearSceneClass=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderData.prototype.hasSceneClass=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderData.prototype.getSceneViewport=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderViewport,3)},proto.mediapipe.RenderData.prototype.setSceneViewport=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.RenderData.prototype.clearSceneViewport=function(){return this.setSceneViewport(void 0)},proto.mediapipe.RenderData.prototype.hasSceneViewport=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.RenderAnnotation.oneofGroups_=[[1,2,3,4,5,6,7,8,9,10,14,15]],proto.mediapipe.RenderAnnotation.DataCase={DATA_NOT_SET:0,RECTANGLE:1,FILLED_RECTANGLE:2,OVAL:3,FILLED_OVAL:4,POINT:5,LINE:6,ARROW:7,TEXT:8,ROUNDED_RECTANGLE:9,FILLED_ROUNDED_RECTANGLE:10,GRADIENT_LINE:14,SCRIBBLE:15},proto.mediapipe.RenderAnnotation.prototype.getDataCase=function(){return t.Message.computeOneofCase(this,proto.mediapipe.RenderAnnotation.oneofGroups_[0])},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.toObject(e,this)},proto.mediapipe.RenderAnnotation.toObject=function(e,r){var n,a={rectangle:(n=r.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(e,n),filledRectangle:(n=r.getFilledRectangle())&&proto.mediapipe.RenderAnnotation.FilledRectangle.toObject(e,n),oval:(n=r.getOval())&&proto.mediapipe.RenderAnnotation.Oval.toObject(e,n),filledOval:(n=r.getFilledOval())&&proto.mediapipe.RenderAnnotation.FilledOval.toObject(e,n),point:(n=r.getPoint())&&proto.mediapipe.RenderAnnotation.Point.toObject(e,n),line:(n=r.getLine())&&proto.mediapipe.RenderAnnotation.Line.toObject(e,n),arrow:(n=r.getArrow())&&proto.mediapipe.RenderAnnotation.Arrow.toObject(e,n),text:(n=r.getText())&&proto.mediapipe.RenderAnnotation.Text.toObject(e,n),roundedRectangle:(n=r.getRoundedRectangle())&&proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(e,n),filledRoundedRectangle:(n=r.getFilledRoundedRectangle())&&proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject(e,n),gradientLine:(n=r.getGradientLine())&&proto.mediapipe.RenderAnnotation.GradientLine.toObject(e,n),scribble:(n=r.getScribble())&&proto.mediapipe.RenderAnnotation.Scribble.toObject(e,n),thickness:t.Message.getFloatingPointFieldWithDefault(r,11,1),color:(n=r.getColor())&&i.Color.toObject(e,n),sceneTag:null==(n=t.Message.getField(r,13))?void 0:n};return e&&(a.$jspbMessageInstance=r),a}),proto.mediapipe.RenderAnnotation.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation;return proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.RenderAnnotation.Rectangle;t.readMessage(r,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),e.setRectangle(r);break;case 2:r=new proto.mediapipe.RenderAnnotation.FilledRectangle,t.readMessage(r,proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader),e.setFilledRectangle(r);break;case 3:r=new proto.mediapipe.RenderAnnotation.Oval,t.readMessage(r,proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader),e.setOval(r);break;case 4:r=new proto.mediapipe.RenderAnnotation.FilledOval,t.readMessage(r,proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader),e.setFilledOval(r);break;case 5:r=new proto.mediapipe.RenderAnnotation.Point,t.readMessage(r,proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader),e.setPoint(r);break;case 6:r=new proto.mediapipe.RenderAnnotation.Line,t.readMessage(r,proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader),e.setLine(r);break;case 7:r=new proto.mediapipe.RenderAnnotation.Arrow,t.readMessage(r,proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader),e.setArrow(r);break;case 8:r=new proto.mediapipe.RenderAnnotation.Text,t.readMessage(r,proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader),e.setText(r);break;case 9:r=new proto.mediapipe.RenderAnnotation.RoundedRectangle,t.readMessage(r,proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader),e.setRoundedRectangle(r);break;case 10:r=new proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,t.readMessage(r,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader),e.setFilledRoundedRectangle(r);break;case 14:r=new proto.mediapipe.RenderAnnotation.GradientLine,t.readMessage(r,proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader),e.setGradientLine(r);break;case 15:r=new proto.mediapipe.RenderAnnotation.Scribble,t.readMessage(r,proto.mediapipe.RenderAnnotation.Scribble.deserializeBinaryFromReader),e.setScribble(r);break;case 11:r=t.readDouble(),e.setThickness(r);break;case 12:r=new i.Color,t.readMessage(r,i.Color.deserializeBinaryFromReader),e.setColor(r);break;case 13:r=t.readString(),e.setSceneTag(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getRectangle())&&r.writeMessage(1,n,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),null!=(n=e.getFilledRectangle())&&r.writeMessage(2,n,proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter),null!=(n=e.getOval())&&r.writeMessage(3,n,proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter),null!=(n=e.getFilledOval())&&r.writeMessage(4,n,proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter),null!=(n=e.getPoint())&&r.writeMessage(5,n,proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter),null!=(n=e.getLine())&&r.writeMessage(6,n,proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter),null!=(n=e.getArrow())&&r.writeMessage(7,n,proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter),null!=(n=e.getText())&&r.writeMessage(8,n,proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter),null!=(n=e.getRoundedRectangle())&&r.writeMessage(9,n,proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter),null!=(n=e.getFilledRoundedRectangle())&&r.writeMessage(10,n,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter),null!=(n=e.getGradientLine())&&r.writeMessage(14,n,proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter),null!=(n=e.getScribble())&&r.writeMessage(15,n,proto.mediapipe.RenderAnnotation.Scribble.serializeBinaryToWriter),null!=(n=t.Message.getField(e,11))&&r.writeDouble(11,n),null!=(n=e.getColor())&&r.writeMessage(12,n,i.Color.serializeBinaryToWriter),null!=(n=t.Message.getField(e,13))&&r.writeString(13,n)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Rectangle.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.Rectangle.toObject(e,this)},proto.mediapipe.RenderAnnotation.Rectangle.toObject=function(e,r){var n,i={left:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,top:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,right:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,bottom:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n,normalized:t.Message.getBooleanFieldWithDefault(r,5,!1),rotation:null==(n=t.Message.getOptionalFloatingPointField(r,6))?void 0:n,topLeftThickness:null==(n=t.Message.getOptionalFloatingPointField(r,7))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.Rectangle;return proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readDouble();e.setLeft(r);break;case 2:r=t.readDouble(),e.setTop(r);break;case 3:r=t.readDouble(),e.setRight(r);break;case 4:r=t.readDouble(),e.setBottom(r);break;case 5:r=t.readBool(),e.setNormalized(r);break;case 6:r=t.readDouble(),e.setRotation(r);break;case 7:r=t.readDouble(),e.setTopLeftThickness(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.Rectangle.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeDouble(1,n),null!=(n=t.Message.getField(e,2))&&r.writeDouble(2,n),null!=(n=t.Message.getField(e,3))&&r.writeDouble(3,n),null!=(n=t.Message.getField(e,4))&&r.writeDouble(4,n),null!=(n=t.Message.getField(e,5))&&r.writeBool(5,n),null!=(n=t.Message.getField(e,6))&&r.writeDouble(6,n),null!=(n=t.Message.getField(e,7))&&r.writeDouble(7,n)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getLeft=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setLeft=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearLeft=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasLeft=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getTop=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setTop=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearTop=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasTop=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getRight=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setRight=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearRight=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasRight=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getBottom=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setBottom=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearBottom=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasBottom=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getNormalized=function(){return t.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setNormalized=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearNormalized=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasNormalized=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getRotation=function(){return t.Message.getFloatingPointFieldWithDefault(this,6,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setRotation=function(e){return t.Message.setField(this,6,e)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearRotation=function(){return t.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasRotation=function(){return null!=t.Message.getField(this,6)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getTopLeftThickness=function(){return t.Message.getFloatingPointFieldWithDefault(this,7,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setTopLeftThickness=function(e){return t.Message.setField(this,7,e)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearTopLeftThickness=function(){return t.Message.setField(this,7,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasTopLeftThickness=function(){return null!=t.Message.getField(this,7)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.FilledRectangle.toObject(e,this)},proto.mediapipe.RenderAnnotation.FilledRectangle.toObject=function(e,t){var r,n={rectangle:(r=t.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(e,r),fillColor:(r=t.getFillColor())&&i.Color.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.FilledRectangle;return proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.RenderAnnotation.Rectangle;t.readMessage(r,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),e.setRectangle(r);break;case 2:r=new i.Color,t.readMessage(r,i.Color.deserializeBinaryFromReader),e.setFillColor(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getRectangle())&&t.writeMessage(1,r,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),null!=(r=e.getFillColor())&&t.writeMessage(2,r,i.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.getRectangle=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.setRectangle=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.hasRectangle=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.getFillColor=function(){return t.Message.getWrapperField(this,i.Color,2)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.setFillColor=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.hasFillColor=function(){return null!=t.Message.getField(this,2)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(e,this)},proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject=function(e,r){var n,i={rectangle:(n=r.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(e,n),cornerRadius:t.Message.getFieldWithDefault(r,2,0),lineType:t.Message.getFieldWithDefault(r,3,4)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.RoundedRectangle;return proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.RenderAnnotation.Rectangle;t.readMessage(r,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),e.setRectangle(r);break;case 2:r=t.readInt32(),e.setCornerRadius(r);break;case 3:r=t.readInt32(),e.setLineType(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getRectangle())&&r.writeMessage(1,n,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getRectangle=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setRectangle=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasRectangle=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getCornerRadius=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setCornerRadius=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearCornerRadius=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasCornerRadius=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getLineType=function(){return t.Message.getFieldWithDefault(this,3,4)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setLineType=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearLineType=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasLineType=function(){return null!=t.Message.getField(this,3)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject(e,this)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject=function(e,t){var r,n={roundedRectangle:(r=t.getRoundedRectangle())&&proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(e,r),fillColor:(r=t.getFillColor())&&i.Color.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.FilledRoundedRectangle;return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.RenderAnnotation.RoundedRectangle;t.readMessage(r,proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader),e.setRoundedRectangle(r);break;case 2:r=new i.Color,t.readMessage(r,i.Color.deserializeBinaryFromReader),e.setFillColor(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getRoundedRectangle())&&t.writeMessage(1,r,proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter),null!=(r=e.getFillColor())&&t.writeMessage(2,r,i.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.getRoundedRectangle=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.RoundedRectangle,1)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.setRoundedRectangle=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.clearRoundedRectangle=function(){return this.setRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.hasRoundedRectangle=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.getFillColor=function(){return t.Message.getWrapperField(this,i.Color,2)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.setFillColor=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.hasFillColor=function(){return null!=t.Message.getField(this,2)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Oval.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.Oval.toObject(e,this)},proto.mediapipe.RenderAnnotation.Oval.toObject=function(e,t){var r,n={rectangle:(r=t.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.RenderAnnotation.Oval.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.Oval;return proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.RenderAnnotation.Rectangle;t.readMessage(r,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),e.setRectangle(r)}else t.skipField();return e},proto.mediapipe.RenderAnnotation.Oval.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getRectangle())&&t.writeMessage(1,r,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.Oval.prototype.getRectangle=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.Oval.prototype.setRectangle=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.RenderAnnotation.Oval.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.Oval.prototype.hasRectangle=function(){return null!=t.Message.getField(this,1)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledOval.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.FilledOval.toObject(e,this)},proto.mediapipe.RenderAnnotation.FilledOval.toObject=function(e,t){var r,n={oval:(r=t.getOval())&&proto.mediapipe.RenderAnnotation.Oval.toObject(e,r),fillColor:(r=t.getFillColor())&&i.Color.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.FilledOval;return proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.mediapipe.RenderAnnotation.Oval;t.readMessage(r,proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader),e.setOval(r);break;case 2:r=new i.Color,t.readMessage(r,i.Color.deserializeBinaryFromReader),e.setFillColor(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.FilledOval.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getOval())&&t.writeMessage(1,r,proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter),null!=(r=e.getFillColor())&&t.writeMessage(2,r,i.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.getOval=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Oval,1)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.setOval=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.clearOval=function(){return this.setOval(void 0)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.hasOval=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.getFillColor=function(){return t.Message.getWrapperField(this,i.Color,2)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.setFillColor=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.hasFillColor=function(){return null!=t.Message.getField(this,2)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Point.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.Point.toObject(e,this)},proto.mediapipe.RenderAnnotation.Point.toObject=function(e,r){var n,i={x:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,y:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,normalized:t.Message.getBooleanFieldWithDefault(r,3,!1)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.RenderAnnotation.Point.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.Point;return proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readDouble();e.setX(r);break;case 2:r=t.readDouble(),e.setY(r);break;case 3:r=t.readBool(),e.setNormalized(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.Point.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeDouble(1,n),null!=(n=t.Message.getField(e,2))&&r.writeDouble(2,n),null!=(n=t.Message.getField(e,3))&&r.writeBool(3,n)},proto.mediapipe.RenderAnnotation.Point.prototype.getX=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Point.prototype.setX=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.RenderAnnotation.Point.prototype.clearX=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasX=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.Point.prototype.getY=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Point.prototype.setY=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderAnnotation.Point.prototype.clearY=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasY=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderAnnotation.Point.prototype.getNormalized=function(){return t.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.RenderAnnotation.Point.prototype.setNormalized=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.RenderAnnotation.Point.prototype.clearNormalized=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasNormalized=function(){return null!=t.Message.getField(this,3)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Line.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.Line.toObject(e,this)},proto.mediapipe.RenderAnnotation.Line.toObject=function(e,r){var n,i={xStart:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,yStart:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,xEnd:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,yEnd:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n,normalized:t.Message.getBooleanFieldWithDefault(r,5,!1),lineType:t.Message.getFieldWithDefault(r,6,1)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.RenderAnnotation.Line.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.Line;return proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readDouble();e.setXStart(r);break;case 2:r=t.readDouble(),e.setYStart(r);break;case 3:r=t.readDouble(),e.setXEnd(r);break;case 4:r=t.readDouble(),e.setYEnd(r);break;case 5:r=t.readBool(),e.setNormalized(r);break;case 6:r=t.readEnum(),e.setLineType(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.Line.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeDouble(1,n),null!=(n=t.Message.getField(e,2))&&r.writeDouble(2,n),null!=(n=t.Message.getField(e,3))&&r.writeDouble(3,n),null!=(n=t.Message.getField(e,4))&&r.writeDouble(4,n),null!=(n=t.Message.getField(e,5))&&r.writeBool(5,n),null!=(n=t.Message.getField(e,6))&&r.writeEnum(6,n)},proto.mediapipe.RenderAnnotation.Line.LineType={UNKNOWN:0,SOLID:1,DASHED:2},proto.mediapipe.RenderAnnotation.Line.prototype.getXStart=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setXStart=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.RenderAnnotation.Line.prototype.clearXStart=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasXStart=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.Line.prototype.getYStart=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setYStart=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderAnnotation.Line.prototype.clearYStart=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasYStart=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderAnnotation.Line.prototype.getXEnd=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setXEnd=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.RenderAnnotation.Line.prototype.clearXEnd=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasXEnd=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.RenderAnnotation.Line.prototype.getYEnd=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setYEnd=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.RenderAnnotation.Line.prototype.clearYEnd=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasYEnd=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.RenderAnnotation.Line.prototype.getNormalized=function(){return t.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Line.prototype.setNormalized=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.RenderAnnotation.Line.prototype.clearNormalized=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasNormalized=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.RenderAnnotation.Line.prototype.getLineType=function(){return t.Message.getFieldWithDefault(this,6,1)},proto.mediapipe.RenderAnnotation.Line.prototype.setLineType=function(e){return t.Message.setField(this,6,e)},proto.mediapipe.RenderAnnotation.Line.prototype.clearLineType=function(){return t.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasLineType=function(){return null!=t.Message.getField(this,6)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.GradientLine.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.GradientLine.toObject(e,this)},proto.mediapipe.RenderAnnotation.GradientLine.toObject=function(e,r){var n,a={xStart:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,yStart:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,xEnd:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,yEnd:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n,normalized:t.Message.getBooleanFieldWithDefault(r,5,!1),color1:(n=r.getColor1())&&i.Color.toObject(e,n),color2:(n=r.getColor2())&&i.Color.toObject(e,n)};return e&&(a.$jspbMessageInstance=r),a}),proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.GradientLine;return proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readDouble();e.setXStart(r);break;case 2:r=t.readDouble(),e.setYStart(r);break;case 3:r=t.readDouble(),e.setXEnd(r);break;case 4:r=t.readDouble(),e.setYEnd(r);break;case 5:r=t.readBool(),e.setNormalized(r);break;case 6:r=new i.Color,t.readMessage(r,i.Color.deserializeBinaryFromReader),e.setColor1(r);break;case 7:r=new i.Color,t.readMessage(r,i.Color.deserializeBinaryFromReader),e.setColor2(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.GradientLine.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeDouble(1,n),null!=(n=t.Message.getField(e,2))&&r.writeDouble(2,n),null!=(n=t.Message.getField(e,3))&&r.writeDouble(3,n),null!=(n=t.Message.getField(e,4))&&r.writeDouble(4,n),null!=(n=t.Message.getField(e,5))&&r.writeBool(5,n),null!=(n=e.getColor1())&&r.writeMessage(6,n,i.Color.serializeBinaryToWriter),null!=(n=e.getColor2())&&r.writeMessage(7,n,i.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getXStart=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setXStart=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearXStart=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasXStart=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getYStart=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setYStart=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearYStart=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasYStart=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getXEnd=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setXEnd=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearXEnd=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasXEnd=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getYEnd=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setYEnd=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearYEnd=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasYEnd=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getNormalized=function(){return t.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setNormalized=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearNormalized=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasNormalized=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getColor1=function(){return t.Message.getWrapperField(this,i.Color,6)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setColor1=function(e){return t.Message.setWrapperField(this,6,e)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearColor1=function(){return this.setColor1(void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasColor1=function(){return null!=t.Message.getField(this,6)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getColor2=function(){return t.Message.getWrapperField(this,i.Color,7)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setColor2=function(e){return t.Message.setWrapperField(this,7,e)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearColor2=function(){return this.setColor2(void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasColor2=function(){return null!=t.Message.getField(this,7)},proto.mediapipe.RenderAnnotation.Scribble.repeatedFields_=[1],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Scribble.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.Scribble.toObject(e,this)},proto.mediapipe.RenderAnnotation.Scribble.toObject=function(e,r){var n={pointList:t.Message.toObjectList(r.getPointList(),proto.mediapipe.RenderAnnotation.Point.toObject,e)};return e&&(n.$jspbMessageInstance=r),n}),proto.mediapipe.RenderAnnotation.Scribble.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.Scribble;return proto.mediapipe.RenderAnnotation.Scribble.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.Scribble.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.mediapipe.RenderAnnotation.Point;t.readMessage(r,proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader),e.addPoint(r)}else t.skipField();return e},proto.mediapipe.RenderAnnotation.Scribble.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.Scribble.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.Scribble.serializeBinaryToWriter=function(e,t){var r;(r=e.getPointList()).length>0&&t.writeRepeatedMessage(1,r,proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.Scribble.prototype.getPointList=function(){return t.Message.getRepeatedWrapperField(this,proto.mediapipe.RenderAnnotation.Point,1)},proto.mediapipe.RenderAnnotation.Scribble.prototype.setPointList=function(e){return t.Message.setRepeatedWrapperField(this,1,e)},proto.mediapipe.RenderAnnotation.Scribble.prototype.addPoint=function(e,r){return t.Message.addToRepeatedWrapperField(this,1,e,proto.mediapipe.RenderAnnotation.Point,r)},proto.mediapipe.RenderAnnotation.Scribble.prototype.clearPointList=function(){return this.setPointList([])},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Arrow.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.Arrow.toObject(e,this)},proto.mediapipe.RenderAnnotation.Arrow.toObject=function(e,r){var n,i={xStart:null==(n=t.Message.getOptionalFloatingPointField(r,1))?void 0:n,yStart:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,xEnd:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,yEnd:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n,normalized:t.Message.getBooleanFieldWithDefault(r,5,!1)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.RenderAnnotation.Arrow.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.Arrow;return proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readDouble();e.setXStart(r);break;case 2:r=t.readDouble(),e.setYStart(r);break;case 3:r=t.readDouble(),e.setXEnd(r);break;case 4:r=t.readDouble(),e.setYEnd(r);break;case 5:r=t.readBool(),e.setNormalized(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.Arrow.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeDouble(1,n),null!=(n=t.Message.getField(e,2))&&r.writeDouble(2,n),null!=(n=t.Message.getField(e,3))&&r.writeDouble(3,n),null!=(n=t.Message.getField(e,4))&&r.writeDouble(4,n),null!=(n=t.Message.getField(e,5))&&r.writeBool(5,n)},proto.mediapipe.RenderAnnotation.Arrow.prototype.getXStart=function(){return t.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setXStart=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearXStart=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasXStart=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.Arrow.prototype.getYStart=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setYStart=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearYStart=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasYStart=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderAnnotation.Arrow.prototype.getXEnd=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setXEnd=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearXEnd=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasXEnd=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.RenderAnnotation.Arrow.prototype.getYEnd=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setYEnd=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearYEnd=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasYEnd=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.RenderAnnotation.Arrow.prototype.getNormalized=function(){return t.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setNormalized=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearNormalized=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasNormalized=function(){return null!=t.Message.getField(this,5)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Text.prototype.toObject=function(e){return proto.mediapipe.RenderAnnotation.Text.toObject(e,this)},proto.mediapipe.RenderAnnotation.Text.toObject=function(e,r){var n,a={displayText:null==(n=t.Message.getField(r,1))?void 0:n,left:null==(n=t.Message.getOptionalFloatingPointField(r,2))?void 0:n,baseline:null==(n=t.Message.getOptionalFloatingPointField(r,3))?void 0:n,fontHeight:t.Message.getFloatingPointFieldWithDefault(r,4,8),normalized:t.Message.getBooleanFieldWithDefault(r,5,!1),fontFace:t.Message.getFieldWithDefault(r,6,0),centerHorizontally:t.Message.getBooleanFieldWithDefault(r,7,!1),centerVertically:t.Message.getBooleanFieldWithDefault(r,8,!1),outlineThickness:t.Message.getFloatingPointFieldWithDefault(r,11,0),outlineColor:(n=r.getOutlineColor())&&i.Color.toObject(e,n)};return e&&(a.$jspbMessageInstance=r),a}),proto.mediapipe.RenderAnnotation.Text.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderAnnotation.Text;return proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setDisplayText(r);break;case 2:r=t.readDouble(),e.setLeft(r);break;case 3:r=t.readDouble(),e.setBaseline(r);break;case 4:r=t.readDouble(),e.setFontHeight(r);break;case 5:r=t.readBool(),e.setNormalized(r);break;case 6:r=t.readInt32(),e.setFontFace(r);break;case 7:r=t.readBool(),e.setCenterHorizontally(r);break;case 8:r=t.readBool(),e.setCenterVertically(r);break;case 11:r=t.readDouble(),e.setOutlineThickness(r);break;case 12:r=new i.Color,t.readMessage(r,i.Color.deserializeBinaryFromReader),e.setOutlineColor(r);break;default:t.skipField()}return e},proto.mediapipe.RenderAnnotation.Text.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),null!=(n=t.Message.getField(e,2))&&r.writeDouble(2,n),null!=(n=t.Message.getField(e,3))&&r.writeDouble(3,n),null!=(n=t.Message.getField(e,4))&&r.writeDouble(4,n),null!=(n=t.Message.getField(e,5))&&r.writeBool(5,n),null!=(n=t.Message.getField(e,6))&&r.writeInt32(6,n),null!=(n=t.Message.getField(e,7))&&r.writeBool(7,n),null!=(n=t.Message.getField(e,8))&&r.writeBool(8,n),null!=(n=t.Message.getField(e,11))&&r.writeDouble(11,n),null!=(n=e.getOutlineColor())&&r.writeMessage(12,n,i.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.Text.prototype.getDisplayText=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.RenderAnnotation.Text.prototype.setDisplayText=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearDisplayText=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasDisplayText=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.Text.prototype.getLeft=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setLeft=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearLeft=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasLeft=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderAnnotation.Text.prototype.getBaseline=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setBaseline=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearBaseline=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasBaseline=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.RenderAnnotation.Text.prototype.getFontHeight=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,8)},proto.mediapipe.RenderAnnotation.Text.prototype.setFontHeight=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearFontHeight=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasFontHeight=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.RenderAnnotation.Text.prototype.getNormalized=function(){return t.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setNormalized=function(e){return t.Message.setField(this,5,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearNormalized=function(){return t.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasNormalized=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.RenderAnnotation.Text.prototype.getFontFace=function(){return t.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setFontFace=function(e){return t.Message.setField(this,6,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearFontFace=function(){return t.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasFontFace=function(){return null!=t.Message.getField(this,6)},proto.mediapipe.RenderAnnotation.Text.prototype.getCenterHorizontally=function(){return t.Message.getBooleanFieldWithDefault(this,7,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setCenterHorizontally=function(e){return t.Message.setField(this,7,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearCenterHorizontally=function(){return t.Message.setField(this,7,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasCenterHorizontally=function(){return null!=t.Message.getField(this,7)},proto.mediapipe.RenderAnnotation.Text.prototype.getCenterVertically=function(){return t.Message.getBooleanFieldWithDefault(this,8,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setCenterVertically=function(e){return t.Message.setField(this,8,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearCenterVertically=function(){return t.Message.setField(this,8,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasCenterVertically=function(){return null!=t.Message.getField(this,8)},proto.mediapipe.RenderAnnotation.Text.prototype.getOutlineThickness=function(){return t.Message.getFloatingPointFieldWithDefault(this,11,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setOutlineThickness=function(e){return t.Message.setField(this,11,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearOutlineThickness=function(){return t.Message.setField(this,11,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasOutlineThickness=function(){return null!=t.Message.getField(this,11)},proto.mediapipe.RenderAnnotation.Text.prototype.getOutlineColor=function(){return t.Message.getWrapperField(this,i.Color,12)},proto.mediapipe.RenderAnnotation.Text.prototype.setOutlineColor=function(e){return t.Message.setWrapperField(this,12,e)},proto.mediapipe.RenderAnnotation.Text.prototype.clearOutlineColor=function(){return this.setOutlineColor(void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasOutlineColor=function(){return null!=t.Message.getField(this,12)},proto.mediapipe.RenderAnnotation.prototype.getRectangle=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.prototype.setRectangle=function(e){return t.Message.setOneofWrapperField(this,1,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasRectangle=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderAnnotation.prototype.getFilledRectangle=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledRectangle,2)},proto.mediapipe.RenderAnnotation.prototype.setFilledRectangle=function(e){return t.Message.setOneofWrapperField(this,2,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearFilledRectangle=function(){return this.setFilledRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledRectangle=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderAnnotation.prototype.getOval=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Oval,3)},proto.mediapipe.RenderAnnotation.prototype.setOval=function(e){return t.Message.setOneofWrapperField(this,3,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearOval=function(){return this.setOval(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasOval=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.RenderAnnotation.prototype.getFilledOval=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledOval,4)},proto.mediapipe.RenderAnnotation.prototype.setFilledOval=function(e){return t.Message.setOneofWrapperField(this,4,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearFilledOval=function(){return this.setFilledOval(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledOval=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.RenderAnnotation.prototype.getPoint=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Point,5)},proto.mediapipe.RenderAnnotation.prototype.setPoint=function(e){return t.Message.setOneofWrapperField(this,5,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearPoint=function(){return this.setPoint(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasPoint=function(){return null!=t.Message.getField(this,5)},proto.mediapipe.RenderAnnotation.prototype.getLine=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Line,6)},proto.mediapipe.RenderAnnotation.prototype.setLine=function(e){return t.Message.setOneofWrapperField(this,6,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearLine=function(){return this.setLine(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasLine=function(){return null!=t.Message.getField(this,6)},proto.mediapipe.RenderAnnotation.prototype.getArrow=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Arrow,7)},proto.mediapipe.RenderAnnotation.prototype.setArrow=function(e){return t.Message.setOneofWrapperField(this,7,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearArrow=function(){return this.setArrow(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasArrow=function(){return null!=t.Message.getField(this,7)},proto.mediapipe.RenderAnnotation.prototype.getText=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Text,8)},proto.mediapipe.RenderAnnotation.prototype.setText=function(e){return t.Message.setOneofWrapperField(this,8,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearText=function(){return this.setText(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasText=function(){return null!=t.Message.getField(this,8)},proto.mediapipe.RenderAnnotation.prototype.getRoundedRectangle=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.RoundedRectangle,9)},proto.mediapipe.RenderAnnotation.prototype.setRoundedRectangle=function(e){return t.Message.setOneofWrapperField(this,9,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearRoundedRectangle=function(){return this.setRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasRoundedRectangle=function(){return null!=t.Message.getField(this,9)},proto.mediapipe.RenderAnnotation.prototype.getFilledRoundedRectangle=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,10)},proto.mediapipe.RenderAnnotation.prototype.setFilledRoundedRectangle=function(e){return t.Message.setOneofWrapperField(this,10,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearFilledRoundedRectangle=function(){return this.setFilledRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledRoundedRectangle=function(){return null!=t.Message.getField(this,10)},proto.mediapipe.RenderAnnotation.prototype.getGradientLine=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.GradientLine,14)},proto.mediapipe.RenderAnnotation.prototype.setGradientLine=function(e){return t.Message.setOneofWrapperField(this,14,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearGradientLine=function(){return this.setGradientLine(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasGradientLine=function(){return null!=t.Message.getField(this,14)},proto.mediapipe.RenderAnnotation.prototype.getScribble=function(){return t.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Scribble,15)},proto.mediapipe.RenderAnnotation.prototype.setScribble=function(e){return t.Message.setOneofWrapperField(this,15,proto.mediapipe.RenderAnnotation.oneofGroups_[0],e)},proto.mediapipe.RenderAnnotation.prototype.clearScribble=function(){return this.setScribble(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasScribble=function(){return null!=t.Message.getField(this,15)},proto.mediapipe.RenderAnnotation.prototype.getThickness=function(){return t.Message.getFloatingPointFieldWithDefault(this,11,1)},proto.mediapipe.RenderAnnotation.prototype.setThickness=function(e){return t.Message.setField(this,11,e)},proto.mediapipe.RenderAnnotation.prototype.clearThickness=function(){return t.Message.setField(this,11,void 0)},proto.mediapipe.RenderAnnotation.prototype.hasThickness=function(){return null!=t.Message.getField(this,11)},proto.mediapipe.RenderAnnotation.prototype.getColor=function(){return t.Message.getWrapperField(this,i.Color,12)},proto.mediapipe.RenderAnnotation.prototype.setColor=function(e){return t.Message.setWrapperField(this,12,e)},proto.mediapipe.RenderAnnotation.prototype.clearColor=function(){return this.setColor(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasColor=function(){return null!=t.Message.getField(this,12)},proto.mediapipe.RenderAnnotation.prototype.getSceneTag=function(){return t.Message.getFieldWithDefault(this,13,"")},proto.mediapipe.RenderAnnotation.prototype.setSceneTag=function(e){return t.Message.setField(this,13,e)},proto.mediapipe.RenderAnnotation.prototype.clearSceneTag=function(){return t.Message.setField(this,13,void 0)},proto.mediapipe.RenderAnnotation.prototype.hasSceneTag=function(){return null!=t.Message.getField(this,13)},t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderViewport.prototype.toObject=function(e){return proto.mediapipe.RenderViewport.toObject(e,this)},proto.mediapipe.RenderViewport.toObject=function(e,r){var n,i={id:null==(n=t.Message.getField(r,1))?void 0:n,widthPx:null==(n=t.Message.getField(r,2))?void 0:n,heightPx:null==(n=t.Message.getField(r,3))?void 0:n,composeOnVideo:null==(n=t.Message.getBooleanField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.RenderViewport.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.RenderViewport;return proto.mediapipe.RenderViewport.deserializeBinaryFromReader(n,r)},proto.mediapipe.RenderViewport.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setId(r);break;case 2:r=t.readInt32(),e.setWidthPx(r);break;case 3:r=t.readInt32(),e.setHeightPx(r);break;case 4:r=t.readBool(),e.setComposeOnVideo(r);break;default:t.skipField()}return e},proto.mediapipe.RenderViewport.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.RenderViewport.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.RenderViewport.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=t.Message.getField(e,1))&&r.writeString(1,n),null!=(n=t.Message.getField(e,2))&&r.writeInt32(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n),null!=(n=t.Message.getField(e,4))&&r.writeBool(4,n)},proto.mediapipe.RenderViewport.prototype.getId=function(){return t.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.RenderViewport.prototype.setId=function(e){return t.Message.setField(this,1,e)},proto.mediapipe.RenderViewport.prototype.clearId=function(){return t.Message.setField(this,1,void 0)},proto.mediapipe.RenderViewport.prototype.hasId=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.RenderViewport.prototype.getWidthPx=function(){return t.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.RenderViewport.prototype.setWidthPx=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.RenderViewport.prototype.clearWidthPx=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.RenderViewport.prototype.hasWidthPx=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.RenderViewport.prototype.getHeightPx=function(){return t.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.RenderViewport.prototype.setHeightPx=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.RenderViewport.prototype.clearHeightPx=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.RenderViewport.prototype.hasHeightPx=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.RenderViewport.prototype.getComposeOnVideo=function(){return t.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.RenderViewport.prototype.setComposeOnVideo=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.RenderViewport.prototype.clearComposeOnVideo=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.RenderViewport.prototype.hasComposeOnVideo=function(){return null!=t.Message.getField(this,4)},r.object.extend(e,proto.mediapipe)}(render_data_pb);var interactive_segmenter_options={};Object.defineProperty(interactive_segmenter_options,"__esModule",{value:!0});var interactive_segmenter_result={};Object.defineProperty(interactive_segmenter_result,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.InteractiveSegmenter=void 0;let n=calculator_pb,i=calculator_options_pb,a=base_options_pb,o=image_segmenter_graph_options_pb,s=segmenter_options_pb,p=vision_task_runner,d=color_pb,l=render_data_pb;r(interactive_segmenter_options,e),r(interactive_segmenter_result,e);let c="image_in",u="norm_rect_in",f="roi_in",m="confidence_masks",g="category_mask";class h extends p.VisionTaskRunner{static createFromOptions(e,t){return p.VisionTaskRunner.createVisionInstance(h,e,t)}static createFromModelBuffer(e,t){return p.VisionTaskRunner.createVisionInstance(h,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return p.VisionTaskRunner.createVisionInstance(h,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new p.VisionGraphRunner(e,t),c,u,!1),this.result={},this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.options=new o.ImageSegmenterGraphOptions,this.segmenterOptions=new s.SegmenterOptions,this.options.setSegmenterOptions(this.segmenterOptions),this.options.setBaseOptions(new a.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){var t,r;return"outputCategoryMask"in e&&(this.outputCategoryMask=null!=(t=e.outputCategoryMask)&&t),"outputConfidenceMasks"in e&&(this.outputConfidenceMasks=null==(r=e.outputConfidenceMasks)||r),super.applyOptions(e)}segment(e,t,r,n){let i="function"!=typeof r?r:{};if(this.userCallback="function"==typeof r?r:n,this.reset(),this.processRenderData(t,this.getSynctheticTimestamp()),this.processImageData(e,i),!this.userCallback)return this.result}reset(){this.result={}}maybeInvokeCallback(){(!this.outputConfidenceMasks||"confidenceMasks"in this.result)&&(!this.outputCategoryMask||"categoryMask"in this.result)&&this.userCallback&&(this.userCallback(this.result),this.freeKeepaliveStreams())}refreshGraph(){let e=new n.CalculatorGraphConfig;e.addInputStream(c),e.addInputStream(f),e.addInputStream(u);let t=new i.CalculatorOptions;t.setExtension(o.ImageSegmenterGraphOptions.ext,this.options);let r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraph"),r.addInputStream("IMAGE:"+c),r.addInputStream("ROI:"+f),r.addInputStream("NORM_RECT:"+u),r.setOptions(t),e.addNode(r),this.addKeepaliveNode(e),this.outputConfidenceMasks&&(e.addOutputStream(m),r.addOutputStream("CONFIDENCE_MASKS:"+m),this.keepStreamAlive(m),this.graphRunner.attachImageVectorListener(m,(e,t)=>{this.result.confidenceMasks=e.map(e=>this.convertToMPMask(e,!this.userCallback)),this.setLatestOutputTimestamp(t),this.maybeInvokeCallback()}),this.graphRunner.attachEmptyPacketListener(m,e=>{this.result.confidenceMasks=void 0,this.setLatestOutputTimestamp(e),this.maybeInvokeCallback()})),this.outputCategoryMask&&(e.addOutputStream(g),r.addOutputStream("CATEGORY_MASK:"+g),this.keepStreamAlive(g),this.graphRunner.attachImageListener(g,(e,t)=>{this.result.categoryMask=this.convertToMPMask(e,!this.userCallback),this.setLatestOutputTimestamp(t),this.maybeInvokeCallback()}),this.graphRunner.attachEmptyPacketListener(g,e=>{this.result.categoryMask=void 0,this.setLatestOutputTimestamp(e),this.maybeInvokeCallback()}));let a=e.serializeBinary();this.setGraph(new Uint8Array(a),!0)}processRenderData(e,t){let r=new l.RenderData,n=new l.RenderAnnotation,i=new d.Color;if(i.setR(255),n.setColor(i),e.keypoint&&e.scribble)throw Error("Cannot provide both keypoint and scribble.");if(e.keypoint){let t=new l.RenderAnnotation.Point;t.setNormalized(!0),t.setX(e.keypoint.x),t.setY(e.keypoint.y),n.setPoint(t)}else{if(!e.scribble)throw Error("Must provide either a keypoint or a scribble.");{let t=new l.RenderAnnotation.Scribble;for(let r of e.scribble){let e=new l.RenderAnnotation.Point;e.setNormalized(!0),e.setX(r.x),e.setY(r.y),t.addPoint(e)}n.setScribble(t)}}r.addRenderAnnotations(n),this.graphRunner.addProtoToStream(r.serializeBinary(),"drishti.RenderData",f,t)}}e.InteractiveSegmenter=h}(interactive_segmenter);var object_detector={},object_detector_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=base_options_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions",null,n),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions=function(e){t.Message.initialize(this,e,0,-1,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.displayName="proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions"),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.repeatedFields_=[5,6],t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject(e,this)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&o.BaseOptions.toObject(e,n),displayNamesLocale:t.Message.getFieldWithDefault(r,2,"en"),maxResults:t.Message.getFieldWithDefault(r,3,-1),scoreThreshold:null==(n=t.Message.getOptionalFloatingPointField(r,4))?void 0:n,categoryAllowlistList:null==(n=t.Message.getRepeatedField(r,5))?void 0:n,categoryDenylistList:null==(n=t.Message.getRepeatedField(r,6))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions;return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new o.BaseOptions;t.readMessage(r,o.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=t.readString(),e.setDisplayNamesLocale(r);break;case 3:r=t.readInt32(),e.setMaxResults(r);break;case 4:r=t.readFloat(),e.setScoreThreshold(r);break;case 5:r=t.readString(),e.addCategoryAllowlist(r);break;case 6:r=t.readString(),e.addCategoryDenylist(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,o.BaseOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeString(2,n),null!=(n=t.Message.getField(e,3))&&r.writeInt32(3,n),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n),(n=e.getCategoryAllowlistList()).length>0&&r.writeRepeatedString(5,n),(n=e.getCategoryDenylistList()).length>0&&r.writeRepeatedString(6,n)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext=new t.ExtensionFieldInfo(0x1a6e638a,{ext:0},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1a6e638a]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1a6e638a]=proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,o.BaseOptions,1)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getDisplayNamesLocale=function(){return t.Message.getFieldWithDefault(this,2,"en")},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setDisplayNamesLocale=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearDisplayNamesLocale=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasDisplayNamesLocale=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getMaxResults=function(){return t.Message.getFieldWithDefault(this,3,-1)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setMaxResults=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearMaxResults=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasMaxResults=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getScoreThreshold=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setScoreThreshold=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearScoreThreshold=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasScoreThreshold=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getCategoryAllowlistList=function(){return t.Message.getRepeatedField(this,5)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setCategoryAllowlistList=function(e){return t.Message.setField(this,5,e||[])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.addCategoryAllowlist=function(e,r){return t.Message.addToRepeatedField(this,5,e,r)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearCategoryAllowlistList=function(){return this.setCategoryAllowlistList([])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getCategoryDenylistList=function(){return t.Message.getRepeatedField(this,6)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setCategoryDenylistList=function(e){return t.Message.setField(this,6,e||[])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.addCategoryDenylist=function(e,r){return t.Message.addToRepeatedField(this,6,e,r)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearCategoryDenylistList=function(){return this.setCategoryDenylistList([])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext=new t.ExtensionFieldInfo(0x1a6e638a,{ext:0},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1a6e638a]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1a6e638a]=proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.object_detector.proto)}(object_detector_options_pb);var object_detector_options={};Object.defineProperty(object_detector_options,"__esModule",{value:!0});var object_detector_result={};Object.defineProperty(object_detector_result,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectDetector=void 0;let n=calculator_pb,i=calculator_options_pb,a=detection_pb,o=base_options_pb,s=object_detector_options_pb,p=detection_result,d=vision_task_runner,l="input_frame_gpu",c="norm_rect",u="detections";r(object_detector_options,e),r(object_detector_result,e);class f extends d.VisionTaskRunner{static createFromOptions(e,t){return d.VisionTaskRunner.createVisionInstance(f,e,t)}static createFromModelBuffer(e,t){return d.VisionTaskRunner.createVisionInstance(f,e,{baseOptions:{modelAssetBuffer:t}})}static async createFromModelPath(e,t){return d.VisionTaskRunner.createVisionInstance(f,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new d.VisionGraphRunner(e,t),l,c,!1),this.result={detections:[]},this.options=new s.ObjectDetectorOptions,this.options.setBaseOptions(new o.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){return void 0!==e.displayNamesLocale?this.options.setDisplayNamesLocale(e.displayNamesLocale):"displayNamesLocale"in e&&this.options.clearDisplayNamesLocale(),void 0!==e.maxResults?this.options.setMaxResults(e.maxResults):"maxResults"in e&&this.options.clearMaxResults(),void 0!==e.scoreThreshold?this.options.setScoreThreshold(e.scoreThreshold):"scoreThreshold"in e&&this.options.clearScoreThreshold(),void 0!==e.categoryAllowlist?this.options.setCategoryAllowlistList(e.categoryAllowlist):"categoryAllowlist"in e&&this.options.clearCategoryAllowlistList(),void 0!==e.categoryDenylist?this.options.setCategoryDenylistList(e.categoryDenylist):"categoryDenylist"in e&&this.options.clearCategoryDenylistList(),this.applyOptions(e)}detect(e,t){return this.result={detections:[]},this.processImageData(e,t),this.result}detectForVideo(e,t,r){return this.result={detections:[]},this.processVideoData(e,r,t),this.result}addJsObjectDetections(e){for(let t of e){let e=a.Detection.deserializeBinary(t);this.result.detections.push((0,p.convertFromDetectionProto)(e))}}refreshGraph(){let e=new n.CalculatorGraphConfig;e.addInputStream(l),e.addInputStream(c),e.addOutputStream(u);let t=new i.CalculatorOptions;t.setExtension(s.ObjectDetectorOptions.ext,this.options);let r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.ObjectDetectorGraph"),r.addInputStream("IMAGE:"+l),r.addInputStream("NORM_RECT:"+c),r.addOutputStream("DETECTIONS:"+u),r.setOptions(t),e.addNode(r),this.graphRunner.attachProtoVectorListener(u,(e,t)=>{this.addJsObjectDetections(e),this.setLatestOutputTimestamp(t)}),this.graphRunner.attachEmptyPacketListener(u,e=>{this.setLatestOutputTimestamp(e)});let a=e.serializeBinary();this.setGraph(new Uint8Array(a),!0)}}e.ObjectDetector=f}(object_detector);var pose_landmarker={},pose_detector_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=base_options_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&o.BaseOptions.toObject(e,n),minDetectionConfidence:t.Message.getFloatingPointFieldWithDefault(r,2,.5),minSuppressionThreshold:t.Message.getFloatingPointFieldWithDefault(r,3,.5),numPoses:null==(n=t.Message.getField(r,4))?void 0:n};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions;return proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new o.BaseOptions;t.readMessage(r,o.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=t.readFloat(),e.setMinDetectionConfidence(r);break;case 3:r=t.readFloat(),e.setMinSuppressionThreshold(r);break;case 4:r=t.readInt32(),e.setNumPoses(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,o.BaseOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n),null!=(n=t.Message.getField(e,3))&&r.writeFloat(3,n),null!=(n=t.Message.getField(e,4))&&r.writeInt32(4,n)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext=new t.ExtensionFieldInfo(0x1eaed71d,{ext:0},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1eaed71d]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1eaed71d]=proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,o.BaseOptions,1)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setMinDetectionConfidence=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getMinSuppressionThreshold=function(){return t.Message.getFloatingPointFieldWithDefault(this,3,.5)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setMinSuppressionThreshold=function(e){return t.Message.setField(this,3,e)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearMinSuppressionThreshold=function(){return t.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasMinSuppressionThreshold=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getNumPoses=function(){return t.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setNumPoses=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearNumPoses=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasNumPoses=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext=new t.ExtensionFieldInfo(0x1eaed71d,{ext:0},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1eaed71d]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1eaed71d]=proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.pose_detector.proto)}(pose_detector_graph_options_pb);var pose_landmarker_graph_options_pb={},pose_landmarks_detector_graph_options_pb={};!function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=base_options_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions",null,n),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&o.BaseOptions.toObject(e,n),minDetectionConfidence:t.Message.getFloatingPointFieldWithDefault(r,2,.5)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new o.BaseOptions;t.readMessage(r,o.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=t.readFloat(),e.setMinDetectionConfidence(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,o.BaseOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,2))&&r.writeFloat(2,n)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext=new t.ExtensionFieldInfo(0x1eee3800,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1eee3800]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1eee3800]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,o.BaseOptions,1)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(e){return t.Message.setField(this,2,e)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return t.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext=new t.ExtensionFieldInfo(0x1eee3800,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1eee3800]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1eee3800]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.pose_landmarker.proto)}(pose_landmarks_detector_graph_options_pb),function(e){var t=googleProtobuf,r=t,n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==n&&n||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),i=calculator_pb;r.object.extend(proto,i);var a=calculator_options_pb;r.object.extend(proto,a);var o=base_options_pb;r.object.extend(proto,o);var s=pose_detector_graph_options_pb;r.object.extend(proto,s);var p=pose_landmarks_detector_graph_options_pb;r.object.extend(proto,p),r.exportSymbol("proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions",null,n),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions=function(e){t.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions,t.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions"),t.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.toObject=function(e){return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject(e,this)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject=function(e,r){var n,i={baseOptions:(n=r.getBaseOptions())&&o.BaseOptions.toObject(e,n),poseDetectorGraphOptions:(n=r.getPoseDetectorGraphOptions())&&s.PoseDetectorGraphOptions.toObject(e,n),poseLandmarksDetectorGraphOptions:(n=r.getPoseLandmarksDetectorGraphOptions())&&p.PoseLandmarksDetectorGraphOptions.toObject(e,n),minTrackingConfidence:t.Message.getFloatingPointFieldWithDefault(r,4,.5)};return e&&(i.$jspbMessageInstance=r),i}),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinary=function(e){var r=new t.BinaryReader(e),n=new proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader(n,r)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new o.BaseOptions;t.readMessage(r,o.BaseOptions.deserializeBinaryFromReader),e.setBaseOptions(r);break;case 2:r=new s.PoseDetectorGraphOptions,t.readMessage(r,s.PoseDetectorGraphOptions.deserializeBinaryFromReader),e.setPoseDetectorGraphOptions(r);break;case 3:r=new p.PoseLandmarksDetectorGraphOptions,t.readMessage(r,p.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader),e.setPoseLandmarksDetectorGraphOptions(r);break;case 4:r=t.readFloat(),e.setMinTrackingConfidence(r);break;default:t.skipField()}return e},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.serializeBinary=function(){var e=new t.BinaryWriter;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter=function(e,r){var n=void 0;null!=(n=e.getBaseOptions())&&r.writeMessage(1,n,o.BaseOptions.serializeBinaryToWriter),null!=(n=e.getPoseDetectorGraphOptions())&&r.writeMessage(2,n,s.PoseDetectorGraphOptions.serializeBinaryToWriter),null!=(n=e.getPoseLandmarksDetectorGraphOptions())&&r.writeMessage(3,n,p.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter),null!=(n=t.Message.getField(e,4))&&r.writeFloat(4,n)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext=new t.ExtensionFieldInfo(0x1eca7ede,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1eca7ede]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1eca7ede]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getBaseOptions=function(){return t.Message.getWrapperField(this,o.BaseOptions,1)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setBaseOptions=function(e){return t.Message.setWrapperField(this,1,e)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return null!=t.Message.getField(this,1)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getPoseDetectorGraphOptions=function(){return t.Message.getWrapperField(this,s.PoseDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setPoseDetectorGraphOptions=function(e){return t.Message.setWrapperField(this,2,e)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearPoseDetectorGraphOptions=function(){return this.setPoseDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasPoseDetectorGraphOptions=function(){return null!=t.Message.getField(this,2)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getPoseLandmarksDetectorGraphOptions=function(){return t.Message.getWrapperField(this,p.PoseLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setPoseLandmarksDetectorGraphOptions=function(e){return t.Message.setWrapperField(this,3,e)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearPoseLandmarksDetectorGraphOptions=function(){return this.setPoseLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasPoseLandmarksDetectorGraphOptions=function(){return null!=t.Message.getField(this,3)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return t.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(e){return t.Message.setField(this,4,e)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return t.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return null!=t.Message.getField(this,4)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext=new t.ExtensionFieldInfo(0x1eca7ede,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject,0),a.CalculatorOptions.extensionsBinary[0x1eca7ede]=new t.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,t.BinaryReader.prototype.readMessage,t.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader,!1),a.CalculatorOptions.extensions[0x1eca7ede]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,r.object.extend(e,proto.mediapipe.tasks.vision.pose_landmarker.proto)}(pose_landmarker_graph_options_pb);var pose_landmarker_options={};Object.defineProperty(pose_landmarker_options,"__esModule",{value:!0});var pose_landmarker_result={};Object.defineProperty(pose_landmarker_result,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.PoseLandmarker=void 0;let n=calculator_pb,i=calculator_options_pb,a=landmark_pb,o=base_options_pb,s=pose_detector_graph_options_pb,p=pose_landmarker_graph_options_pb,d=pose_landmarks_detector_graph_options_pb,l=landmark_result,c=vision_task_runner;r(pose_landmarker_options,e),r(pose_landmarker_result,e);let u="image_in",f="norm_rect",m="normalized_landmarks",g="world_landmarks",h="segmentation_masks",y=.5;class v extends c.VisionTaskRunner{static createFromOptions(e,t){return c.VisionTaskRunner.createVisionInstance(v,e,t)}static createFromModelBuffer(e,t){return c.VisionTaskRunner.createVisionInstance(v,e,{baseOptions:{modelAssetBuffer:t}})}static createFromModelPath(e,t){return c.VisionTaskRunner.createVisionInstance(v,e,{baseOptions:{modelAssetPath:t}})}constructor(e,t){super(new c.VisionGraphRunner(e,t),u,f,!1),this.result={},this.outputSegmentationMasks=!1,this.options=new p.PoseLandmarkerGraphOptions,this.options.setBaseOptions(new o.BaseOptions),this.poseLandmarksDetectorGraphOptions=new d.PoseLandmarksDetectorGraphOptions,this.options.setPoseLandmarksDetectorGraphOptions(this.poseLandmarksDetectorGraphOptions),this.poseDetectorGraphOptions=new s.PoseDetectorGraphOptions,this.options.setPoseDetectorGraphOptions(this.poseDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(e){this.options.setBaseOptions(e)}setOptions(e){var t,r,n,i,a;return"numPoses"in e&&this.poseDetectorGraphOptions.setNumPoses(null!=(t=e.numPoses)?t:1),"minPoseDetectionConfidence"in e&&this.poseDetectorGraphOptions.setMinDetectionConfidence(null!=(r=e.minPoseDetectionConfidence)?r:y),"minTrackingConfidence"in e&&this.options.setMinTrackingConfidence(null!=(n=e.minTrackingConfidence)?n:y),"minPosePresenceConfidence"in e&&this.poseLandmarksDetectorGraphOptions.setMinDetectionConfidence(null!=(i=e.minPosePresenceConfidence)?i:y),"outputSegmentationMasks"in e&&(this.outputSegmentationMasks=null!=(a=e.outputSegmentationMasks)&&a),this.applyOptions(e)}detect(e,t,r){let n="function"!=typeof t?t:{};if(this.userCallback="function"==typeof t?t:r,this.resetResults(),this.processImageData(e,n),!this.userCallback)return this.result}detectForVideo(e,t,r,n){let i="function"!=typeof r?r:{};if(this.userCallback="function"==typeof r?r:n,this.resetResults(),this.processVideoData(e,i,t),!this.userCallback)return this.result}resetResults(){this.result={}}maybeInvokeCallback(){"landmarks"in this.result&&"worldLandmarks"in this.result&&(!this.outputSegmentationMasks||"segmentationMasks"in this.result)&&this.userCallback&&(this.userCallback(this.result),this.freeKeepaliveStreams())}initDefaults(){this.poseDetectorGraphOptions.setNumPoses(1),this.poseDetectorGraphOptions.setMinDetectionConfidence(y),this.poseLandmarksDetectorGraphOptions.setMinDetectionConfidence(y),this.options.setMinTrackingConfidence(y)}addJsLandmarks(e){for(let t of(this.result.landmarks=[],e)){let e=a.NormalizedLandmarkList.deserializeBinary(t);this.result.landmarks.push((0,l.convertToLandmarks)(e))}}adddJsWorldLandmarks(e){for(let t of(this.result.worldLandmarks=[],e)){let e=a.LandmarkList.deserializeBinary(t);this.result.worldLandmarks.push((0,l.convertToWorldLandmarks)(e))}}refreshGraph(){let e=new n.CalculatorGraphConfig;e.addInputStream(u),e.addInputStream(f),e.addOutputStream(m),e.addOutputStream(g),e.addOutputStream(h);let t=new i.CalculatorOptions;t.setExtension(p.PoseLandmarkerGraphOptions.ext,this.options);let r=new n.CalculatorGraphConfig.Node;r.setCalculator("mediapipe.tasks.vision.pose_landmarker.PoseLandmarkerGraph"),r.addInputStream("IMAGE:"+u),r.addInputStream("NORM_RECT:"+f),r.addOutputStream("NORM_LANDMARKS:"+m),r.addOutputStream("WORLD_LANDMARKS:"+g),r.setOptions(t),e.addNode(r),this.addKeepaliveNode(e),this.graphRunner.attachProtoVectorListener(m,(e,t)=>{this.addJsLandmarks(e),this.setLatestOutputTimestamp(t),this.maybeInvokeCallback()}),this.graphRunner.attachEmptyPacketListener(m,e=>{this.result.landmarks=[],this.setLatestOutputTimestamp(e),this.maybeInvokeCallback()}),this.graphRunner.attachProtoVectorListener(g,(e,t)=>{this.adddJsWorldLandmarks(e),this.setLatestOutputTimestamp(t),this.maybeInvokeCallback()}),this.graphRunner.attachEmptyPacketListener(g,e=>{this.result.worldLandmarks=[],this.setLatestOutputTimestamp(e),this.maybeInvokeCallback()}),this.outputSegmentationMasks&&(r.addOutputStream("SEGMENTATION_MASK:"+h),this.keepStreamAlive(h),this.graphRunner.attachImageVectorListener(h,(e,t)=>{this.result.segmentationMasks=e.map(e=>this.convertToMPMask(e,!this.userCallback)),this.setLatestOutputTimestamp(t),this.maybeInvokeCallback()}),this.graphRunner.attachEmptyPacketListener(h,e=>{this.result.segmentationMasks=[],this.setLatestOutputTimestamp(e),this.maybeInvokeCallback()}));let a=e.serializeBinary();this.setGraph(new Uint8Array(a),!0)}}e.PoseLandmarker=v,v.POSE_CONNECTIONS=[{start:0,end:1},{start:1,end:2},{start:2,end:3},{start:3,end:7},{start:0,end:4},{start:4,end:5},{start:5,end:6},{start:6,end:8},{start:9,end:10},{start:11,end:12},{start:11,end:13},{start:13,end:15},{start:15,end:17},{start:15,end:19},{start:15,end:21},{start:17,end:19},{start:12,end:14},{start:14,end:16},{start:16,end:18},{start:16,end:20},{start:16,end:22},{start:18,end:20},{start:11,end:23},{start:12,end:24},{start:23,end:24},{start:23,end:25},{start:24,end:26},{start:25,end:27},{start:26,end:28},{start:27,end:29},{start:28,end:30},{start:29,end:31},{start:30,end:32},{start:27,end:31},{start:28,end:32}]}(pose_landmarker),Object.defineProperty(vision,"__esModule",{value:!0});var PoseLandmarker_1=vision.PoseLandmarker=ObjectDetector_1=vision.ObjectDetector=InteractiveSegmenter_1=vision.InteractiveSegmenter=ImageSegmenter_1=vision.ImageSegmenter=ImageEmbedder_1=vision.ImageEmbedder=ImageClassifier_1=vision.ImageClassifier=HandLandmarker_1=vision.HandLandmarker=GestureRecognizer_1=vision.GestureRecognizer=FaceStylizer_1=vision.FaceStylizer=FaceLandmarker_1=vision.FaceLandmarker=FaceDetector_1=vision.FaceDetector=MPMask_1=vision.MPMask=MPImage_1=vision.MPImage=FilesetResolver_1=vision.FilesetResolver=DrawingUtils_1=vision.DrawingUtils=void 0;let fileset_resolver_1=fileset_resolver,drawing_utils_1=drawing_utils,image_1=image,mask_1=mask,face_detector_1=face_detector,face_landmarker_1=face_landmarker,face_stylizer_1=face_stylizer,gesture_recognizer_1=gesture_recognizer,hand_landmarker_1=hand_landmarker,image_classifier_1=image_classifier,image_embedder_1=image_embedder,image_segmenter_1=image_segmenter,interactive_segmenter_1=interactive_segmenter,object_detector_1=object_detector,pose_landmarker_1=pose_landmarker,DrawingUtils=drawing_utils_1.DrawingUtils;var DrawingUtils_1=vision.DrawingUtils=DrawingUtils;let FilesetResolver=fileset_resolver_1.FilesetResolver;var FilesetResolver_1=vision.FilesetResolver=FilesetResolver;let MPImage=image_1.MPImage;var MPImage_1=vision.MPImage=MPImage;let MPMask=mask_1.MPMask;var MPMask_1=vision.MPMask=MPMask;let FaceDetector=face_detector_1.FaceDetector;var FaceDetector_1=vision.FaceDetector=FaceDetector;let FaceLandmarker=face_landmarker_1.FaceLandmarker;var FaceLandmarker_1=vision.FaceLandmarker=FaceLandmarker;let FaceStylizer=face_stylizer_1.FaceStylizer;var FaceStylizer_1=vision.FaceStylizer=FaceStylizer;let GestureRecognizer=gesture_recognizer_1.GestureRecognizer;var GestureRecognizer_1=vision.GestureRecognizer=GestureRecognizer;let HandLandmarker=hand_landmarker_1.HandLandmarker;var HandLandmarker_1=vision.HandLandmarker=HandLandmarker;let ImageClassifier=image_classifier_1.ImageClassifier;var ImageClassifier_1=vision.ImageClassifier=ImageClassifier;let ImageEmbedder=image_embedder_1.ImageEmbedder;var ImageEmbedder_1=vision.ImageEmbedder=ImageEmbedder;let ImageSegmenter=image_segmenter_1.ImageSegmenter;var ImageSegmenter_1=vision.ImageSegmenter=ImageSegmenter;let InteractiveSegmenter=interactive_segmenter_1.InteractiveSegmenter;var InteractiveSegmenter_1=vision.InteractiveSegmenter=InteractiveSegmenter;let ObjectDetector=object_detector_1.ObjectDetector;var ObjectDetector_1=vision.ObjectDetector=ObjectDetector;let PoseLandmarker=pose_landmarker_1.PoseLandmarker;PoseLandmarker_1=vision.PoseLandmarker=PoseLandmarker}),parcelRegister("agHfn",function(e,t){$parcel$export(e.exports,"fit01_2",function(){return s});var r=parcelRequire("cXii6");let[n,i,a,o]=(0,parcelRequire("iFz86").defOpVVV)(r.fit01),s=i});var $2jQ4E=parcelRequire("2jQ4E");const $eab63462a8c01445$export$55640438a4edf3d6=(e,t)=>(e||(e=[]),e[0]=t[0],e[1]=t[1],e),$eab63462a8c01445$export$9cbac02f28c9a9a9=(e,t)=>(e||(e=[]),e[0]=t[0],e[1]=t[1],e[2]=t[2],e),$eab63462a8c01445$export$a7c139a4194832bf=(e,t)=>(e||(e=[]),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e),$eab63462a8c01445$export$adaa4cf7ef1b65be=(0,$2jQ4E.vop)(1,(e,t)=>{e||(e=[]);for(let r=t.length;r-- >0;)e[r]=t[r];return e},$eab63462a8c01445$export$55640438a4edf3d6,$eab63462a8c01445$export$9cbac02f28c9a9a9,$eab63462a8c01445$export$a7c139a4194832bf),$4e7503a19e75dec6$export$644e79245f7d24b5=(e,...t)=>{if(!e)return t;for(let r=t.length;r-- >0;)e[r]=t[r];return e},$4e7503a19e75dec6$export$dcfbb7940cfb3a48=(e,t,r)=>(e||(e=[]),e[0]=t,e[1]=r,e),$4e7503a19e75dec6$export$ba8c70ce75474f8d=(e,t,r,n)=>(e||(e=[]),e[0]=t,e[1]=r,e[2]=n,e),$4e7503a19e75dec6$export$abee0037e1db715=(e,t,r,n,i)=>(e||(e=[]),e[0]=t,e[1]=r,e[2]=n,e[3]=i,e);var $bIpLh=parcelRequire("bIpLh"),$2FEXC=parcelRequire("2FEXC");const[$77be82665409b19e$var$a,$77be82665409b19e$var$b,$77be82665409b19e$var$c,$77be82665409b19e$var$d]=(0,$bIpLh.defOpVV)($2FEXC.$mul),$77be82665409b19e$export$10e8ca711ec57747=$77be82665409b19e$var$b;var $bT76s=parcelRequire("bT76s"),$2FEXC=parcelRequire("2FEXC");const[$c04ac02773bf3d23$var$a,$c04ac02773bf3d23$var$b,$c04ac02773bf3d23$var$c,$c04ac02773bf3d23$var$d]=(0,$bT76s.defOpVN)($2FEXC.$mul),$c04ac02773bf3d23$export$523c9d3eb3d8d990=$c04ac02773bf3d23$var$a,$c04ac02773bf3d23$export$b54ddf06b57709b1=$c04ac02773bf3d23$var$b,$c04ac02773bf3d23$export$1c0ad2738a5ae4b0=$c04ac02773bf3d23$var$c,$c04ac02773bf3d23$export$1f214a01989f466a=$c04ac02773bf3d23$var$d;var $bIpLh=parcelRequire("bIpLh"),$2FEXC=parcelRequire("2FEXC");const[$c85e0e548bd3f6b9$var$a,$c85e0e548bd3f6b9$var$b,$c85e0e548bd3f6b9$var$c,$c85e0e548bd3f6b9$var$d]=(0,$bIpLh.defOpVV)($2FEXC.$div),$c85e0e548bd3f6b9$export$87ee28508e334108=$c85e0e548bd3f6b9$var$b;var $2jQ4E=parcelRequire("2jQ4E");const $7c07229e2ca57625$export$3149b998b6fd195=(e,t=1)=>{let r=(t,r,n,i)=>{t||(t=r);for(let a=r.length;a-- >0;)t[a]=e(r[a],n[a],i);return t},n=(t,r,n,i)=>(t||(t=r),t[0]=e(r[0],n[0],i),t[1]=e(r[1],n[1],i),t),i=(t,r,n,i)=>(t||(t=r),t[0]=e(r[0],n[0],i),t[1]=e(r[1],n[1],i),t[2]=e(r[2],n[2],i),t),a=(t,r,n,i)=>(t||(t=r),t[0]=e(r[0],n[0],i),t[1]=e(r[1],n[1],i),t[2]=e(r[2],n[2],i),t[3]=e(r[3],n[3],i),t);return[(0,$2jQ4E.vop)(t,r,n,i,a),n,i,a]};var $2FEXC=parcelRequire("2FEXC");const[$54524c990b2e7d8e$var$a,$54524c990b2e7d8e$var$b,$54524c990b2e7d8e$var$c,$54524c990b2e7d8e$var$d]=$7c07229e2ca57625$export$3149b998b6fd195($2FEXC.$mix),$54524c990b2e7d8e$export$ac3d7e053306bfaa=$54524c990b2e7d8e$var$d;var $2jQ4E=parcelRequire("2jQ4E");const $440dc1922592302b$export$13c73878c2d2415=(e,t=1)=>{let r=(t,r,n,i)=>{t||(t=r);for(let a=r.length;a-- >0;)t[a]=e(r[a],n,i[a]);return t},n=(t,r,n,i)=>(t||(t=r),t[0]=e(r[0],n,i[0]),t[1]=e(r[1],n,i[1]),t),i=(t,r,n,i)=>(t||(t=r),t[0]=e(r[0],n,i[0]),t[1]=e(r[1],n,i[1]),t[2]=e(r[2],n,i[2]),t),a=(t,r,n,i)=>(t||(t=r),t[0]=e(r[0],n,i[0]),t[1]=e(r[1],n,i[1]),t[2]=e(r[2],n,i[2]),t[3]=e(r[3],n,i[3]),t);return[(0,$2jQ4E.vop)(t,r,n,i,a),n,i,a]};var $2FEXC=parcelRequire("2FEXC");const[$677cbcd23aae3f7f$var$a,$677cbcd23aae3f7f$var$b,$677cbcd23aae3f7f$var$c,$677cbcd23aae3f7f$var$d]=$440dc1922592302b$export$13c73878c2d2415($2FEXC.$madd),$677cbcd23aae3f7f$export$bdcca9e6efe5625a=$677cbcd23aae3f7f$var$b,$e8ecb463a815ed57$export$6b5c1ceb16d01dc3=Math.PI,$e8ecb463a815ed57$export$ad5b0b9ab7d48f58=2*$e8ecb463a815ed57$export$6b5c1ceb16d01dc3,$e8ecb463a815ed57$export$460c4029b1a54a2e=$e8ecb463a815ed57$export$6b5c1ceb16d01dc3/180;let $e8ecb463a815ed57$export$56469a43a57ad8b6=1e-6;var $2jQ4E=parcelRequire("2jQ4E");const $33943b4ea02f715f$export$52e6e29c5689a25f=e=>e[0]*e[0]+e[1]*e[1],$33943b4ea02f715f$export$9bdeebc943bb634d=e=>e[0]*e[0]+e[1]*e[1]+e[2]*e[2],$33943b4ea02f715f$export$af0b3789fa343fbd=e=>e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3],$33943b4ea02f715f$export$57ce51e080b800=(0,$2jQ4E.vop)(0,e=>{let t=0;for(let r=e.length;r-- >0;)t+=e[r]*e[r];return t},$33943b4ea02f715f$export$52e6e29c5689a25f,$33943b4ea02f715f$export$9bdeebc943bb634d,$33943b4ea02f715f$export$af0b3789fa343fbd),$55883dd0fec238e1$var$$=(e,t,r)=>(n,i,a=1)=>{n||(n=i);let o=Math.sqrt(e(i));return o>=$e8ecb463a815ed57$export$56469a43a57ad8b6?t(n,i,a/o):n!==i?r(n,i):n};$55883dd0fec238e1$var$$($33943b4ea02f715f$export$57ce51e080b800,$c04ac02773bf3d23$export$523c9d3eb3d8d990,$eab63462a8c01445$export$adaa4cf7ef1b65be);const $55883dd0fec238e1$export$cb6730ea375ab516=$55883dd0fec238e1$var$$($33943b4ea02f715f$export$52e6e29c5689a25f,$c04ac02773bf3d23$export$b54ddf06b57709b1,$eab63462a8c01445$export$55640438a4edf3d6);$55883dd0fec238e1$var$$($33943b4ea02f715f$export$9bdeebc943bb634d,$c04ac02773bf3d23$export$1c0ad2738a5ae4b0,$eab63462a8c01445$export$9cbac02f28c9a9a9),$55883dd0fec238e1$var$$($33943b4ea02f715f$export$af0b3789fa343fbd,$c04ac02773bf3d23$export$1f214a01989f466a,$eab63462a8c01445$export$a7c139a4194832bf);var $bIpLh=parcelRequire("bIpLh"),$2FEXC=parcelRequire("2FEXC");const[$0cd30257b53349f2$var$a,$0cd30257b53349f2$var$b,$0cd30257b53349f2$var$c,$0cd30257b53349f2$var$d]=(0,$bIpLh.defOpVV)($2FEXC.$sub),$0cd30257b53349f2$export$27409c384c4283a=$0cd30257b53349f2$var$b,$80533fd5723c4709$export$3aa4727f01e60e60=(e,t,r,n)=>$55883dd0fec238e1$export$cb6730ea375ab516(null,$0cd30257b53349f2$export$27409c384c4283a(e||t,r,t),n),$8e22e4c328ad836b$export$f702941b755df328=(e,t)=>$4e7503a19e75dec6$export$dcfbb7940cfb3a48(e||t,-t[1],t[0]),$2f8c9c970effb521$export$6de3c7fd2b1bf410=(e,t,r,n=1)=>$8e22e4c328ad836b$export$f702941b755df328(null,$80533fd5723c4709$export$3aa4727f01e60e60(e||[],t,r,n));var $2jQ4E=parcelRequire("2jQ4E");const $84f9cd351a52ccc6$export$f5e9931e7fc73125=(e,t)=>{let r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n},$84f9cd351a52ccc6$export$8ad5a30d17ee2508=(e,t)=>{let r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i},$84f9cd351a52ccc6$export$e447d87a37e96faa=(e,t)=>{let r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return r*r+n*n+i*i+a*a};(0,$2jQ4E.vop)(0,(e,t)=>{let r=0;for(let n=e.length;n-- >0;){let i=e[n]-t[n];r+=i*i}return r},$84f9cd351a52ccc6$export$f5e9931e7fc73125,$84f9cd351a52ccc6$export$8ad5a30d17ee2508,$84f9cd351a52ccc6$export$e447d87a37e96faa);var $cXii6=parcelRequire("cXii6");const $0947ac56be18c505$export$2c9e8a9632a706b2=(e,t,r)=>e+(t-e)*r;var $4177a5820f8e2bc6$export$28e23bba31d0f3b2=(e=>(e[e.NONE=0]="NONE",e[e.PARALLEL=1]="PARALLEL",e[e.COINCIDENT=2]="COINCIDENT",e[e.COINCIDENT_NO_INTERSECT=3]="COINCIDENT_NO_INTERSECT",e[e.INTERSECT=4]="INTERSECT",e[e.INTERSECT_OUTSIDE=5]="INTERSECT_OUTSIDE",e))($4177a5820f8e2bc6$export$28e23bba31d0f3b2||{});Object.freeze({type:0});const $d3a95292a99c1504$export$651a6eb01ea522f3=(e,t=e=>void 0!==e?": "+e:"")=>class extends Error{origMessage;constructor(r){super(e(r)+t(r)),this.origMessage=void 0!==r?String(r):""}},$c4c8a80b1692ccd5$export$ab59e00737fb22e6=$d3a95292a99c1504$export$651a6eb01ea522f3(()=>"unsupported operation"),$c4c8a80b1692ccd5$export$98e633703a635f=e=>{throw new $c4c8a80b1692ccd5$export$ab59e00737fb22e6(e)},$64692eae1a210fc9$export$c37d18c23b2ea60c=(e=1,t,...r)=>{let n=[,,].concat(r),i=(...r)=>{let i=n[r[e].length]||t;return i?i(...r):$c4c8a80b1692ccd5$export$98e633703a635f(`no impl for vec size ${r[e].length}`)};return i.add=(e,t)=>n[e]=t,i.default=e=>t=e,i.impl=e=>null!=e&&n[e]||t,i},$b2ac8be9c5b39034$export$f5e9931e7fc73125=(e,t)=>{let r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n},$b2ac8be9c5b39034$export$8ad5a30d17ee2508=(e,t)=>{let r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i},$b2ac8be9c5b39034$export$e447d87a37e96faa=(e,t)=>{let r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return r*r+n*n+i*i+a*a};$64692eae1a210fc9$export$c37d18c23b2ea60c(0,(e,t)=>{let r=0;for(let n=e.length;n-- >0;){let i=e[n]-t[n];r+=i*i}return r},$b2ac8be9c5b39034$export$f5e9931e7fc73125,$b2ac8be9c5b39034$export$8ad5a30d17ee2508,$b2ac8be9c5b39034$export$e447d87a37e96faa);const $6cfd5f41b655c2a8$export$fe6a5064d53faf98=(e,t)=>e[0]*t[0]+e[1]*t[1],$6cfd5f41b655c2a8$export$6f9aa2c904053c13=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2],$6cfd5f41b655c2a8$export$2e1971da4e839d07=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],$6cfd5f41b655c2a8$export$94132a0e348806d4=$64692eae1a210fc9$export$c37d18c23b2ea60c(0,(e,t)=>{let r=0;for(let n=e.length;n-- >0;)r+=e[n]*t[n];return r},$6cfd5f41b655c2a8$export$fe6a5064d53faf98,$6cfd5f41b655c2a8$export$6f9aa2c904053c13,$6cfd5f41b655c2a8$export$2e1971da4e839d07),$7728d357aad49a82$export$c915e14294a7d06f=(e,t)=>"function"==typeof e?.[t],$861cbe6ddb9d9fa6$export$159cbb0d06b7629f=(e,t)=>(e[0]=t,e[1]=t,e),$861cbe6ddb9d9fa6$export$8eaf9631a14cda96=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e),$861cbe6ddb9d9fa6$export$b0745c2e8fa0f0a6=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e[3]=t,e);$64692eae1a210fc9$export$c37d18c23b2ea60c(0,(e,t)=>{for(let r=e.length;r-- >0;)e[r]=t;return e},$861cbe6ddb9d9fa6$export$159cbb0d06b7629f,$861cbe6ddb9d9fa6$export$8eaf9631a14cda96,$861cbe6ddb9d9fa6$export$b0745c2e8fa0f0a6);const $861cbe6ddb9d9fa6$export$59aa7d7109a31856=e=>Array(e).fill(0),$e09ad75a600187c7$export$6e22c362a0406a2c=e=>$7728d357aad49a82$export$c915e14294a7d06f(e,"empty")?e.empty():$861cbe6ddb9d9fa6$export$59aa7d7109a31856(e.length),$03d3ddff708549ec$export$52e6e29c5689a25f=e=>e[0]*e[0]+e[1]*e[1],$03d3ddff708549ec$export$9bdeebc943bb634d=e=>e[0]*e[0]+e[1]*e[1]+e[2]*e[2],$03d3ddff708549ec$export$af0b3789fa343fbd=e=>e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3],$03d3ddff708549ec$export$57ce51e080b800=$64692eae1a210fc9$export$c37d18c23b2ea60c(0,e=>{let t=0;for(let r=e.length;r-- >0;)t+=e[r]*e[r];return t},$03d3ddff708549ec$export$52e6e29c5689a25f,$03d3ddff708549ec$export$9bdeebc943bb634d,$03d3ddff708549ec$export$af0b3789fa343fbd),$d0ad2a9880d4dde6$export$3149b998b6fd195=(e,t=1)=>{let r=(t,r,n,i)=>(t||(t=r),t[0]=e(r[0],n[0],i),t[1]=e(r[1],n[1],i),t),n=(t,r,n,i)=>(t||(t=r),t[0]=e(r[0],n[0],i),t[1]=e(r[1],n[1],i),t[2]=e(r[2],n[2],i),t),i=(t,r,n,i)=>(t||(t=r),t[0]=e(r[0],n[0],i),t[1]=e(r[1],n[1],i),t[2]=e(r[2],n[2],i),t[3]=e(r[3],n[3],i),t);return[$64692eae1a210fc9$export$c37d18c23b2ea60c(t,(t,r,n,i)=>{t||(t=r);for(let a=r.length;a-- >0;)t[a]=e(r[a],n[a],i);return t},r,n,i),r,n,i]},$27ff34ad5c718081$export$80848e67be9d82d9=(e,t,r)=>e+(t-e)*r,$27ff34ad5c718081$export$d9e26544270342f5=(e,t)=>e-t,[$846d625b8ecb121f$var$a,$846d625b8ecb121f$var$b,$846d625b8ecb121f$var$c,$846d625b8ecb121f$var$d]=$d0ad2a9880d4dde6$export$3149b998b6fd195($27ff34ad5c718081$export$80848e67be9d82d9),$846d625b8ecb121f$export$c51b99710a208ece=$846d625b8ecb121f$var$a,$846d625b8ecb121f$export$dcd7ebfc49225d18=$846d625b8ecb121f$var$b,$107c668282b66682$export$55640438a4edf3d6=(e,t)=>(e||(e=[]),e[0]=t[0],e[1]=t[1],e),$107c668282b66682$export$9cbac02f28c9a9a9=(e,t)=>(e||(e=[]),e[0]=t[0],e[1]=t[1],e[2]=t[2],e),$107c668282b66682$export$a7c139a4194832bf=(e,t)=>(e||(e=[]),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e),$107c668282b66682$export$adaa4cf7ef1b65be=$64692eae1a210fc9$export$c37d18c23b2ea60c(1,(e,t)=>{e||(e=[]);for(let r=t.length;r-- >0;)e[r]=t[r];return e},$107c668282b66682$export$55640438a4edf3d6,$107c668282b66682$export$9cbac02f28c9a9a9,$107c668282b66682$export$a7c139a4194832bf),$96078174a17b2cc8$export$9139dfc05eb4aaca=(e,t=1,r=!0)=>{let n=r?(t,r,n)=>{t||(t=r);for(let i=r.length;i-- >0;)t[i]=e(r[i],n[i]);return t}:(t,r,n)=>{t||(t=n);for(let i=r.length;i-- >0;)t[i]=e(r[i],n[i]);return t},i=r?(t,r,n)=>(t||(t=r),t[0]=e(r[0],n[0]),t[1]=e(r[1],n[1]),t):(t,r,n)=>(t||(t=n),t[0]=e(r[0],n[0]),t[1]=e(r[1],n[1]),t),a=r?(t,r,n)=>(t||(t=r),t[0]=e(r[0],n[0]),t[1]=e(r[1],n[1]),t[2]=e(r[2],n[2]),t):(t,r,n)=>(t||(t=n),t[0]=e(r[0],n[0]),t[1]=e(r[1],n[1]),t[2]=e(r[2],n[2]),t),o=r?(t,r,n)=>(t||(t=r),t[0]=e(r[0],n[0]),t[1]=e(r[1],n[1]),t[2]=e(r[2],n[2]),t[3]=e(r[3],n[3]),t):(t,r,n)=>(t||(t=n),t[0]=e(r[0],n[0]),t[1]=e(r[1],n[1]),t[2]=e(r[2],n[2]),t[3]=e(r[3],n[3]),t);return[$64692eae1a210fc9$export$c37d18c23b2ea60c(t,n,i,a,o),i,a,o]},[$ffef7b3a04124fb8$var$a,$ffef7b3a04124fb8$var$b,$ffef7b3a04124fb8$var$c,$ffef7b3a04124fb8$var$d]=$96078174a17b2cc8$export$9139dfc05eb4aaca($27ff34ad5c718081$export$d9e26544270342f5),$ffef7b3a04124fb8$export$f93b5905241a7cca=$ffef7b3a04124fb8$var$a,$e999fa445f50b44b$export$6ab4be7d00e6ee9b=(e,t,r)=>{let n=$ffef7b3a04124fb8$export$f93b5905241a7cca([],r,t),i=$03d3ddff708549ec$export$57ce51e080b800(n);return i>1e-6?$6cfd5f41b655c2a8$export$94132a0e348806d4($ffef7b3a04124fb8$export$f93b5905241a7cca([],e,t),n)/i:void 0},$e999fa445f50b44b$export$2de03756467936b5=(e,t,r,n,i=!1,a=0)=>{let o=$e999fa445f50b44b$export$6ab4be7d00e6ee9b(e,t,r);if(void 0!==o&&(!i||o>=a&&o<=1-a))return n=n||$e09ad75a600187c7$export$6e22c362a0406a2c(e),o<=0?$107c668282b66682$export$adaa4cf7ef1b65be(n,t):o>=1?$107c668282b66682$export$adaa4cf7ef1b65be(n,r):$846d625b8ecb121f$export$c51b99710a208ece(n,t,r,o)};let $2c882dcf3e13a3b8$export$56469a43a57ad8b6=1e-6;const $22cb6a04711e550c$var$abs=Math.abs,$22cb6a04711e550c$export$3e1b8005eb6f3d68=(e,t,r=$2c882dcf3e13a3b8$export$56469a43a57ad8b6)=>$22cb6a04711e550c$var$abs(e-t)<=r,$f206bcd7bd7c3e93$export$ca0920dc1c7025a5=(e,t,r,n,i=$2c882dcf3e13a3b8$export$56469a43a57ad8b6)=>{let a=t[0]-e[0],o=t[1]-e[1],s=n[0]-r[0],p=n[1]-r[1],d=e[0]-r[0],l=e[1]-r[1],c=p*a-s*o,u=s*l-p*d,f=a*l-o*d;if($22cb6a04711e550c$export$3e1b8005eb6f3d68(c,0,i)){if($22cb6a04711e550c$export$3e1b8005eb6f3d68(u,0,i)&&$22cb6a04711e550c$export$3e1b8005eb6f3d68(f,0,i)){let i=$e999fa445f50b44b$export$2de03756467936b5(r,e,t,void 0,!0)||$e999fa445f50b44b$export$2de03756467936b5(n,e,t,void 0,!0);return{type:i?$4177a5820f8e2bc6$export$28e23bba31d0f3b2.COINCIDENT:$4177a5820f8e2bc6$export$28e23bba31d0f3b2.COINCIDENT_NO_INTERSECT,isec:i?[i]:i}}return{type:$4177a5820f8e2bc6$export$28e23bba31d0f3b2.PARALLEL}}u/=c,f/=c;let m=1-i;return{type:i<u&&u<m&&i<f&&f<m?$4177a5820f8e2bc6$export$28e23bba31d0f3b2.INTERSECT:$4177a5820f8e2bc6$export$28e23bba31d0f3b2.INTERSECT_OUTSIDE,isec:[$846d625b8ecb121f$export$dcd7ebfc49225d18([],e,t,u)],alpha:u,beta:f,det:c}},$02472921bf7b74d2$var$e=Array.prototype.forEach,$02472921bf7b74d2$export$79b2f7037acddd43=(e,t)=>($02472921bf7b74d2$var$e.call(t,e),t);var $02472921bf7b74d2$export$2e2bcd8739ae039=$02472921bf7b74d2$export$79b2f7037acddd43,$jegOU=parcelRequire("jegOU"),$j3ERp=parcelRequire("j3ERp");const $ee712579a5ef42c1$export$acb6ab09ed1b7b8b=(e,t)=>(e%t+t)%t;var $ee712579a5ef42c1$export$2e2bcd8739ae039=$ee712579a5ef42c1$export$acb6ab09ed1b7b8b;const $dee57f889e3b703d$export$4997ffc0176396a6=(e,t,r=t.length)=>r||0===r?t[$ee712579a5ef42c1$export$2e2bcd8739ae039(e,r)]:$ee712579a5ef42c1$export$2e2bcd8739ae039(e,t);var $dee57f889e3b703d$export$2e2bcd8739ae039=$dee57f889e3b703d$export$4997ffc0176396a6;const{fill:$22ee496980731f5f$var$fill}=Array.prototype,{isFinite:$22ee496980731f5f$var$isFinite}=Number,{floor:$22ee496980731f5f$var$floor}=Math,$22ee496980731f5f$export$d02631cccf789723=(e=0,t,r,n)=>$22ee496980731f5f$var$fill.call($22ee496980731f5f$var$isFinite(e)?Array($22ee496980731f5f$var$floor(e)):e,t,r,n);var $22ee496980731f5f$export$2e2bcd8739ae039=$22ee496980731f5f$export$d02631cccf789723;const $cc92141080516e99$export$ba60520149d1328e=[[-1,-1],[-1,4],[4,-1]],$cc92141080516e99$export$85b9a36db797e02b=$cc92141080516e99$export$ba60520149d1328e.length,$cc92141080516e99$export$878041e1e4cd4218=$cc92141080516e99$export$ba60520149d1328e.flat();var $54127ad81e06b178$exports={};$54127ad81e06b178$exports="/**\n * Default `gpgpu` vertex shader.\n *\n * @see [@epok.tech/gl-screen-triangle/uv-texture.vert.glsl](https://github.com/keeffEoghan/gl-screen-triangle/tree/master/uv-texture.vert.glsl)\n */\n\nprecision highp float;\n#define GLSLIFY 1\n\n/**\n * Uses the default prefix namespace; replaced with any given prefix if this\n * shader's used during `toStep`.\n *\n * @see {@link const.preDef}\n * @see {@link step.toStep}\n */\nattribute vec2 gpgpu_position;\n\nvarying vec2 gpgpu_uv;\n\nvoid main() {\n  // Texture coordinates, range `[0, 1]`, y-axis points upwards.\n  gpgpu_uv = (gpgpu_position*0.5)+0.5;\n  gl_Position = vec4(gpgpu_position, 0, 1);\n}\n";const $c34a44976d3d9d2f$export$dc207adda608f979=$parcel$interopDefault($54127ad81e06b178$exports),$c34a44976d3d9d2f$export$cfdc3a7c4cb854c6=()=>[...$cc92141080516e99$export$878041e1e4cd4218],$c34a44976d3d9d2f$export$832d88422d279bbc=$cc92141080516e99$export$85b9a36db797e02b,$c34a44976d3d9d2f$export$ac0cd3cc21f80dfc=()=>["oes_texture_float","webgl_color_buffer_float"],$c34a44976d3d9d2f$export$5d97924d29f48e83=()=>["oes_texture_half_float","ext_color_buffer_half_float"],$c34a44976d3d9d2f$export$fdb75c5ac32869de=()=>["webgl_draw_buffers"],$c34a44976d3d9d2f$export$b4781c2237bde956="gpgpu_",$c34a44976d3d9d2f$export$26945b8c914b7fc=4,$c34a44976d3d9d2f$export$154f256b9eac9103=4,$c34a44976d3d9d2f$export$b6267c3f91c57c78=1,$c34a44976d3d9d2f$export$b029aceb5666f022=1,$c34a44976d3d9d2f$export$71c6d8e332d66a75=0,$c34a44976d3d9d2f$export$c4175b5828221aa7=2**$c34a44976d3d9d2f$export$71c6d8e332d66a75,$c34a44976d3d9d2f$export$bffb644e7dc52e91=2**$c34a44976d3d9d2f$export$71c6d8e332d66a75,$c34a44976d3d9d2f$export$617a37502ff8853=2,$c34a44976d3d9d2f$export$ff01eb58fe4e69=()=>[$c34a44976d3d9d2f$export$154f256b9eac9103],$c34a44976d3d9d2f$export$27fb0dad99ae5dd2="float",$c34a44976d3d9d2f$export$47b10f415de592b1="nearest",$c34a44976d3d9d2f$export$1fb689c67b965bff="nearest",$c34a44976d3d9d2f$export$8d7f4a48e1f2b2a="clamp",$c34a44976d3d9d2f$export$a211ab2c8ecded9a=!1,$c34a44976d3d9d2f$export$a1b7c201e9365814=!1,$c34a44976d3d9d2f$export$5544d416ac8224f1=/[0-9\.]+/,$c34a44976d3d9d2f$export$2902d6d00b7c2bce=8192,$c34a44976d3d9d2f$export$2fcc13103217f9a3=()=>({color:[0,0,0,0],depth:1,stencil:0}),$c34a44976d3d9d2f$export$72e520e6a70b780c=()=>({copy:!0});var $jegOU=parcelRequire("jegOU"),$j3ERp=parcelRequire("j3ERp");const{isInteger:$82eaf3e5ff5bc05d$var$isInteger}=Number,{isArray:$82eaf3e5ff5bc05d$var$isArray}=Array,$82eaf3e5ff5bc05d$export$5ca26c99531348ec=(e,t=$c34a44976d3d9d2f$export$154f256b9eac9103)=>1<=e||e<=t||!!console.error(`\`gl-gpgpu\`: the given value (${e}) exceeds the range of channels available, \`[1, ${t}]\` inclusive.`,e,t);function $82eaf3e5ff5bc05d$export$9d1d9285bd6d8c57(e,t=$c34a44976d3d9d2f$export$154f256b9eac9103,r=[]){(0,$jegOU.default)((e,t)=>t,e,r).length=e.length;let n=t,i=0,a=0,o=1/0;for(let s=0;i<e.length;){let p=i+s,d=e[r[p]];if(!$82eaf3e5ff5bc05d$export$5ca26c99531348ec(d,t))break;let l=n-d;if(l>=0&&l<o&&(o=l,a=p),0!==o&&p<e.length-1)++s;else{let p=r[a];r[a]=r[i],r[i]=p,(n-=e[p])>0||(n=t),a=++i,o=1/0,s=0}}return r}function $82eaf3e5ff5bc05d$export$96707a1f51900f3d(e={},t=e){let{values:r=$c34a44976d3d9d2f$export$ff01eb58fe4e69(),buffersMax:n=$c34a44976d3d9d2f$export$b6267c3f91c57c78,channelsMax:i=$c34a44976d3d9d2f$export$154f256b9eac9103,packed:a=$82eaf3e5ff5bc05d$export$9d1d9285bd6d8c57(r,i)}=e;t.values=r,t.buffersMax=n,t.channelsMax=i,t.packed=a;let o=t.passes=[[]],s=t.textures=[[]],p=t.valueToTexture=[],d=t.valueToPass=[],l=t.textureToPass=[],c=!!n,u=0,f=a?e=>a[e]:e=>e,m=a?(e,t)=>r[t]:e=>e;return(0,$j3ERp.default)((e,t,r)=>{let a=f(r),g=m(t,a);if(!$82eaf3e5ff5bc05d$export$5ca26c99531348ec(g,i))return e;let h=o.length-1,y=o[h],v=s.length-1,b=s[v];return(u+=g)>i?(u=g,v=s.push(b=[])-1,c&&y.length>=n&&(h=o.push(y=[])-1),y.push(v),l.push(h)):0===y.length&&(y.push(v),l.push(h)),b.push(a),p[a]=v,d[a]=h,e},r,t)}function $82eaf3e5ff5bc05d$export$574963e692b662ec(e={},t=e){let{derives:r,passes:n,textures:i,valueToTexture:a}=e;if(!r&&0!==r)return t;let o=t.reads=[],s=t.readsToValue=[],p={},d=e=>p[e]??=(0,$jegOU.default)((t,r)=>({step:e,value:r}),a),l=(t,n)=>function i(p,l,c){let u=0,f=l;if(!0===r||$82eaf3e5ff5bc05d$var$isInteger(r)||({value:f=f,step:u=u}=l),!0===f)return(0,$j3ERp.default)(i,d(u),p);let m=a[f];if(!($82eaf3e5ff5bc05d$var$isInteger(u)&&$82eaf3e5ff5bc05d$var$isInteger(m)))return console.error("`mapSamples`: invalid map for sample",r,e,t,n,l,c,u,m,f);let g=p||[],h=g.findIndex(([e,t])=>e===u&&t===m);return((o[t]??=[])[n]??=[]).push(h<0?g.push([u,m])-1:h),((s[t]??=[])[n]??=[]).push(f),g},c=e=>(t,n)=>{let i=$82eaf3e5ff5bc05d$var$isArray(r)?r[n]:r;return i||0===i?i!==r&&$82eaf3e5ff5bc05d$var$isArray(i)?(0,$j3ERp.default)(l(e,n),i,t):l(e,n)(t,i):t};return t.samples=(0,$jegOU.default)((e,t)=>(0,$j3ERp.default)((e,r)=>(0,$j3ERp.default)(c(t),i[r],e),e,null),n,[]),t}const $82eaf3e5ff5bc05d$export$798cdecdcbbf9755=(e,t=e)=>$82eaf3e5ff5bc05d$export$574963e692b662ec($82eaf3e5ff5bc05d$export$96707a1f51900f3d(e,t),t);var $jegOU=parcelRequire("jegOU"),$j3ERp=parcelRequire("j3ERp"),$jegOU=parcelRequire("jegOU");const{floor:$c7ad1ff0eaa996fa$var$floor}=Math,{isFinite:$c7ad1ff0eaa996fa$var$isFinite,isInteger:$c7ad1ff0eaa996fa$var$isInteger}=Number;function $c7ad1ff0eaa996fa$export$3c49c185de0c2bfc(e){let{width:t,w:r,x:n,shape:i,size:a,side:o,0:s}=e;return(a&&$c7ad1ff0eaa996fa$export$3c49c185de0c2bfc(a))??t??r??n??(i&&$c7ad1ff0eaa996fa$export$3c49c185de0c2bfc(i))??o??s??($c7ad1ff0eaa996fa$var$isFinite(e)?e:null)}function $c7ad1ff0eaa996fa$export$c08559766941f856(e){let{height:t,h:r,y:n,shape:i,size:a,side:o,1:s}=e;return(a&&$c7ad1ff0eaa996fa$export$c08559766941f856(a))??t??r??n??(i&&$c7ad1ff0eaa996fa$export$c08559766941f856(i))??o??s??($c7ad1ff0eaa996fa$var$isFinite(e)?e:null)}const $c7ad1ff0eaa996fa$export$2815acae70277c92=(e=1,t=1)=>e?.entries??($c7ad1ff0eaa996fa$export$3c49c185de0c2bfc(e)??1)*($c7ad1ff0eaa996fa$export$c08559766941f856(t)??1),$c7ad1ff0eaa996fa$export$87ed20f81f3c66ff=e=>(0,$jegOU.default)((e,t)=>t,$22ee496980731f5f$export$2e2bcd8739ae039($c7ad1ff0eaa996fa$var$isInteger(e)?e:$c7ad1ff0eaa996fa$export$2815acae70277c92(e)),0),$c7ad1ff0eaa996fa$export$19cc39c76123d7db=e=>$c7ad1ff0eaa996fa$var$isFinite(e)?2**e:null;function $c7ad1ff0eaa996fa$export$6574bcda6112260a(e,t=[]){let r;return t[0]=$c7ad1ff0eaa996fa$var$floor($c7ad1ff0eaa996fa$export$3c49c185de0c2bfc(e)??(r??=$c7ad1ff0eaa996fa$export$19cc39c76123d7db(e.scale))??$c34a44976d3d9d2f$export$c4175b5828221aa7),t[1]=$c7ad1ff0eaa996fa$var$floor($c7ad1ff0eaa996fa$export$c08559766941f856(e)??(r??=$c7ad1ff0eaa996fa$export$19cc39c76123d7db(e.scale))??$c34a44976d3d9d2f$export$bffb644e7dc52e91),t}const{max:$9273f52b62bda25c$var$max}=Math,{isInteger:$9273f52b62bda25c$var$isInteger}=Number,$9273f52b62bda25c$var$mergeDef=(e,t)=>e>2&&t>1;function $9273f52b62bda25c$export$24a6b176bdc41ce5({texture:e,framebuffer:t},r={},n=r){let i,{maps:a,steps:o=$c34a44976d3d9d2f$export$617a37502ff8853,type:s=$c34a44976d3d9d2f$export$27fb0dad99ae5dd2,min:p=$c34a44976d3d9d2f$export$47b10f415de592b1,mag:d=$c34a44976d3d9d2f$export$1fb689c67b965bff,wrap:l=$c34a44976d3d9d2f$export$8d7f4a48e1f2b2a,depth:c=$c34a44976d3d9d2f$export$a211ab2c8ecded9a,stencil:u=$c34a44976d3d9d2f$export$a1b7c201e9365814}=r,f=$c7ad1ff0eaa996fa$export$6574bcda6112260a(r),[m,g]=f,{values:h=a.values=$c34a44976d3d9d2f$export$ff01eb58fe4e69(),channelsMin:y=a.channelsMin=$c34a44976d3d9d2f$export$26945b8c914b7fc,buffersMax:v=a.buffersMax=$c34a44976d3d9d2f$export$b6267c3f91c57c78,textures:b,passes:_}=a,O=o.length??o,{merge:M=$9273f52b62bda25c$var$mergeDef(O,b.length)}=r;n.steps=o,n.merge=M,n.type=s,n.min=p,n.mag=d,n.wrap=l,n.depth=c,n.stencil=u,n.width=m,n.height=g;let F=v||null,S=(e,t)=>(0,$j3ERp.default)((e,t)=>$9273f52b62bda25c$var$max(e,(0,$j3ERp.default)((e,t)=>e+h[t],b[t],0)),e,t),T=M?(0,$j3ERp.default)((e,t)=>S(t,e),_,y):null,R=n.size??={};R.shape??=f,R.entries??=(R.width??=m)*(R.height??=g),R.type??=s,R.channelsMin??=T??y,R.steps??=O,R.passes??=0,R.framebuffers??=0,R.textures??=0,R.colors??=0;let x=n.textures=[],w=n.passes=[],k=(t,r,n,i,a)=>(o,c,u,f)=>{let m={channels:t,width:r,height:n,type:s,min:p,mag:d,wrap:l},g=c,h=f?.[g];h||(h=e?.(m),g=R.textures++);let y=$9273f52b62bda25c$var$isInteger(i),v=$9273f52b62bda25c$var$isInteger(a),_=$9273f52b62bda25c$var$isInteger(o);return m.texture=h,m.entry=g,y&&(m.step=i),v&&(m.color=R.colors++,m.pass=a),_&&(m.map=b[m.index=o]),y&&v&&_?((x[i]??=[])[o]=m).texture:m},E=(e,r)=>(n,a)=>{let o=null!=r?0:T??(n?S(n,y):y),s={depth:c,stencil:u,width:m,height:g,color:r??(n?(0,$jegOU.default)(k(o,m,g,e,a),n,M?i??=[]:[]):[])};s.framebuffer=F&&t?.(s),s.entry=F&&R.framebuffers++,n&&(s.map=n,s.pass=R.passes++);let p=$9273f52b62bda25c$var$isInteger(e),d=$9273f52b62bda25c$var$isInteger(a);return p&&(s.step=e),d&&(s.index=a),n&&p&&d?((w[e]??=[])[a]=s).framebuffer:s};if(n.steps=(0,$jegOU.default)((e,t)=>e||(0,$jegOU.default)(E(t),_),$9273f52b62bda25c$var$isInteger(o)?$22ee496980731f5f$export$2e2bcd8739ae039(o):o,0),n.resize=(e=n,t=n)=>{let{size:r,passes:i,textures:a,merge:o}=t,[s,p]=$c7ad1ff0eaa996fa$export$6574bcda6112260a(e??t,r.shape??=[]);return r.entries=(r.width=s)*(r.height=p),$02472921bf7b74d2$export$2e2bcd8739ae039(e=>$02472921bf7b74d2$export$2e2bcd8739ae039(e=>e.framebuffer.resize(e.width=s,e.height=p),e),i),$02472921bf7b74d2$export$2e2bcd8739ae039(e=>$02472921bf7b74d2$export$2e2bcd8739ae039(e=>e.texture.resize(e.width=s,e.height=p),e),a),o?.resize?.(e,t)??t},!M)return n;let C=n.merge={...M},{all:A,next:B}=C,L=R.merge=C.size??={};L.width??=b.length*m,L.height??=O*g;let[D,I]=$c7ad1ff0eaa996fa$export$6574bcda6112260a(C,L.shape??=[]);return L.entries??=(L.width=D)*(L.height=I),C.all=A??k(T,D,I)(),C.next=B??E(null,i[0])(),C.resize=(e=n,t=n)=>{let{merge:r,size:i,maps:a}=t,{size:o=i.merge={},all:s,next:p}=r,{textures:d}=a,l=$c7ad1ff0eaa996fa$export$6574bcda6112260a(e??t,o.shape??=[]),[c,u]=l;p.framebuffer.resize(p.width=c,p.height=u),o.width=d.length*c,o.height=i.steps*u;let[f,m]=$c7ad1ff0eaa996fa$export$6574bcda6112260a(o,l);return o.entries=(o.width=f)*(o.height=m),s.texture.resize(s.width=f,s.height=m),t},n}const $b98f4ad8ca787886$export$dcfbb7940cfb3a48=(e,t,r)=>(e||(e=[]),e[0]=t,e[1]=r,e),$b98f4ad8ca787886$export$abee0037e1db715=(e,t,r,n,i)=>(e||(e=[]),e[0]=t,e[1]=r,e[2]=n,e[3]=i,e);function $c0826d7b05d29ce3$export$1aad3af825e3305b(e={},t=e.uniforms??={}){let{steps:r,maps:n,pre:i=$c34a44976d3d9d2f$export$b4781c2237bde956,bound:a=$c34a44976d3d9d2f$export$b029aceb5666f022}=e,{textures:o}=n,s=r.length??r,p=o.length,d=[],l=[];t[i+"stepNow"]=(e,t)=>t.stepNow,t[i+"stateShape"]=(e,{size:{shape:t,merge:r}})=>t?$b98f4ad8ca787886$export$abee0037e1db715(d,...t,...r?.shape??t):$b98f4ad8ca787886$export$abee0037e1db715(d),t[i+"viewShape"]=({drawingBufferWidth:e,drawingBufferHeight:t})=>$b98f4ad8ca787886$export$dcfbb7940cfb3a48(l,e,t),t[i+"states"]=(e,t)=>t.merge?.all?.texture??null;let c=e=>$02472921bf7b74d2$export$2e2bcd8739ae039((r,n)=>t[i+`states[${e*p+n}]`]=(t,{merge:r,stepNow:i=0,bound:o=a,textures:s})=>r?null:$dee57f889e3b703d$export$2e2bcd8739ae039(i-o-e,s)?.[n]?.texture,o);for(let e=0,t=s-a;e<t;++e)c(e);return t}var $j3ERp=parcelRequire("j3ERp"),$jegOU=parcelRequire("jegOU");const[{length:$5943a8df5da62c93$var$start},{length:$5943a8df5da62c93$var$end}]="[object {type}]".split("{type}"),$5943a8df5da62c93$export$bf9fb029d174d554=e=>toString.call(e).slice($5943a8df5da62c93$var$start,-$5943a8df5da62c93$var$end),$9ef2de025ba1725a$export$36a518e2013de1bd=" \\\n",$9ef2de025ba1725a$var$lf=$9ef2de025ba1725a$export$36a518e2013de1bd,$9ef2de025ba1725a$export$4e46ac54fc82cf3b="rgba",$9ef2de025ba1725a$export$497faa7f0daf9da={},$9ef2de025ba1725a$var$id=JSON.stringify,$9ef2de025ba1725a$export$11949c6f5fba7dcd={macroPass:"",macroValues:"values",macroOutput:"output",macroSamples:"samples",macroTaps:"taps"};function $9ef2de025ba1725a$export$feaf5ffc92c2af94(e,t,r="",n=e?.macros){if((n??!0)===!0)return null;if(!n)return"";let i=$5943a8df5da62c93$export$bf9fb029d174d554(n);return"String"===i?n:"Function"===i?$9ef2de025ba1725a$export$feaf5ffc92c2af94(e,t,r,n(e,t,r,n)):n instanceof Object&&t in n?$9ef2de025ba1725a$export$feaf5ffc92c2af94(e,t,r,n[t]):r?$9ef2de025ba1725a$export$feaf5ffc92c2af94(e,t?t+"_"+r:r,"",n):null}const $9ef2de025ba1725a$export$83d01c7b88bc16d5=(e,t,r,n="",i=e)=>`const int ${t}_l = ${r.length};`+(0,$j3ERp.default)((r,a,o)=>r+$9ef2de025ba1725a$var$lf+(n&&n+" ")+e+` ${t}_${o} = ${i}(${a.join?.(", ")??a});`,r,""),$9ef2de025ba1725a$export$45db4de6da38aa8d=(e,t,r,n="",i=e)=>$9ef2de025ba1725a$export$83d01c7b88bc16d5(e,t,r,n,i)+"\n\n"+`/**
`+` * Index function \`${t}_i\` (e.g: \`${t}_i(0)\`) may be slow.
`+` * Use name (e.g: \`${t}_0\`) if possible.
`+` */
`+`#define ${t}_i(i) ${(0,$j3ERp.default)((e,r,n)=>n?`((i == ${n})? ${t}_${n} : ${e})`:`${t}_${n}`,r,"")}
`,$9ef2de025ba1725a$export$3df19e70a88cb8cd=(e,t,r,n="",i=e)=>$9ef2de025ba1725a$export$83d01c7b88bc16d5(e,t,r,n,i)+$9ef2de025ba1725a$var$lf+(n&&n+" ")+e+` ${t}[${t}_l];`+(0,$j3ERp.default)((e,r,n)=>e+$9ef2de025ba1725a$var$lf+t+`[${n}] = ${t}_${n};`,r,"")+"\n"+`#define ${t}_i(i) ${t}[i]
`,$9ef2de025ba1725a$export$1c7039c93eddfba=(e,t,r,n="",i=e)=>$9ef2de025ba1725a$export$83d01c7b88bc16d5(e,t,r,n,i)+$9ef2de025ba1725a$var$lf+(n&&n+" ")+e+` ${t}[${t}_l] = ${i}[${t}_l](${(0,$j3ERp.default)((e,r,n)=>(e&&e+", ")+t+"_"+n,r,"")});
`+`#define ${t}_i(i) ${t}[i]
`,$9ef2de025ba1725a$export$c346962e7dd3191=(e,t,r,n="",i=1,a)=>(i>=3?$9ef2de025ba1725a$export$1c7039c93eddfba:"const"===n.trim()?$9ef2de025ba1725a$export$45db4de6da38aa8d:$9ef2de025ba1725a$export$3df19e70a88cb8cd)(e,t,r,n,a);function $9ef2de025ba1725a$export$84186522bf5a7d4d(e,t){let r=$9ef2de025ba1725a$export$11949c6f5fba7dcd.macroValues,n=$9ef2de025ba1725a$export$feaf5ffc92c2af94(e,r,t);if(null!=n)return n;let{maps:i,steps:a,bound:o=$c34a44976d3d9d2f$export$b029aceb5666f022,merge:s,size:p,pre:d=$c34a44976d3d9d2f$export$b4781c2237bde956,cache:l=$9ef2de025ba1725a$export$497faa7f0daf9da}=e,{values:c,textures:u,passes:{length:f},alias:m}=i,g=a.length??a,h=p?.entries,y=!s,v=l&&`macro@${r}@${d}|${o}|${$9ef2de025ba1725a$var$id(c)}|${$9ef2de025ba1725a$var$id(u)}|${g}|${f}|${h}|${y}|${$9ef2de025ba1725a$var$id(m)}`;if(null!=(n=l?.[v]))return n;let b=u.length,_=g-o;return n=(0,$j3ERp.default)((e,t,r,n,i=0)=>(0,$j3ERp.default)((e,t)=>{let n=e+`#define ${d}texture_${t} ${r}
`+`#define ${d}channels_${t} ${$9ef2de025ba1725a$export$4e46ac54fc82cf3b.slice(i,i+=c[t])}

`;if(!m)return n;let a=m[t];return n+`#define ${d}texture_${a} ${d}texture_${t}
`+`#define ${d}channels_${a} ${d}channels_${t}

`},t,e),u,"")+(h||0===h?`#define ${d}entries ${h}
`:"")+`#define ${d}textures ${b}
`+`#define ${d}passes ${f}
`+`#define ${d}bound ${o}
`+`#define ${d}steps ${g}
`+`#define ${d}stepsPast ${_}
`+`#define ${d}${y?"splits":"merged"} ${b*_}

`,l?l[v]=n:n}function $9ef2de025ba1725a$export$49873e279ff642c0(e,t){let r=$9ef2de025ba1725a$export$11949c6f5fba7dcd.macroOutput,n=$9ef2de025ba1725a$export$feaf5ffc92c2af94(e,r,t);if(null!=n)return n;let{passNow:i,maps:a,pre:o=$c34a44976d3d9d2f$export$b4781c2237bde956,cache:s=$9ef2de025ba1725a$export$497faa7f0daf9da}=e,{values:p,textures:d,passes:l,alias:c}=a,u=l[i],f=s&&`macro@${r}@${o}|${i}|${$9ef2de025ba1725a$var$id(p)}|${$9ef2de025ba1725a$var$id(d)}|${$9ef2de025ba1725a$var$id(l)}|${$9ef2de025ba1725a$var$id(c)}`;return n=s?.[f]??`#define ${o}passNow ${i}
${(0,$j3ERp.default)((e,t,r,n,i=0)=>(0,$j3ERp.default)((e,n)=>{let a=e+"\n"+`#define ${o}bound_${n} ${t}
`+`#define ${o}attach_${n} ${r}
`+`#define ${o}output_${n} gl_FragData[${o}attach_${n}].${$9ef2de025ba1725a$export$4e46ac54fc82cf3b.slice(i,i+=p[n])}
`;if(!c)return a;let s=c[n];return a+"\n"+`#define ${o}bound_${s} ${o}bound_${n}
`+`#define ${o}attach_${s} ${o}attach_${n}
`+`#define ${o}output_${s} ${o}output_${n}
`},d[t],e),u,"")}
`,s?s[f]=n:n}function $9ef2de025ba1725a$export$9cb6037fa2a40c2e(e,t){let r=$9ef2de025ba1725a$export$11949c6f5fba7dcd.macroSamples,n=$9ef2de025ba1725a$export$feaf5ffc92c2af94(e,r,t);if(null!=n)return n;let{passNow:i=0,maps:a,steps:o,bound:s=$c34a44976d3d9d2f$export$b029aceb5666f022,glsl:p,pre:d=$c34a44976d3d9d2f$export$b4781c2237bde956,cache:l=$9ef2de025ba1725a$export$497faa7f0daf9da}=e,{samples:c,reads:u,readsToValue:f,alias:m}=a,g=c?.[i],h=u?.[i],y=f?.[i],v=m?(o.length??o)-s:null,b=l&&`macro@${r}@${d}|${i}|${$9ef2de025ba1725a$var$id(g)}|${$9ef2de025ba1725a$var$id(h)}|${$9ef2de025ba1725a$var$id(y)}|${$9ef2de025ba1725a$var$id(m)}|${v}|${p}`;return n=l?.[b]??(g?`#define ${d}useSamples${$9ef2de025ba1725a$var$lf+$9ef2de025ba1725a$export$c346962e7dd3191("ivec2",d+"samples",g,"const",p)}
`:"")+(h?(0,$j3ERp.default)((e,t,r)=>{let n=`${e}#define ${d}useReads_${r}${$9ef2de025ba1725a$var$lf+$9ef2de025ba1725a$export$c346962e7dd3191("int",d+"reads_"+r,t,"const",p)}
`;if(!m)return n;let i=y[r],a=m[r],o=`${d}reads_${a}`,s=`${d}reads_${r}`;return n+`/**
`+` * Alias reads, depends on index reads \`${d}useReads_${r}\`.
`+` * If using both alias and index reads, only use this not both.
`+` */
`+`#define ${d}useReads_${a}${$9ef2de025ba1725a$var$lf}${d}useReads_${r}${(0,$j3ERp.default)((e,t,r)=>{let n,p=m[i[r]],d=g[t][0],l=v-d-1,c=`Alias for \`${a}\` reads \`${p}\` at `,u=`${c+d} step${1===d?"":"s"} into the past; `,f=`${c+l} step${1===l?"":"s"} from the last; `,h=`${$9ef2de025ba1725a$var$lf}const int ${o}_${p}`,y=`${s}_${r};${$9ef2de025ba1725a$var$lf}`;return e+$9ef2de025ba1725a$var$lf+(d||e.indexOf(n=`${h} = `)>=0?"":`/** ${u}implied newest, bare. */${n+y}`)+(d||e.indexOf(n=`${h}_new = `)>=0?"":`/** ${u}implied newest. */${n+y}`)+(l||e.indexOf(n=`${h}_old = `)>=0?"":`/** ${f}implied oldest. */${n+y}`)+(e.indexOf(n=`${h}_new_${d} = `)>=0?"":`/** ${u}counted newest-to-oldest. */${n+y}`)+(e.indexOf(n=`${h}_old_${l} = `)>=0?"":`/** ${f}counted oldest-to-newest. */${n+y}`)},t,t.length?$9ef2de025ba1725a$var$lf:"")}${$9ef2de025ba1725a$var$lf}const int ${o}_l = ${s}_l;${$9ef2de025ba1725a$var$lf}int ${o}_i(int i) { return ${s}_i(i); }

`},h,""):""),l?l[b]=n:n}function $9ef2de025ba1725a$export$562ddd36066ad650(e,t){let r=$9ef2de025ba1725a$export$11949c6f5fba7dcd.macroTaps,n=$9ef2de025ba1725a$export$feaf5ffc92c2af94(e,r,t);if(null!=n)return n;let{passNow:i=0,maps:a,merge:o,glsl:s,pre:p=$c34a44976d3d9d2f$export$b4781c2237bde956,cache:d=$9ef2de025ba1725a$export$497faa7f0daf9da}=e,l=a.samples?.[i],c=!o,u=d&&`macro@${r}@${p}|${i}|${$9ef2de025ba1725a$var$id(l)}|${c}|${s}`;if(null!=(n=d?.[u]))return n;let f=s>=3,m="texture"+(f?"":"2D"),g=p+"tapState",h="#define "+g,y="stepBy",v="textureBy",b=`${y}, ${v}`,_=`#define ${g}(uv)`+$9ef2de025ba1725a$var$lf+g,O=`#define ${g}By(uv, ${b})`+$9ef2de025ba1725a$var$lf+g,M=p+"samples_",F="_"+p,S=d[r+":tapsSamples"]??=[];return n=(S.length=l?.length??0)?(c?`/**
 * States in a \`sampler2D[]\`; looks up 1D index and 2D \`uv\`.
 * Past steps go later in the list.
 * States may also be sampled by shifted step/texture.
 * Pass constant array index values; \`textures, ${b}\`.
 * Use \`${p}data\` list; ignore temporary \`${F}\` names.
 */
`+h+`sBy(uv, states, textures, ${b})`+$9ef2de025ba1725a$var$lf+`const int ${F}tl = int(textures);`+$9ef2de025ba1725a$var$lf+`vec2 ${F}uv = vec2(uv);`+$9ef2de025ba1725a$var$lf+$9ef2de025ba1725a$export$c346962e7dd3191("vec4",p+"data",(0,$jegOU.default)((e,t)=>m+"(states["+`((int(${M+t}.s)+int(${y}))*${F}tl)+`+`int(${M+t}.t)+int(${v})`+`], ${F}uv)`,l,S),"",s)+"\n"+`/** Sample the states as given without shifting by any offsets. */
`+h+"s(uv, states, textures)"+$9ef2de025ba1725a$var$lf+g+`sBy(uv, states, textures, 0, 0)

`+`/** Preferred aliases: index suits states array constant access. */
`+_+`s(uv, ${p}states, ${p}textures)
`+O+`sBy(uv, ${p}states, ${p}textures, ${b})
`:`/**
 * States merged in a \`sampler2D\`.
 * Scales the 2D \`uv\` lookup over \`[textures, steps]\`.
 * Step from now into the past going upwards in the texture.
 * States may also be sampled by shifted step/texture.
 * Use \`${p}data\` list; ignore temporary \`${F}\` names.
 */
`+h+`2By(uv, states, stepNow, steps, textures, ${b})`+$9ef2de025ba1725a$var$lf+`vec2 ${F}l = vec2(textures, steps);`+$9ef2de025ba1725a$var$lf+`vec2 ${F}uv = vec2(uv)/${F}l;`+$9ef2de025ba1725a$var$lf+`vec2 ${F}s = vec2(1, -1)/${F}l;`+$9ef2de025ba1725a$var$lf+`vec2 ${F}i = (vec2(${b}).ts+vec2(0, 1))-vec2(0, stepNow);`+$9ef2de025ba1725a$var$lf+$9ef2de025ba1725a$export$c346962e7dd3191("vec4",p+"data",(0,$jegOU.default)((e,t)=>m+"(states, "+`fract(${F}uv+fract((vec2(${M+t}).ts+${F}i)*${F}s)))`,l,S),"",s)+"\n"+`/** Sample the states as given without shifting by any offsets. */
`+h+"2(uv, states, stepNow, steps, textures)"+$9ef2de025ba1725a$var$lf+g+`2By(uv, states, stepNow, steps, textures, 0, 0)

`+(f?`/**
 * States merged to \`sampler3D\` or \`sampler2DArray\`.
 * 2D \`uv\` to 3D.
 * Scales \`x\` over \`textures\`, \`z\` over \`steps\` as:
 * - \`sampler3D\`: the number of steps; depth, \`[0, 1]\`.
 * - \`sampler2DArray\`: \`1\` or less; layer, \`[0, steps-1]\`.
 * States may also be sampled by shifted step/texture.
 * Use \`${p}data\` list; ignore temporary \`${F}\` names.
 */
`+h+`3By(uv, states, stepNow, steps, textures, ${b})`+$9ef2de025ba1725a$var$lf+`vec2 ${F}l = vec2(textures, steps);`+$9ef2de025ba1725a$var$lf+`vec2 ${F}uv = (vec2(uv)+vec2(textureBy, 0))/${F}l;`+$9ef2de025ba1725a$var$lf+`float ${F}sx = 1.0/${F}l.x;`+$9ef2de025ba1725a$var$lf+`float ${F}s = float(stepBy)-float(stepNow);`+$9ef2de025ba1725a$var$lf+`float ${F}sz = -1.0/${F}l;`+$9ef2de025ba1725a$var$lf+$9ef2de025ba1725a$export$c346962e7dd3191("vec4",p+"data",(0,$jegOU.default)((e,t)=>m+"(states, fract(vec3("+`${F}uv.x+(float(${M+t}.t)*${F}sx), ${F}uv.y, `+`(float(${M+t}.s)+${F}s)*${F}sz)))`,l,S),"",s)+"\n"+`/** Sample the states as given without shifting by any offsets. */
`+h+"3(uv, states, stepNow, steps, textures)"+$9ef2de025ba1725a$var$lf+g+`3(uv, states, stepNow, steps, textures)

`+"/** Preferred aliases: 3D suits merged texture in `GLSL` 3+. */\n"+_+`3(uv, ${p}states, ${p}stepNow, ${p}steps, ${p}textures)
`+O+`3By(uv, ${p}states, ${p}stepNow, ${p}steps, ${p}textures, ${b})
`:"/** Preferred aliases: 2D suits merged texture in `GLSL` < 1. */\n"+_+`2(uv, ${p}states, ${p}stepNow, ${p}steps, ${p}textures)
`+O+`2By(uv, ${p}states, ${p}stepNow, ${p}steps, ${p}textures, ${b})
`))+"\n":"",d?d[u]=n:n}const $9ef2de025ba1725a$export$d38b14fb9031108e=(e,t)=>$9ef2de025ba1725a$export$feaf5ffc92c2af94(e,$9ef2de025ba1725a$export$11949c6f5fba7dcd.macroPass,t)??$9ef2de025ba1725a$export$84186522bf5a7d4d(e,t)+$9ef2de025ba1725a$export$49873e279ff642c0(e,t)+$9ef2de025ba1725a$export$9cb6037fa2a40c2e(e,t)+$9ef2de025ba1725a$export$562ddd36066ad650(e,t),{call:$13c03cc1b86f8a58$var$call}=Function,$13c03cc1b86f8a58$export$d86e3abd7686c23f=({passes:e,stepNow:t,passNow:r})=>$dee57f889e3b703d$export$2e2bcd8739ae039(t,e)?.[r],$13c03cc1b86f8a58$export$95b2c9ea2de43ebb=(e,t,r)=>e.call===$13c03cc1b86f8a58$var$call?e(t,r):e;function $13c03cc1b86f8a58$export$12661000d11a17d2(e){let{merge:t,stepNow:r,size:n,copyImage:i=e.copyImage=$c34a44976d3d9d2f$export$72e520e6a70b780c()}=e,{color:a,map:o}=$13c03cc1b86f8a58$export$d86e3abd7686c23f(e),{all:{texture:s},next:p}=t,d=s?.subimage,{color:l}=p,c=p.framebuffer;if(c?.call!==Function.call&&(c=c?.call),!(d&&c&&a&&o&&(r||0===r)))return s;let{steps:u,width:f,height:m}=n,g=$dee57f889e3b703d$export$2e2bcd8739ae039(r,u)*m;return $02472921bf7b74d2$export$2e2bcd8739ae039((e,t)=>(p.color=e)&&c.call(c,p).use.call(c,()=>d.call(s,i,o[t]*f,g)),a),p.color=l,c.call(c,p),s}function $13c03cc1b86f8a58$export$ca14b6cb1bf101d2(e){let{merge:t,clearPass:r=e.clearPass=$c34a44976d3d9d2f$export$2fcc13103217f9a3()}=e,{all:{texture:n},next:i}=t,{color:a}=i,o=i.framebuffer;if(o?.call!==Function.call&&(o=o?.call),!r||!o)return n;let s=r.framebuffer;return(i.color=n)&&(r.framebuffer=o.call(o,i))&&clear(r),r.framebuffer=s,i.color=a,o.call(o,i),n}function $13c03cc1b86f8a58$export$d89197afac86b993(e,t={},r=t){let{buffer:n,clear:i,command:a=e}=e,{merge:o,pipeline:s,verts:p,frag:d,frags:l,uniforms:c,attributes:u,maps:f,pre:m=$c34a44976d3d9d2f$export$b4781c2237bde956,vert:g=$c34a44976d3d9d2f$export$dc207adda608f979.replaceAll($c34a44976d3d9d2f$export$b4781c2237bde956,m||""),count:h=$c34a44976d3d9d2f$export$832d88422d279bbc,positions:y=$c34a44976d3d9d2f$export$cfdc3a7c4cb854c6()}=t,{clearPass:v=null}=t;if(r.pre=m,r.vert=g,r.count=h,r.positions=n(y),r.clearPass=!0===v?v=void 0:v,p||l){let{passNow:e}=t;p&&(r.verts=p),l&&(r.frags=l),$02472921bf7b74d2$export$2e2bcd8739ae039((e,r)=>{t.passNow=r,p&&(p[r]??=$9ef2de025ba1725a$export$d38b14fb9031108e(t,"vert")+$13c03cc1b86f8a58$export$95b2c9ea2de43ebb(g,null,t)),l&&(l[r]??=$9ef2de025ba1725a$export$d38b14fb9031108e(t,"frag")+$13c03cc1b86f8a58$export$95b2c9ea2de43ebb(d,null,t))},f.passes),t.passNow=e}return r.pass=a(r.pipeline={vert(e,r){let{passNow:n,step:{vert:i=g,verts:a=p}}=t;return a?.[n]??$9ef2de025ba1725a$export$d38b14fb9031108e(r,"vert")+$13c03cc1b86f8a58$export$95b2c9ea2de43ebb(i,e,r)},frag(e,r){let{passNow:n,step:{frag:i=d,frags:a=l}}=t;return a?.[n]??$9ef2de025ba1725a$export$d38b14fb9031108e(r,"frag")+$13c03cc1b86f8a58$export$95b2c9ea2de43ebb(i,e,r)},framebuffer:(e,t)=>$13c03cc1b86f8a58$export$d86e3abd7686c23f(t)?.framebuffer,count:h,uniforms:c,attributes:{[m+"position"]:(e,t)=>t.positions,...u},depth:{enable:!1},blend:{enable:!1},...s}),o&&(r.merge=o)&&(o.update??=$13c03cc1b86f8a58$export$12661000d11a17d2,o.clear??=$13c03cc1b86f8a58$export$ca14b6cb1bf101d2),r.stepBy=(e=r,t=1)=>{let{stepNow:n=0,stepMax:i=$c34a44976d3d9d2f$export$2902d6d00b7c2bce}=e;return e.stepNow=$dee57f889e3b703d$export$2e2bcd8739ae039(n+t,i||1/0),e},r.step=(e=r)=>{let t=e.onStep?.(e)??e,{maps:n,merge:a,pass:o,onPass:s,stepBy:p,clearPass:d=t.clearPass=$c34a44976d3d9d2f$export$2fcc13103217f9a3()}=t,l=d&&d.framebuffer,c=a?.update;return p(t),$02472921bf7b74d2$export$2e2bcd8739ae039((e,r)=>{t.passNow=r;let n=s?.(t,e)??t;d&&(d.framebuffer=$13c03cc1b86f8a58$export$d86e3abd7686c23f(n)?.framebuffer)&&i(d),o(n),c?.(n)},n.passes),d&&(d.framebuffer=l),t},r.clear=(e=r)=>{let t=e.onClear?.(e)??e,{maps:n,merge:a,clearPass:o=t.clearPass=$c34a44976d3d9d2f$export$2fcc13103217f9a3()}=t;if(!o)return t;let s=o.framebuffer;return $02472921bf7b74d2$export$2e2bcd8739ae039((e,r)=>{t.passNow=r,(o.framebuffer=$13c03cc1b86f8a58$export$d86e3abd7686c23f(t)?.framebuffer)&&i(o)},n.passes),o.framebuffer=s,a?.clear?.(t),t},r}const{isFinite:$91cae31a339c057f$var$isFinite}=Number,$91cae31a339c057f$export$658d3265ca8f5f4e=e=>$91cae31a339c057f$var$isFinite(e)?e:parseFloat(e?.match?.($c34a44976d3d9d2f$export$5544d416ac8224f1)?.[0]??e,10);function $91cae31a339c057f$export$a8489f67fe30ef76(e,t={},r=t){let{maxDrawbuffers:n,glsl:i}=e.limits??e,{maps:a={},glsl:o=i}=t,{buffersMax:s}=a;return r.glsl=$91cae31a339c057f$export$658d3265ca8f5f4e(o),a.buffersMax??=n,t.maps=$82eaf3e5ff5bc05d$export$798cdecdcbbf9755(a,r.maps??={}),$9273f52b62bda25c$export$24a6b176bdc41ce5(e,t,r),$c0826d7b05d29ce3$export$1aad3af825e3305b(t,r.uniforms??={}),$13c03cc1b86f8a58$export$d89197afac86b993(e,t,r),r}var $91cae31a339c057f$export$2e2bcd8739ae039=$91cae31a339c057f$export$a8489f67fe30ef76,$jegOU=parcelRequire("jegOU"),$j3ERp=parcelRequire("j3ERp");const $76fc39aad9006ea9$export$be3f796aed065412={diff:"-",dt:"-","⏳":"-",pause:0,"⏸":0,add:"+","⏭":"+"},$76fc39aad9006ea9$export$7548f4bc1b09ff22=$76fc39aad9006ea9$export$be3f796aed065412.diff,$76fc39aad9006ea9$export$85b884786400d38f=0,$76fc39aad9006ea9$export$eb8a9b7a1ebec59a={[$76fc39aad9006ea9$export$be3f796aed065412.diff]:Date.now,[$76fc39aad9006ea9$export$be3f796aed065412.add]:1e3/60};function $76fc39aad9006ea9$export$9dc4ecf953986f04(e,t,r=e){var n,i,a;let{time:o=$76fc39aad9006ea9$export$85b884786400d38f,step:s=$76fc39aad9006ea9$export$7548f4bc1b09ff22,now:p}=e,d=null!=(n=$76fc39aad9006ea9$export$be3f796aed065412[s])?n:s,l=d===$76fc39aad9006ea9$export$be3f796aed065412.diff,c=null!=(a=null!=(i=null!=t?t:p)?i:$76fc39aad9006ea9$export$eb8a9b7a1ebec59a[d])?a:d,u=d?(l?0:o)+(isNaN(c)?c():c):o,f=u-o;return r?(r.time=u,r.dt=f,r.step=s,r):l?f:u}var $bYNp4=parcelRequire("bYNp4"),$bHeZe=parcelRequire("bHeZe");const $7a0eb9897ec27a15$export$772aa0961a81b065=(0,$bHeZe.defError)(()=>"illegal arity"),$7a0eb9897ec27a15$export$9f1b9fbfe882200d=e=>{throw new $7a0eb9897ec27a15$export$772aa0961a81b065(e)};function $79c7af0a27843d10$export$1af3c925c49f37a2(...e){let[t,r,n,i,a,o,s,p,d,l]=e;switch(e.length){case 0:$7a0eb9897ec27a15$export$9f1b9fbfe882200d(0);case 1:return t;case 2:return(...e)=>t(r(...e));case 3:return(...e)=>t(r(n(...e)));case 4:return(...e)=>t(r(n(i(...e))));case 5:return(...e)=>t(r(n(i(a(...e)))));case 6:return(...e)=>t(r(n(i(a(o(...e))))));case 7:return(...e)=>t(r(n(i(a(o(s(...e)))))));case 8:return(...e)=>t(r(n(i(a(o(s(p(...e))))))));case 9:return(...e)=>t(r(n(i(a(o(s(p(d(...e)))))))));default:let c=(...e)=>t(r(n(i(a(o(s(p(d(l(...e))))))))));return 10===e.length?c:$79c7af0a27843d10$export$1af3c925c49f37a2(c,...e.slice(10))}}const $fc452ca3333d839e$export$c915e14294a7d06f=(e,t)=>"function"==typeof e?.[t],$5cfbdbe38a0d1891$export$eca2c7e8e95bbf0a=e=>$fc452ca3333d839e$export$c915e14294a7d06f(e,"xform")?e.xform():e;function $21bbfbe0d4ce8713$export$1af3c925c49f37a2(...e){return e=e.map($5cfbdbe38a0d1891$export$eca2c7e8e95bbf0a),$79c7af0a27843d10$export$1af3c925c49f37a2.apply(null,e)}const $c75d74cd37ef1989$export$9652023d9040757=e=>"function"==typeof e?.[Symbol.iterator],$7936bd5dea151564$export$5adef4befe47917=(e,t)=>[e[0],e[1],t],$0ff589582751c34a$export$a7d1fa727cb10b0e=Symbol(),$0ff589582751c34a$export$ca96bc7645ad7951=()=>{},$8193c7c031db9d1c$export$f0954fd7d5368655=e=>e,$9ae7037907d47505$export$1e2f57719e155213=e=>null!=e&&"function"!=typeof e&&void 0!==e.length;class $c21b52ccea67037f$export$ce266a425291df6c{value;constructor(e){this.value=e}deref(){return this.value}}const $c21b52ccea67037f$export$447808b60b7559bd=e=>new $c21b52ccea67037f$export$ce266a425291df6c(e),$c21b52ccea67037f$export$ebab785f9ea33473=e=>e instanceof $c21b52ccea67037f$export$ce266a425291df6c,$c21b52ccea67037f$export$f2412ace46b7b087=e=>e instanceof $c21b52ccea67037f$export$ce266a425291df6c?e:new $c21b52ccea67037f$export$ce266a425291df6c(e),$c21b52ccea67037f$export$7ca7c14b24aa137b=e=>e instanceof $c21b52ccea67037f$export$ce266a425291df6c?e.deref():e,$891ae68f2ceb9441$var$__parseArgs=e=>2===e.length?[void 0,e[1]]:3===e.length?[e[1],e[2]]:$7a0eb9897ec27a15$export$9f1b9fbfe882200d(e.length);function $891ae68f2ceb9441$export$533b26079ad0b4b(...e){let t=e[0],r=t[0],n=t[1],i=t[2],a=null==(e=$891ae68f2ceb9441$var$__parseArgs(e))[0]?r():e[0],o=e[1];return $c21b52ccea67037f$export$7ca7c14b24aa137b(n($fc452ca3333d839e$export$c915e14294a7d06f(o,"$reduce")?o.$reduce(i,a):$9ae7037907d47505$export$1e2f57719e155213(o)?$891ae68f2ceb9441$var$__reduceArray(i,a,o):$891ae68f2ceb9441$var$__reduceIterable(i,a,o)))}const $891ae68f2ceb9441$var$__reduceArray=(e,t,r)=>{for(let n=0,i=r.length;n<i;n++)if($c21b52ccea67037f$export$ebab785f9ea33473(t=e(t,r[n]))){t=t.deref();break}return t},$891ae68f2ceb9441$var$__reduceIterable=(e,t,r)=>{for(let n of r)if($c21b52ccea67037f$export$ebab785f9ea33473(t=e(t,n))){t=t.deref();break}return t},$891ae68f2ceb9441$export$1650419e431d3ba3=(e,t)=>[e,$8193c7c031db9d1c$export$f0954fd7d5368655,t];function $7f2f9b3062568c73$export$4cbf152802aa238(e){return e?[...e]:$891ae68f2ceb9441$export$1650419e431d3ba3(()=>[],(e,t)=>(e.push(t),e))}function*$eebc94aa6cc7db6d$export$6f58e2338da23f4d(e,t){let r=$5cfbdbe38a0d1891$export$eca2c7e8e95bbf0a(e)($7f2f9b3062568c73$export$4cbf152802aa238()),n=r[1],i=r[2];for(let e of t){let t=i([],e);if($c21b52ccea67037f$export$ebab785f9ea33473(t))return void(yield*$c21b52ccea67037f$export$7ca7c14b24aa137b(n(t.deref())));t.length&&(yield*t)}yield*$c21b52ccea67037f$export$7ca7c14b24aa137b(n([]))}function*$eebc94aa6cc7db6d$export$a6bff14a9cefe0e8(e,t){let r=$5cfbdbe38a0d1891$export$eca2c7e8e95bbf0a(e)([$0ff589582751c34a$export$ca96bc7645ad7951,$0ff589582751c34a$export$ca96bc7645ad7951,(e,t)=>t])[2];for(let e of t){let t=r($0ff589582751c34a$export$a7d1fa727cb10b0e,e);if($c21b52ccea67037f$export$ebab785f9ea33473(t)){(t=$c21b52ccea67037f$export$7ca7c14b24aa137b(t.deref()))!==$0ff589582751c34a$export$a7d1fa727cb10b0e&&(yield t);return}t!==$0ff589582751c34a$export$a7d1fa727cb10b0e&&(yield t)}}const $eebc94aa6cc7db6d$export$9b6eac2a13c3d07=(e,t,r=$eebc94aa6cc7db6d$export$a6bff14a9cefe0e8)=>{let n=t.length-1;return $c75d74cd37ef1989$export$9652023d9040757(t[n])?t.length>1?r(e.apply(null,t.slice(0,n)),t[n]):r(e(),t[0]):void 0};function $0b677ef6ea3c3216$export$871de8747c9eaa88(e,t){return $c75d74cd37ef1989$export$9652023d9040757(t)?$eebc94aa6cc7db6d$export$a6bff14a9cefe0e8($0b677ef6ea3c3216$export$871de8747c9eaa88(e),t):t=>{let r=t[2];return $7936bd5dea151564$export$5adef4befe47917(t,(t,n)=>r(t,e(n)))}}function $1fa1d43a494458e6$export$e5bd5b3b105c2a71(...e){return $eebc94aa6cc7db6d$export$9b6eac2a13c3d07($1fa1d43a494458e6$export$e5bd5b3b105c2a71,e)||(t=>{let r=t[2],n=e[0],i=e[1]||0;return $7936bd5dea151564$export$5adef4befe47917(t,(e,t)=>r(e,n(i++,t)))})}function $c505166245ce4fb3$export$d02631cccf789723(e,t,r){return new $c505166245ce4fb3$export$9a58ef0d7ad3278c(e,t,r)}class $c505166245ce4fb3$export$9a58ef0d7ad3278c{from;to;step;constructor(e,t,r){void 0===e?(e=0,t=1/0):void 0===t&&(t=e,e=0),r=void 0===r?e<t?1:-1:r,this.from=e,this.to=t,this.step=r}*[Symbol.iterator](){let{from:e,to:t,step:r}=this;if(r>0)for(;e<t;)yield e,e+=r;else if(r<0)for(;e>t;)yield e,e+=r}$reduce(e,t){let r=this.step;if(r>0)for(let n=this.from,i=this.to;n<i&&!$c21b52ccea67037f$export$ebab785f9ea33473(t);n+=r)t=e(t,n);else for(let n=this.from,i=this.to;n>i&&!$c21b52ccea67037f$export$ebab785f9ea33473(t);n+=r)t=e(t,n);return t}}function $174fcbe980159568$export$42d51816ce590c93(e,t){e=e||"";let r=!0;return t?[...t].join(e):$891ae68f2ceb9441$export$1650419e431d3ba3(()=>"",(t,n)=>(t=r?t+n:t+e+n,r=!1,t))}function $e1cbd99fda8b1601$export$b7df5d561049483a(e,t){return $c75d74cd37ef1989$export$9652023d9040757(t)?$eebc94aa6cc7db6d$export$6f58e2338da23f4d($e1cbd99fda8b1601$export$b7df5d561049483a(e),t):t=>{let r=t[2],n=e;return $7936bd5dea151564$export$5adef4befe47917(t,(e,t)=>--n>0?r(e,t):0===n?$c21b52ccea67037f$export$f2412ace46b7b087(r(e,t)):$c21b52ccea67037f$export$447808b60b7559bd(e))}}function $dab1e421b4114c1f$export$9608d0eacffd6284(...e){return $dab1e421b4114c1f$var$$transduce($dab1e421b4114c1f$export$9608d0eacffd6284,$891ae68f2ceb9441$export$533b26079ad0b4b,e)}const $dab1e421b4114c1f$var$$transduce=(e,t,r)=>{let n,i;switch(r.length){case 4:i=r[3],n=r[2];break;case 3:i=r[2];break;case 2:return $0b677ef6ea3c3216$export$871de8747c9eaa88(t=>e(r[0],r[1],t));default:$7a0eb9897ec27a15$export$9f1b9fbfe882200d(r.length)}return t($5cfbdbe38a0d1891$export$eca2c7e8e95bbf0a(r[0])(r[1]),n,i)};function*$c08bb593d952c4f4$export$8901015135f2fb22(...e){let t=e.map(e=>e[Symbol.iterator]());for(;;){let e=[];for(let r of t){let t=r.next();if(t.done)return;e.push(t.value)}yield e}}var $eyNeX=parcelRequire("eyNeX");const $a6e02dce57536811$export$c37d18c23b2ea60c=(e=0)=>{let t,r=[,,,,,],n=(...n)=>{let i=r[n[e].length]||t;return i?i(...n):(0,$eyNeX.unsupported)(`no impl for vec size ${n[e].length}`)};return n.add=(e,t)=>r[e]=t,n.default=e=>t=e,n.impl=e=>null!=e&&r[e]||t,n},$3fd8fdb6a7ed2302$export$ccd27f3e7091205c="o,a,b",$3fd8fdb6a7ed2302$export$9e772ae751f37666="o,a,n",$3fd8fdb6a7ed2302$export$6ab71ad6f57b0093=e=>([t,r])=>`${t}=${r}${e}n;`,$091aada83ba48e39$var$__lookup=e=>t=>t>1?`${e}[i${e}+${t}*s${e}]`:1==t?`${e}[i${e}+s${e}]`:`${e}[i${e}]`,$091aada83ba48e39$var$__indicesStrided=e=>$0b677ef6ea3c3216$export$871de8747c9eaa88($091aada83ba48e39$var$__lookup(e),$c505166245ce4fb3$export$d02631cccf789723()),$091aada83ba48e39$var$__indices=e=>$0b677ef6ea3c3216$export$871de8747c9eaa88(t=>`${e}[${t}]`,$c505166245ce4fb3$export$d02631cccf789723()),$091aada83ba48e39$var$__assemble=(e,t,r,n="a",i="",a="",o="",s=!1)=>[a,$dab1e421b4114c1f$export$9608d0eacffd6284($21bbfbe0d4ce8713$export$1af3c925c49f37a2($e1cbd99fda8b1601$export$b7df5d561049483a(e),$1fa1d43a494458e6$export$e5bd5b3b105c2a71((e,r)=>t(r,e))),$174fcbe980159568$export$42d51816ce590c93(i),$c08bb593d952c4f4$export$8901015135f2fb22.apply(null,r.split(",").map(s?$091aada83ba48e39$var$__indicesStrided:$091aada83ba48e39$var$__indices))),o,""!==n?`return ${n};`:""],$091aada83ba48e39$var$__assembleG=(e,t,r="a",n,i,a=!1)=>[n,"for(let i=a.length;--i>=0;) {",e(t.split(",").map(a?e=>`${e}[i${e}+i*s${e}]`:e=>`${e}[i]`)),"}",i,null!==r?`return ${r};`:""],$091aada83ba48e39$export$326bc8646b307e15=(e,t)=>`!${e} && (${e}=${t.split(",")[1]});`,$091aada83ba48e39$export$ef7acd7185315e22=(e,t,r,n=r,i="a",a,o,s,p=!1)=>Function(r,$091aada83ba48e39$var$__assemble(e,t,n,i,a,o,s,p).join("")),$091aada83ba48e39$export$aeba7862bf0c66c4=(e,t,r=t,n="a",i,a,o=!1)=>Function(t,$091aada83ba48e39$var$__assembleG(e,r,n,i,a,o).join("")),$091aada83ba48e39$export$e40cf5ce9a490533=(e,t=$3fd8fdb6a7ed2302$export$ccd27f3e7091205c,r,n="o",i=1,a)=>{r=r||t,a=null!=a?a:$091aada83ba48e39$export$326bc8646b307e15(n,r);let o=$a6e02dce57536811$export$c37d18c23b2ea60c(i),s=i=>o.add(i,$091aada83ba48e39$export$ef7acd7185315e22(i,e,t,r,n,"",a));return o.default($091aada83ba48e39$export$aeba7862bf0c66c4(e,t,r,n,a)),[o,s(2),s(3),s(4)]},$091aada83ba48e39$export$24ecd06eea36a882=e=>$091aada83ba48e39$export$e40cf5ce9a490533($3fd8fdb6a7ed2302$export$6ab71ad6f57b0093(e),$3fd8fdb6a7ed2302$export$9e772ae751f37666),[$4dca6ea416ca7312$export$523c9d3eb3d8d990,$4dca6ea416ca7312$export$b54ddf06b57709b1,$4dca6ea416ca7312$export$1c0ad2738a5ae4b0,$4dca6ea416ca7312$export$1f214a01989f466a]=$091aada83ba48e39$export$24ecd06eea36a882("*"),[$183a030ef048306e$export$37b75d0026f96b8d,$183a030ef048306e$export$dc78d1181d20ae9d,$183a030ef048306e$export$3566317347873a0b,$183a030ef048306e$export$49c94a8647bf28c0]=$091aada83ba48e39$export$24ecd06eea36a882("+"),$a6dc0cacc0318c9b$export$29e4e862bebba87f=e=>e*$e8ecb463a815ed57$export$460c4029b1a54a2e,$5ad3dd233a96fcb0$export$7e4aa119212bc614=e=>"number"==typeof e,$a1dcefec69ce1fa4$export$844ec244b1367d54=e=>"string"==typeof e;var $bHeZe=parcelRequire("bHeZe");const $59d96a32eb3b2334$export$10a4c2bfc9c71dbd=(0,$bHeZe.defError)(()=>"illegal argument(s)"),$59d96a32eb3b2334$export$85f6a9f917d452ba=e=>{throw new $59d96a32eb3b2334$export$10a4c2bfc9c71dbd(e)},$9f3e007dfc2b4a95$export$a57bfe0eb79af278=e=>e-Math.floor(e);function $197bd651b6178003$export$c7d5ea85f8b34f37(e,t=Object.create(null)){return(...r)=>{let n=JSON.stringify(r);return void 0!==n?n in t?t[n]:t[n]=e.apply(null,r):e.apply(null,r)}}function $94fccd6dbc55f1dd$export$3647141da7a2bad3(e,t=Object.create(null)){return(...r)=>{let n=r.join("-");return n in t?t[n]:t[n]=e(...r)}}const $3b8cf0ed946b22e1$export$76d90c956114f2c2=$94fccd6dbc55f1dd$export$3647141da7a2bad3((e,t)=>e.repeat(t)),$33641a41c7edb16c$export$bc3bea8325045070=$94fccd6dbc55f1dd$export$3647141da7a2bad3((e,t=" ")=>{let r=$3b8cf0ed946b22e1$export$76d90c956114f2c2(String(t),e);return(t,n)=>null==t?r:(t=t.toString(),(n=void 0!==n?n:t.length)<e?r.substring(n)+t:t)});$33641a41c7edb16c$export$bc3bea8325045070(2,"0"),$33641a41c7edb16c$export$bc3bea8325045070(3,"0"),$33641a41c7edb16c$export$bc3bea8325045070(4,"0");const $860374998d9c66e5$export$6b5cd3983e3ee5ab=$197bd651b6178003$export$c7d5ea85f8b34f37((e,t=!1)=>t?t=>$860374998d9c66e5$var$__nanOrInf(t)||t.toFixed(e):t=>t.toFixed(e));$197bd651b6178003$export$c7d5ea85f8b34f37((e,t=3)=>{let r=e-t-1,n=Math.pow(10,r),i=-Math.pow(10,r-1),a=Math.pow(10,-(t-1)),o=$33641a41c7edb16c$export$bc3bea8325045070(e);return r=>{let s=Math.abs(r);return o($860374998d9c66e5$var$__nanOrInf(r)||(0===r?"0":s<a||s>=n?$860374998d9c66e5$var$__exp(r,e):r.toFixed(t-(r<i))))}});const $860374998d9c66e5$var$__exp=(e,t)=>e.toExponential(Math.max(t-4-(Math.log(Math.abs(e))/Math.LN10>=10?2:1)-(e<0),0)),$860374998d9c66e5$var$__nanOrInf=e=>isNaN(e)?"NaN":e===1/0?"+∞":e===-1/0?"-∞":void 0,$e1e6c6e99a0bd37d$export$6074e20ba5c64bef=$197bd651b6178003$export$c7d5ea85f8b34f37((e,t=3,r=",",n="[",i="]")=>{let a="number"==typeof t?$860374998d9c66e5$export$6b5cd3983e3ee5ab(t):t;switch(e){case 1:return e=>`${n}${a(e[0])}${i}`;case 2:return e=>`${n}${a(e[0])}${r}${a(e[1])}${i}`;case 3:return e=>`${n}${a(e[0])}${r}${a(e[1])}${r}${a(e[2])}${i}`;case 4:return e=>`${n}${a(e[0])}${r}${a(e[1])}${r}${a(e[2])}${r}${a(e[3])}${i}`;default:return e=>{let t=[];for(let r=0;r<e.length;r++)t.push(a(e[r]));return`${n}${t.join(r)}${i}`}}});var $f6d88734af8f0b66$export$c486935b7b0b00f7=(e=>(e[e.I8=5120]="I8",e[e.U8=5121]="U8",e[e.I16=5122]="I16",e[e.U16=5123]="U16",e[e.I32=5124]="I32",e[e.U32=5125]="U32",e[e.F32=5126]="F32",e))($f6d88734af8f0b66$export$c486935b7b0b00f7||{});const $f6d88734af8f0b66$export$7f91e23c347e83e3={f32:Float32Array,f64:Float64Array},$f6d88734af8f0b66$export$62a9a53bce51b47f={i8:Int8Array,i16:Int16Array,i32:Int32Array},$f6d88734af8f0b66$export$89dd89c1ab6a21e0={u8:Uint8Array,u8c:Uint8ClampedArray,u16:Uint16Array,u32:Uint32Array};BigInt64Array,BigUint64Array;const $43e63bde939351df$export$e9242f670cb20645=(e,t,r,n,i,a)=>{let o=[];for(;r-- >0;)o.push(new e(t,n,i)),n+=a;return o};var $bYNp4=parcelRequire("bYNp4"),$iFz86=parcelRequire("iFz86");const[$fab58e6c1b99830f$var$a,$fab58e6c1b99830f$var$b,$fab58e6c1b99830f$var$c,$fab58e6c1b99830f$var$d]=(0,$iFz86.defOpVVV)($bYNp4.clamp),$fab58e6c1b99830f$export$4cfdf484c27efa43=$fab58e6c1b99830f$var$d,$d74c9a8e32c2021d$export$beea375bf3818f1d=(e,t,r,n=!0,i=!0)=>{let a=r>0?n?function(){return this.buf[this.offset+r*this.stride]}:function(){return this.buf[this.offset+r]}:function(){return this.buf[this.offset]},o=r>0?n?function(e){this.buf[this.offset+r*this.stride]=e}:function(e){this.buf[this.offset+r]=e}:function(e){this.buf[this.offset]=e};i&&Object.defineProperty(e,r,{get:a,set:o,enumerable:!0}),Object.defineProperty(e,t,{get:a,set:o,enumerable:!0})},$d74c9a8e32c2021d$export$372fdd3dd278cc1c=(e,t,r,n)=>t.forEach((t,i)=>$d74c9a8e32c2021d$export$beea375bf3818f1d(e,t,i,r,n)),$57b45bf2a6cc04f0$var$abs=Math.abs,$57b45bf2a6cc04f0$export$3e1b8005eb6f3d68=(e,t,r=$e8ecb463a815ed57$export$56469a43a57ad8b6)=>$57b45bf2a6cc04f0$var$abs(e-t)<=r;var $2jQ4E=parcelRequire("2jQ4E");const $5f90870d07c5f588$export$c63d26dbbb7a5033=(e,t,r=$e8ecb463a815ed57$export$56469a43a57ad8b6)=>e.length===t.length&&$57b45bf2a6cc04f0$export$3e1b8005eb6f3d68(e[0],t[0],r)&&$57b45bf2a6cc04f0$export$3e1b8005eb6f3d68(e[1],t[1],r),$5f90870d07c5f588$export$819cb4b1ecd374c5=(e,t,r=$e8ecb463a815ed57$export$56469a43a57ad8b6)=>e.length===t.length&&$57b45bf2a6cc04f0$export$3e1b8005eb6f3d68(e[0],t[0],r)&&$57b45bf2a6cc04f0$export$3e1b8005eb6f3d68(e[1],t[1],r)&&$57b45bf2a6cc04f0$export$3e1b8005eb6f3d68(e[2],t[2],r),$5f90870d07c5f588$export$215c4845217d5cf1=(e,t,r=$e8ecb463a815ed57$export$56469a43a57ad8b6)=>e.length===t.length&&$57b45bf2a6cc04f0$export$3e1b8005eb6f3d68(e[0],t[0],r)&&$57b45bf2a6cc04f0$export$3e1b8005eb6f3d68(e[1],t[1],r)&&$57b45bf2a6cc04f0$export$3e1b8005eb6f3d68(e[2],t[2],r)&&$57b45bf2a6cc04f0$export$3e1b8005eb6f3d68(e[3],t[3],r);(0,$2jQ4E.vop)(0,(e,t,r=$e8ecb463a815ed57$export$56469a43a57ad8b6)=>$fc452ca3333d839e$export$c915e14294a7d06f(e,"eqDelta")?e.eqDelta(t,r):$fc452ca3333d839e$export$c915e14294a7d06f(t,"eqDelta")?t.eqDelta(e,r):$5f90870d07c5f588$export$75f4a8c48213224e(e,t,e.length,r),$5f90870d07c5f588$export$c63d26dbbb7a5033,$5f90870d07c5f588$export$819cb4b1ecd374c5,$5f90870d07c5f588$export$215c4845217d5cf1);const $5f90870d07c5f588$export$75f4a8c48213224e=(e,t,r,n=$e8ecb463a815ed57$export$56469a43a57ad8b6,i=0,a=0,o=1,s=1)=>{for(;r>0;r--,i+=o,a+=s)if(!$57b45bf2a6cc04f0$export$3e1b8005eb6f3d68(e[i],t[a],n))return!1;return!0};function*$78f75908f41386da$export$de7c8d5f4bf654ca(e,t,r,n){for(;t-- >0;)yield e[r],r+=n}const $3fc3f2e5e39b5f27$var$INV_MAX=1/0x100000000;class $3fc3f2e5e39b5f27$export$d768fa07cecd88a{float(e=1){return this.int()*$3fc3f2e5e39b5f27$var$INV_MAX*e}probability(e){return this.float()<e}norm(e=1){return(this.int()*$3fc3f2e5e39b5f27$var$INV_MAX-.5)*2*e}normMinMax(e,t){let r=this.minmax(e,t);return .5>this.float()?r:-r}minmax(e,t){return this.float()*(t-e)+e}minmaxInt(e,t){let r=(0|t)-(e|=0);return r?e+this.int()%r:e}minmaxUint(e,t){let r=(t>>>0)-(e>>>=0);return r?e+this.int()%r:e}}class $1cd1774783adca53$export$1559ae9702bee384 extends $3fc3f2e5e39b5f27$export$d768fa07cecd88a{constructor(e){super(),this.rnd=e}float(e=1){return this.rnd()*e}norm(e=1){return(this.rnd()-.5)*2*e}int(){return 0x100000000*this.rnd()>>>0}}const $ffbc57f0752dee0e$export$52653a075d3f70dc=new $1cd1774783adca53$export$1559ae9702bee384(Math.random);var $2jQ4E=parcelRequire("2jQ4E");const $b29e6a034f17b70c$export$a3bd1ea0f114ec36=(0,$2jQ4E.vop)(1,(e,t,r,n=$ffbc57f0752dee0e$export$52653a075d3f70dc)=>{e||(e=t);for(let i=t.length;i-- >0;)e[i]=n.minmax(t[i],r[i]);return e}),$901632b80ac4e65a$export$43bee75e5e14138e=Array.isArray;var $bHeZe=parcelRequire("bHeZe"),$f7dec846ea820c35$import_meta=Object.assign(Object.create(null),{url:"file:///.yarn/cache/@thi.ng-errors-npm-2.5.34-3cc7cfbba1-19e4711ebe.zip/node_modules/@thi.ng/errors/assert.js"}),$cae194cccf03578e$exports={};const $f7dec846ea820c35$export$7750cdfb4db2c3d=(0,$bHeZe.defError)(()=>"Assertion failed"),$f7dec846ea820c35$export$a7a9523472993e97=(void 0===$cae194cccf03578e$exports||void 0===$cae194cccf03578e$exports.env)&&(!$f7dec846ea820c35$import_meta.env||"production"!==$f7dec846ea820c35$import_meta.env.MODE||$f7dec846ea820c35$import_meta.env.UMBRELLA_ASSERTS||$f7dec846ea820c35$import_meta.env.VITE_UMBRELLA_ASSERTS)?(e,t)=>{if("function"==typeof e&&!e()||!e)throw new $f7dec846ea820c35$export$7750cdfb4db2c3d("function"==typeof t?t():t)}:()=>{};var $eyNeX=parcelRequire("eyNeX");const $2b16f1f23e5716a3$export$5ffd082a0121a803={},$2b16f1f23e5716a3$export$b07aeb3c205b1fa7=(e,t)=>{for(let e in t){let r=t[e];if($901632b80ac4e65a$export$43bee75e5e14138e(r)){let[n,i,a,o]=r;t[e]=2===r.length?(e,t)=>i(e,n(e,t)):3===r.length?(e,t)=>a(e,i(e,n(e,t))):(e,t)=>o(e,a(e,i(e,n(e,t))))}}$2b16f1f23e5716a3$export$5ffd082a0121a803[e]={...$2b16f1f23e5716a3$export$5ffd082a0121a803[e],...t}},$2b16f1f23e5716a3$export$9c68d69a4c5bbcf9=(e,t,r,n)=>{let i=$2b16f1f23e5716a3$export$5ffd082a0121a803[r];$f7dec846ea820c35$export$a7a9523472993e97(!!i,`no conversions available for ${r}`);let a=i[n];return a?a(e,t):$2b16f1f23e5716a3$export$5ffd082a0121a803.rgb[n]?i.rgb(e,$2b16f1f23e5716a3$export$5ffd082a0121a803.rgb[n]([],t)):(0,$eyNeX.unsupported)(`can't convert: ${n} -> ${r}`)},$98634a62a0a86ff8$export$b8ff662d454dbe46=(e,t)=>(e>>>t|e<<32-t)>>>0,$da92233956738598$export$dd24dc7e49b6b0eb=e=>(3840&e)*4352|(240&e)*272|(15&e)*17,$da92233956738598$export$aea914411a6b4fb=e=>((61440&e)*69632|(3840&e)*4352|(240&e)*272|(15&e)*17)>>>0;var $eyNeX=parcelRequire("eyNeX"),$bYNp4=parcelRequire("bYNp4"),$a8f0db2f49f3392c$export$3e22a96a58989a47=(e=>(e[e.RED=0]="RED",e[e.ORANGE=1]="ORANGE",e[e.YELLOW=2]="YELLOW",e[e.CHARTREUSE=3]="CHARTREUSE",e[e.GREEN=4]="GREEN",e[e.SPRING_GREEN=5]="SPRING_GREEN",e[e.CYAN=6]="CYAN",e[e.AZURE=7]="AZURE",e[e.BLUE=8]="BLUE",e[e.VIOLET=9]="VIOLET",e[e.MAGENTA=10]="MAGENTA",e[e.ROSE=11]="ROSE",e))($a8f0db2f49f3392c$export$3e22a96a58989a47||{});class $a8f0db2f49f3392c$export$f0e1837cf5c5bd36{constructor(e,t){this.mode=e,this.value=t}deref(){return this.value}}const $052602f055376d42$export$626336c2cd4b14de=(e=0)=>t=>(100*t).toFixed(e)+"%";Object.freeze([0,0,0,1]),Object.freeze([1,1,1,1]),Object.freeze([1,0,0,1]),Object.freeze([0,1,0,1]),Object.freeze([0,0,1,1]),Object.freeze([0,1,1,1]),Object.freeze([1,0,1,1]),Object.freeze([1,1,0,1]);const $c8f1865052673f80$export$1a74005704ec0a02=[.2126,.7152,.0722],$c8f1865052673f80$export$5bd959522fbb33fb=[3.1338561,-.9787684,.0719453,-1.6168667,1.9161415,-.2289914,-.4906146,.033454,1.4052427],$c8f1865052673f80$export$eea70998d27a3f6e=[.96422,1,.82521];$860374998d9c66e5$export$6b5cd3983e3ee5ab(3),$052602f055376d42$export$626336c2cd4b14de(3);const $c8f1865052673f80$export$e3eaf67d84630857=1/255,$524a5ab1afc12fda$export$f36c8c226353f2dd={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32",transparent:"0000",rebeccapurple:"639"};let $98f9756e4eff7cb1$export$80420cae396846ed={canvas:"fff",canvastext:"000",linktext:"001ee4",visitedtext:"4e2386",activetext:"eb3323",buttonface:"ddd",buttontext:"000",buttonborder:"000",field:"fff",fieldtext:"000",highlight:"bbd5fb",highlighttext:"000",mark:"000",marktext:"fff",graytext:"808080"};const $01aaeea7479387b1$export$b9b70ffa6eb909fa=(e,t)=>$4e7503a19e75dec6$export$abee0037e1db715(e||[],(t>>>16&255)*$c8f1865052673f80$export$e3eaf67d84630857,(t>>>8&255)*$c8f1865052673f80$export$e3eaf67d84630857,(255&t)*$c8f1865052673f80$export$e3eaf67d84630857,(t>>>24)*$c8f1865052673f80$export$e3eaf67d84630857),$01aaeea7479387b1$export$bb762bbbffb67d5=(e,t)=>$4e7503a19e75dec6$export$abee0037e1db715(e||[],(255&t)*$c8f1865052673f80$export$e3eaf67d84630857,(t>>>8&255)*$c8f1865052673f80$export$e3eaf67d84630857,(t>>>16&255)*$c8f1865052673f80$export$e3eaf67d84630857,(t>>>24)*$c8f1865052673f80$export$e3eaf67d84630857),$14119a680be17dfe$export$59ad369bf4938177=e=>{let t=$524a5ab1afc12fda$export$f36c8c226353f2dd[e=($a1dcefec69ce1fa4$export$844ec244b1367d54(e)?e:e.deref()).toLowerCase()]||$98f9756e4eff7cb1$export$80420cae396846ed[e];if(t||"#"===e[0])return new $a8f0db2f49f3392c$export$f0e1837cf5c5bd36("srgb",$01aaeea7479387b1$export$b9b70ffa6eb909fa([],$14119a680be17dfe$export$103711ef09c6edec(t||e)));let r=e.split(/[(),/ ]+/),[n,i,a,o,s]=r;switch($f7dec846ea820c35$export$a7a9523472993e97(5===r.length||6===r.length,`invalid color: ${e}`),n){case"rgb":case"rgba":return new $a8f0db2f49f3392c$export$f0e1837cf5c5bd36("srgb",[$14119a680be17dfe$var$__numOrPercent(i,1,$c8f1865052673f80$export$e3eaf67d84630857,!0),$14119a680be17dfe$var$__numOrPercent(a,1,$c8f1865052673f80$export$e3eaf67d84630857,!0),$14119a680be17dfe$var$__numOrPercent(o,1,$c8f1865052673f80$export$e3eaf67d84630857,!0),$14119a680be17dfe$var$__alpha(s)]);case"hsl":case"hsla":return new $a8f0db2f49f3392c$export$f0e1837cf5c5bd36("hsl",[$14119a680be17dfe$var$__hue(i),$14119a680be17dfe$var$__percent(a),$14119a680be17dfe$var$__percent(o),$14119a680be17dfe$var$__alpha(s)]);case"lab":return new $a8f0db2f49f3392c$export$f0e1837cf5c5bd36("lab50",[$14119a680be17dfe$var$__numOrPercent(i),$14119a680be17dfe$var$__numOrPercent(a,1.25),$14119a680be17dfe$var$__numOrPercent(o,1.25),$14119a680be17dfe$var$__alpha(s)]);case"lch":return new $a8f0db2f49f3392c$export$f0e1837cf5c5bd36(n,[$14119a680be17dfe$var$__numOrPercent(i),$14119a680be17dfe$var$__numOrPercent(a,1.5),$14119a680be17dfe$var$__hue(o),$14119a680be17dfe$var$__alpha(s)]);case"oklab":return new $a8f0db2f49f3392c$export$f0e1837cf5c5bd36(n,[$14119a680be17dfe$var$__numOrPercent(i,1,1),$14119a680be17dfe$var$__numOrPercent(a,.4,1),$14119a680be17dfe$var$__numOrPercent(o,.4,1),$14119a680be17dfe$var$__alpha(s)]);case"oklch":return new $a8f0db2f49f3392c$export$f0e1837cf5c5bd36(n,[$14119a680be17dfe$var$__numOrPercent(i,1,1),$14119a680be17dfe$var$__numOrPercent(a,.4,1),$14119a680be17dfe$var$__hue(o),$14119a680be17dfe$var$__alpha(s)]);default:(0,$eyNeX.unsupported)(`color mode: ${n}`)}},$14119a680be17dfe$var$HUE_NORMS={rad:$e8ecb463a815ed57$export$ad5b0b9ab7d48f58,grad:400,turn:1,deg:360},$14119a680be17dfe$var$__hue=e=>{let t=/^(-?[0-9.]+)(deg|rad|grad|turn)?$/.exec(e);return $f7dec846ea820c35$export$a7a9523472993e97(!!t,`expected hue, got: ${e}`),$9f3e007dfc2b4a95$export$a57bfe0eb79af278(parseFloat(t[1])/($14119a680be17dfe$var$HUE_NORMS[t[2]]||360))},$14119a680be17dfe$var$__alpha=e=>e?$14119a680be17dfe$var$__numOrPercent(e,1,1,!0):1,$14119a680be17dfe$var$__percent=(e,t=!0)=>{$f7dec846ea820c35$export$a7a9523472993e97(/^([0-9.]+)%$/.test(e),`expected percentage, got: ${e}`);let r=parseFloat(e)/100;return t?(0,$bYNp4.clamp01)(r):r},$14119a680be17dfe$var$__numOrPercent=(e,t=1,r=.01,n=!1)=>{$f7dec846ea820c35$export$a7a9523472993e97(/^-?[0-9.]+%?$/.test(e),`expected number or percentage, got: ${e}`);let i=parseFloat(e)*(e.endsWith("%")?.01*t:r);return n?(0,$bYNp4.clamp01)(i):i},$14119a680be17dfe$export$103711ef09c6edec=e=>{let t=/^#?([0-9a-f]{3,8})$/i.exec(e);if(t){let e=t[1],r=parseInt(e,16);switch(e.length){case 3:return(0xff000000|$da92233956738598$export$dd24dc7e49b6b0eb(r))>>>0;case 4:return $98634a62a0a86ff8$export$b8ff662d454dbe46($da92233956738598$export$aea914411a6b4fb(r),8);case 6:return(0xff000000|r)>>>0;case 8:return $98634a62a0a86ff8$export$b8ff662d454dbe46(r,8)}}return $59d96a32eb3b2334$export$85f6a9f917d452ba(`invalid hex color: "${e}"`)};var $bYNp4=parcelRequire("bYNp4");const $8f95e2aa30b8d61b$export$4598496351993abf=(e,t=1)=>void 0!=e?(0,$bYNp4.clamp01)(e):t,$8f95e2aa30b8d61b$export$be435c896a95082=e=>{if("number"==typeof e[0])switch(e.length){case 1:return e.push(0,0,1),[e];case 2:return e.push(0,1),[e];case 3:return e.push(1),[e];default:return[e]}return e},$04115fa0004dba84$export$dd366fca209b6b9f=e=>{let t=e.channels||{},r=e.order,n=r.length;r.reduce((e,r)=>(e[r]={range:[0,1],...t[r]},e),t);let i=Object.freeze(r.map(e=>t[e].range[0])),a=Object.freeze(r.map(e=>t[e].range[1])),o=$eab63462a8c01445$export$a7c139a4194832bf([],i),s=$eab63462a8c01445$export$a7c139a4194832bf([],a);o[n-1]=1;let p=r.findIndex(e=>!!t[e].hue),d=class{constructor(e,t=0,r=1){this.offset=t,this.stride=r,this.buf=e||[0,0,0,0],this.offset=t,this.stride=r}buf;get mode(){return e.mode}get length(){return n}get range(){return[i,a]}get[Symbol.toStringTag](){return e.mode}get xyz(){return[this[0],this[1],this[2]]}[Symbol.iterator](){return $78f75908f41386da$export$de7c8d5f4bf654ca(this.buf,this.length,this.offset,this.stride)}copy(){return new d(this.deref())}copyView(){return new d(this.buf,this.offset,this.stride)}empty(){return new d}deref(){return[this[0],this[1],this[2],this[3]]}set(e){return $eab63462a8c01445$export$a7c139a4194832bf(this,e)}clamp(){return p>=0&&(this[p]=$9f3e007dfc2b4a95$export$a57bfe0eb79af278(this[p])),$fab58e6c1b99830f$export$4cfdf484c27efa43(null,this,i,a),this}eqDelta(e,t=$e8ecb463a815ed57$export$56469a43a57ad8b6){return $5f90870d07c5f588$export$215c4845217d5cf1(this,e,t)}randomize(e){return $b29e6a034f17b70c$export$a3bd1ea0f114ec36(this,o,s,e)}toJSON(){return this.deref()}toString(){return $e1e6c6e99a0bd37d$export$6074e20ba5c64bef(4,4)(this)}};$d74c9a8e32c2021d$export$372fdd3dd278cc1c(d.prototype,r),$2b16f1f23e5716a3$export$b07aeb3c205b1fa7(e.mode,e.from),$2b16f1f23e5716a3$export$b07aeb3c205b1fa7("rgb",{[e.mode]:e.toRgb});let l=(t,r,n)=>{let i=new d(...n);return r!==e.mode?$2b16f1f23e5716a3$export$9c68d69a4c5bbcf9(i,t,e.mode,r):i.set(t)},c=(t,...r)=>null==t?new d:$a1dcefec69ce1fa4$export$844ec244b1367d54(t)?c($14119a680be17dfe$export$59ad369bf4938177(t),...r):$9ae7037907d47505$export$1e2f57719e155213(t)?$a1dcefec69ce1fa4$export$844ec244b1367d54(t.mode)?l(t,t.mode,r):new d(t,...r):$fc452ca3333d839e$export$c915e14294a7d06f(t,"deref")?l(t.deref(),t.mode,r):$5ad3dd233a96fcb0$export$7e4aa119212bc614(t)?r.length&&r.every($5ad3dd233a96fcb0$export$7e4aa119212bc614)?new d(...$8f95e2aa30b8d61b$export$be435c896a95082([t,...r])):l($01aaeea7479387b1$export$b9b70ffa6eb909fa([],t),"srgb",r):$59d96a32eb3b2334$export$85f6a9f917d452ba(`can't create a ${e.mode} color from: ${t}`);return c.class=d,c.range=[i,a],c.random=(e,t,r,n)=>new d(t,r,n).randomize(e),c.mapBuffer=(e,t=e.length/n|0,r=0,i=1,a=n)=>$43e63bde939351df$export$e9242f670cb20645(d,e,t,r,i,a),c};var $bYNp4=parcelRequire("bYNp4");const $fb1f8d32179df63c$export$7d15b64cf5a3a4c4=(e,t,r=1)=>$4e7503a19e75dec6$export$abee0037e1db715(e||t,(0,$bYNp4.clamp01)(t[0]),(0,$bYNp4.clamp01)(t[1]),(0,$bYNp4.clamp01)(t[2]),$8f95e2aa30b8d61b$export$4598496351993abf(t[3],r)),$fb1f8d32179df63c$export$dd799b5658f51338=(e,t,r=1)=>$4e7503a19e75dec6$export$abee0037e1db715(e||t,$9f3e007dfc2b4a95$export$a57bfe0eb79af278(t[0]),(0,$bYNp4.clamp01)(t[1]),(0,$bYNp4.clamp01)(t[2]),$8f95e2aa30b8d61b$export$4598496351993abf(t[3],r)),$349577fc28b5dd11$export$61d1db33a18350ee=(e,t)=>{let r=(e=$fb1f8d32179df63c$export$dd799b5658f51338(e||t,t))[1],n=e[2],i=(2-r)*n/2;return e[2]=i,e[1]=i&&i<1?r*n/(i<.5?2*i:2-2*i):r,e},$96491f2c088ba703$export$1d9aa1122f81fc3e=(e,t)=>{let{1:r,2:n}=t;n*=$e8ecb463a815ed57$export$ad5b0b9ab7d48f58;let i=$8f95e2aa30b8d61b$export$4598496351993abf(t[3]);return r>0?$4e7503a19e75dec6$export$abee0037e1db715(e||t,t[0],Math.cos(n)*r,Math.sin(n)*r,i):$4e7503a19e75dec6$export$abee0037e1db715(e||t,t[0],0,0,i)},$d0b96631edf0f5d8$var$__transform=e=>{let t=e**3;return t>.008856?t:(e-16/116)/7.787},$d0b96631edf0f5d8$export$e2f27988cc5b3a12=(e,t,r=$c8f1865052673f80$export$eea70998d27a3f6e)=>{let n=(t[0]+.16)/1.16;return $4e7503a19e75dec6$export$abee0037e1db715(e||t,$d0b96631edf0f5d8$var$__transform(t[1]/5+n)*r[0],$d0b96631edf0f5d8$var$__transform(n)*r[1],$d0b96631edf0f5d8$var$__transform(n-t[2]/2)*r[2],$8f95e2aa30b8d61b$export$4598496351993abf(t[3]))};var $bYNp4=parcelRequire("bYNp4");const $3656bf78cc826999$export$78ae608fdbee4899=(e,t,r=0,n=0,i=1,a=1)=>e[r]*t[n]+e[r+i]*t[n+a]+e[r+2*i]*t[n+2*a],$6820e76bd8c90daf$export$eaa9061711f71897=(e,t,r,n=!1)=>{let i=$3656bf78cc826999$export$78ae608fdbee4899(t,r,0,0,3),a=$3656bf78cc826999$export$78ae608fdbee4899(t,r,1,0,3),o=$3656bf78cc826999$export$78ae608fdbee4899(t,r,2,0,3),s=$8f95e2aa30b8d61b$export$4598496351993abf(r[3]);return n?$4e7503a19e75dec6$export$abee0037e1db715(e||r,(0,$bYNp4.clamp01)(i),(0,$bYNp4.clamp01)(a),(0,$bYNp4.clamp01)(o),s):$4e7503a19e75dec6$export$abee0037e1db715(e||r,i,a,o,s)},$095903aec0bded9b$export$3772e887938e648f=(e,t,r=$c8f1865052673f80$export$5bd959522fbb33fb)=>$6820e76bd8c90daf$export$eaa9061711f71897(e,r,t),$6bc0cb7b726befec$export$62c4a88ec5f406a7=(e,t)=>$095903aec0bded9b$export$3772e887938e648f(null,$d0b96631edf0f5d8$export$e2f27988cc5b3a12(e,t));var $bYNp4=parcelRequire("bYNp4");const $d424e114442d04db$export$e6056cb2e71b648d=(e,t)=>{let r=(e=$fb1f8d32179df63c$export$7d15b64cf5a3a4c4(e||t,t))[1]<e[2]?[e[2],e[1],-1,2/3]:[e[1],e[2],0,-1/3],n=e[0]<r[0]?[r[0],r[1],r[3],e[0]]:[e[0],r[1],r[2],r[0]],i=n[0]-Math.min(n[1],n[3]);return $4e7503a19e75dec6$export$ba8c70ce75474f8d(e,(0,$bYNp4.clamp01)(Math.abs((n[3]-n[1])/(6*i+$e8ecb463a815ed57$export$56469a43a57ad8b6)+n[2])),(0,$bYNp4.clamp01)(i),(0,$bYNp4.clamp01)(n[0]))},$d33f121a5ff112f3$export$ebedcdd15cc9bf0a=(e,t)=>(e=$d424e114442d04db$export$e6056cb2e71b648d(e,t),e[2]-=.5*e[1],e[1]/=1+$e8ecb463a815ed57$export$56469a43a57ad8b6-Math.abs(2*e[2]-1),e),$5be17e1fe1ce9375$export$5b10bb54545ea67e=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,$5be17e1fe1ce9375$export$7a3b4878f4bbb062=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4),$388e86d7d4567f5a$export$b06545aaa0d83879=(e,t)=>$4e7503a19e75dec6$export$abee0037e1db715(e||t,$5be17e1fe1ce9375$export$5b10bb54545ea67e(t[0]),$5be17e1fe1ce9375$export$5b10bb54545ea67e(t[1]),$5be17e1fe1ce9375$export$5b10bb54545ea67e(t[2]),$8f95e2aa30b8d61b$export$4598496351993abf(t[3]));var $bYNp4=parcelRequire("bYNp4"),$bYNp4=parcelRequire("bYNp4");const $7e02ed4143b0a33c$export$3d9bf1c19a0bc433=(e,t,r=1)=>(t=6*$9f3e007dfc2b4a95$export$a57bfe0eb79af278(t),$4e7503a19e75dec6$export$abee0037e1db715(e||[],(0,$bYNp4.clamp01)(Math.abs(t-3)-1),(0,$bYNp4.clamp01)(2-Math.abs(t-2)),(0,$bYNp4.clamp01)(2-Math.abs(t-4)),r)),$6aa657369daf25f9$export$8b5c95800cbf8ce0=(e,t)=>{let r=(0,$bYNp4.clamp01)(t[1]),n=(0,$bYNp4.clamp01)(t[2]);e=$7e02ed4143b0a33c$export$3d9bf1c19a0bc433(e||t,t[0],$8f95e2aa30b8d61b$export$4598496351993abf(t[3]));let i=(1-Math.abs(2*n-1))*r;return $4e7503a19e75dec6$export$ba8c70ce75474f8d(e,(e[0]-.5)*i+n,(e[1]-.5)*i+n,(e[2]-.5)*i+n)},$1c292cfdfd890a6f$export$8f4a7c0bb78e6ea8=$04115fa0004dba84$export$dd366fca209b6b9f({mode:"hsl",channels:{h:{hue:!0}},order:["h","s","l","alpha"],from:{rgb:$d33f121a5ff112f3$export$ebedcdd15cc9bf0a,srgb:$d33f121a5ff112f3$export$ebedcdd15cc9bf0a,hsv:$349577fc28b5dd11$export$61d1db33a18350ee,lch:[$96491f2c088ba703$export$1d9aa1122f81fc3e,$6bc0cb7b726befec$export$62c4a88ec5f406a7,$388e86d7d4567f5a$export$b06545aaa0d83879,$d33f121a5ff112f3$export$ebedcdd15cc9bf0a]},toRgb:$6aa657369daf25f9$export$8b5c95800cbf8ce0});var $a6a489719cf81c22$exports={},$a6a489719cf81c22$var$gsl_const={};$a6a489719cf81c22$var$gsl_const.CGS={},$a6a489719cf81c22$var$gsl_const.CGS.SPEED_OF_LIGHT=0x6fae6fce8,$a6a489719cf81c22$var$gsl_const.CGS.GRAVITATIONAL_CONSTANT=6673e-11,$a6a489719cf81c22$var$gsl_const.CGS.PLANCKS_CONSTANT_H=662606896e-35,$a6a489719cf81c22$var$gsl_const.CGS.PLANCKS_CONSTANT_HBAR=105457162825e-38,$a6a489719cf81c22$var$gsl_const.CGS.ASTRONOMICAL_UNIT=0xd9b18cb4eac,$a6a489719cf81c22$var$gsl_const.CGS.LIGHT_YEAR=0xd210ec170b67f00,$a6a489719cf81c22$var$gsl_const.CGS.PARSEC=0x2ad287695fc0d600,$a6a489719cf81c22$var$gsl_const.CGS.GRAV_ACCEL=980.665,$a6a489719cf81c22$var$gsl_const.CGS.ELECTRON_VOLT=1602176487e-21,$a6a489719cf81c22$var$gsl_const.CGS.MASS_ELECTRON=910938188e-36,$a6a489719cf81c22$var$gsl_const.CGS.MASS_MUON=188353109e-33,$a6a489719cf81c22$var$gsl_const.CGS.MASS_PROTON=167262158e-32,$a6a489719cf81c22$var$gsl_const.CGS.MASS_NEUTRON=167492716e-32,$a6a489719cf81c22$var$gsl_const.CGS.RYDBERG=217987196968e-22,$a6a489719cf81c22$var$gsl_const.CGS.BOLTZMANN=13806504e-23,$a6a489719cf81c22$var$gsl_const.CGS.MOLAR_GAS=0x4f4b010,$a6a489719cf81c22$var$gsl_const.CGS.STANDARD_GAS_VOLUME=22710.981,$a6a489719cf81c22$var$gsl_const.CGS.MINUTE=60,$a6a489719cf81c22$var$gsl_const.CGS.HOUR=3600,$a6a489719cf81c22$var$gsl_const.CGS.DAY=86400,$a6a489719cf81c22$var$gsl_const.CGS.WEEK=604800,$a6a489719cf81c22$var$gsl_const.CGS.INCH=2.54,$a6a489719cf81c22$var$gsl_const.CGS.FOOT=30.48,$a6a489719cf81c22$var$gsl_const.CGS.YARD=91.44,$a6a489719cf81c22$var$gsl_const.CGS.MILE=160934.4,$a6a489719cf81c22$var$gsl_const.CGS.NAUTICAL_MILE=185200,$a6a489719cf81c22$var$gsl_const.CGS.FATHOM=182.88,$a6a489719cf81c22$var$gsl_const.CGS.MIL=.00254,$a6a489719cf81c22$var$gsl_const.CGS.POINT=.0352777777778,$a6a489719cf81c22$var$gsl_const.CGS.TEXPOINT=.0351459803515,$a6a489719cf81c22$var$gsl_const.CGS.MICRON=1e-4,$a6a489719cf81c22$var$gsl_const.CGS.ANGSTROM=1e-8,$a6a489719cf81c22$var$gsl_const.CGS.HECTARE=1e8,$a6a489719cf81c22$var$gsl_const.CGS.ACRE=40468564.2241,$a6a489719cf81c22$var$gsl_const.CGS.BARN=1e-24,$a6a489719cf81c22$var$gsl_const.CGS.LITER=1e3,$a6a489719cf81c22$var$gsl_const.CGS.US_GALLON=3785.41178402,$a6a489719cf81c22$var$gsl_const.CGS.QUART=946.352946004,$a6a489719cf81c22$var$gsl_const.CGS.PINT=473.176473002,$a6a489719cf81c22$var$gsl_const.CGS.CUP=236.588236501,$a6a489719cf81c22$var$gsl_const.CGS.FLUID_OUNCE=29.5735295626,$a6a489719cf81c22$var$gsl_const.CGS.TABLESPOON=14.7867647813,$a6a489719cf81c22$var$gsl_const.CGS.TEASPOON=4.92892159375,$a6a489719cf81c22$var$gsl_const.CGS.CANADIAN_GALLON=4546.09,$a6a489719cf81c22$var$gsl_const.CGS.UK_GALLON=4546.092,$a6a489719cf81c22$var$gsl_const.CGS.MILES_PER_HOUR=44.704,$a6a489719cf81c22$var$gsl_const.CGS.KILOMETERS_PER_HOUR=27.7777777778,$a6a489719cf81c22$var$gsl_const.CGS.KNOT=51.4444444444,$a6a489719cf81c22$var$gsl_const.CGS.POUND_MASS=453.59237,$a6a489719cf81c22$var$gsl_const.CGS.OUNCE_MASS=28.349523125,$a6a489719cf81c22$var$gsl_const.CGS.TON=907184.74,$a6a489719cf81c22$var$gsl_const.CGS.METRIC_TON=1e6,$a6a489719cf81c22$var$gsl_const.CGS.UK_TON=1016046.9088,$a6a489719cf81c22$var$gsl_const.CGS.TROY_OUNCE=31.103475,$a6a489719cf81c22$var$gsl_const.CGS.CARAT=.2,$a6a489719cf81c22$var$gsl_const.CGS.UNIFIED_ATOMIC_MASS=1660538782e-33,$a6a489719cf81c22$var$gsl_const.CGS.GRAM_FORCE=980.665,$a6a489719cf81c22$var$gsl_const.CGS.POUND_FORCE=444822.161526,$a6a489719cf81c22$var$gsl_const.CGS.KILOPOUND_FORCE=444822161.526,$a6a489719cf81c22$var$gsl_const.CGS.POUNDAL=13825.5,$a6a489719cf81c22$var$gsl_const.CGS.CALORIE=41868e3,$a6a489719cf81c22$var$gsl_const.CGS.BTU=10550558526.2,$a6a489719cf81c22$var$gsl_const.CGS.THERM=105506e10,$a6a489719cf81c22$var$gsl_const.CGS.HORSEPOWER=7457e6,$a6a489719cf81c22$var$gsl_const.CGS.BAR=1e6,$a6a489719cf81c22$var$gsl_const.CGS.STD_ATMOSPHERE=1013250,$a6a489719cf81c22$var$gsl_const.CGS.TORR=1333.22368421,$a6a489719cf81c22$var$gsl_const.CGS.METER_OF_MERCURY=1333223.68421,$a6a489719cf81c22$var$gsl_const.CGS.INCH_OF_MERCURY=33863.8815789,$a6a489719cf81c22$var$gsl_const.CGS.INCH_OF_WATER=2490.889,$a6a489719cf81c22$var$gsl_const.CGS.PSI=68947.5729317,$a6a489719cf81c22$var$gsl_const.CGS.POISE=1,$a6a489719cf81c22$var$gsl_const.CGS.STOKES=1,$a6a489719cf81c22$var$gsl_const.CGS.STILB=1,$a6a489719cf81c22$var$gsl_const.CGS.LUMEN=1,$a6a489719cf81c22$var$gsl_const.CGS.LUX=1e-4,$a6a489719cf81c22$var$gsl_const.CGS.PHOT=1,$a6a489719cf81c22$var$gsl_const.CGS.FOOTCANDLE=.001076,$a6a489719cf81c22$var$gsl_const.CGS.LAMBERT=1,$a6a489719cf81c22$var$gsl_const.CGS.FOOTLAMBERT=.00107639104,$a6a489719cf81c22$var$gsl_const.CGS.CURIE=37e9,$a6a489719cf81c22$var$gsl_const.CGS.ROENTGEN=258e-9,$a6a489719cf81c22$var$gsl_const.CGS.RAD=100,$a6a489719cf81c22$var$gsl_const.CGS.SOLAR_MASS=198892e28,$a6a489719cf81c22$var$gsl_const.CGS.BOHR_RADIUS=5291772083e-18,$a6a489719cf81c22$var$gsl_const.CGS.NEWTON=1e5,$a6a489719cf81c22$var$gsl_const.CGS.DYNE=1,$a6a489719cf81c22$var$gsl_const.CGS.JOULE=1e7,$a6a489719cf81c22$var$gsl_const.CGS.ERG=1,$a6a489719cf81c22$var$gsl_const.CGS.STEFAN_BOLTZMANN_CONSTANT=567040047374e-16,$a6a489719cf81c22$var$gsl_const.CGS.THOMSON_CROSS_SECTION=665245893699e-36,$a6a489719cf81c22$var$gsl_const.CGSM={},$a6a489719cf81c22$var$gsl_const.CGSM.SPEED_OF_LIGHT=0x6fae6fce8,$a6a489719cf81c22$var$gsl_const.CGSM.GRAVITATIONAL_CONSTANT=6673e-11,$a6a489719cf81c22$var$gsl_const.CGSM.PLANCKS_CONSTANT_H=662606896e-35,$a6a489719cf81c22$var$gsl_const.CGSM.PLANCKS_CONSTANT_HBAR=105457162825e-38,$a6a489719cf81c22$var$gsl_const.CGSM.ASTRONOMICAL_UNIT=0xd9b18cb4eac,$a6a489719cf81c22$var$gsl_const.CGSM.LIGHT_YEAR=0xd210ec170b67f00,$a6a489719cf81c22$var$gsl_const.CGSM.PARSEC=0x2ad287695fc0d600,$a6a489719cf81c22$var$gsl_const.CGSM.GRAV_ACCEL=980.665,$a6a489719cf81c22$var$gsl_const.CGSM.ELECTRON_VOLT=1602176487e-21,$a6a489719cf81c22$var$gsl_const.CGSM.MASS_ELECTRON=910938188e-36,$a6a489719cf81c22$var$gsl_const.CGSM.MASS_MUON=188353109e-33,$a6a489719cf81c22$var$gsl_const.CGSM.MASS_PROTON=167262158e-32,$a6a489719cf81c22$var$gsl_const.CGSM.MASS_NEUTRON=167492716e-32,$a6a489719cf81c22$var$gsl_const.CGSM.RYDBERG=217987196968e-22,$a6a489719cf81c22$var$gsl_const.CGSM.BOLTZMANN=13806504e-23,$a6a489719cf81c22$var$gsl_const.CGSM.MOLAR_GAS=0x4f4b010,$a6a489719cf81c22$var$gsl_const.CGSM.STANDARD_GAS_VOLUME=22710.981,$a6a489719cf81c22$var$gsl_const.CGSM.MINUTE=60,$a6a489719cf81c22$var$gsl_const.CGSM.HOUR=3600,$a6a489719cf81c22$var$gsl_const.CGSM.DAY=86400,$a6a489719cf81c22$var$gsl_const.CGSM.WEEK=604800,$a6a489719cf81c22$var$gsl_const.CGSM.INCH=2.54,$a6a489719cf81c22$var$gsl_const.CGSM.FOOT=30.48,$a6a489719cf81c22$var$gsl_const.CGSM.YARD=91.44,$a6a489719cf81c22$var$gsl_const.CGSM.MILE=160934.4,$a6a489719cf81c22$var$gsl_const.CGSM.NAUTICAL_MILE=185200,$a6a489719cf81c22$var$gsl_const.CGSM.FATHOM=182.88,$a6a489719cf81c22$var$gsl_const.CGSM.MIL=.00254,$a6a489719cf81c22$var$gsl_const.CGSM.POINT=.0352777777778,$a6a489719cf81c22$var$gsl_const.CGSM.TEXPOINT=.0351459803515,$a6a489719cf81c22$var$gsl_const.CGSM.MICRON=1e-4,$a6a489719cf81c22$var$gsl_const.CGSM.ANGSTROM=1e-8,$a6a489719cf81c22$var$gsl_const.CGSM.HECTARE=1e8,$a6a489719cf81c22$var$gsl_const.CGSM.ACRE=40468564.2241,$a6a489719cf81c22$var$gsl_const.CGSM.BARN=1e-24,$a6a489719cf81c22$var$gsl_const.CGSM.LITER=1e3,$a6a489719cf81c22$var$gsl_const.CGSM.US_GALLON=3785.41178402,$a6a489719cf81c22$var$gsl_const.CGSM.QUART=946.352946004,$a6a489719cf81c22$var$gsl_const.CGSM.PINT=473.176473002,$a6a489719cf81c22$var$gsl_const.CGSM.CUP=236.588236501,$a6a489719cf81c22$var$gsl_const.CGSM.FLUID_OUNCE=29.5735295626,$a6a489719cf81c22$var$gsl_const.CGSM.TABLESPOON=14.7867647813,$a6a489719cf81c22$var$gsl_const.CGSM.TEASPOON=4.92892159375,$a6a489719cf81c22$var$gsl_const.CGSM.CANADIAN_GALLON=4546.09,$a6a489719cf81c22$var$gsl_const.CGSM.UK_GALLON=4546.092,$a6a489719cf81c22$var$gsl_const.CGSM.MILES_PER_HOUR=44.704,$a6a489719cf81c22$var$gsl_const.CGSM.KILOMETERS_PER_HOUR=27.7777777778,$a6a489719cf81c22$var$gsl_const.CGSM.KNOT=51.4444444444,$a6a489719cf81c22$var$gsl_const.CGSM.POUND_MASS=453.59237,$a6a489719cf81c22$var$gsl_const.CGSM.OUNCE_MASS=28.349523125,$a6a489719cf81c22$var$gsl_const.CGSM.TON=907184.74,$a6a489719cf81c22$var$gsl_const.CGSM.METRIC_TON=1e6,$a6a489719cf81c22$var$gsl_const.CGSM.UK_TON=1016046.9088,$a6a489719cf81c22$var$gsl_const.CGSM.TROY_OUNCE=31.103475,$a6a489719cf81c22$var$gsl_const.CGSM.CARAT=.2,$a6a489719cf81c22$var$gsl_const.CGSM.UNIFIED_ATOMIC_MASS=1660538782e-33,$a6a489719cf81c22$var$gsl_const.CGSM.GRAM_FORCE=980.665,$a6a489719cf81c22$var$gsl_const.CGSM.POUND_FORCE=444822.161526,$a6a489719cf81c22$var$gsl_const.CGSM.KILOPOUND_FORCE=444822161.526,$a6a489719cf81c22$var$gsl_const.CGSM.POUNDAL=13825.5,$a6a489719cf81c22$var$gsl_const.CGSM.CALORIE=41868e3,$a6a489719cf81c22$var$gsl_const.CGSM.BTU=10550558526.2,$a6a489719cf81c22$var$gsl_const.CGSM.THERM=105506e10,$a6a489719cf81c22$var$gsl_const.CGSM.HORSEPOWER=7457e6,$a6a489719cf81c22$var$gsl_const.CGSM.BAR=1e6,$a6a489719cf81c22$var$gsl_const.CGSM.STD_ATMOSPHERE=1013250,$a6a489719cf81c22$var$gsl_const.CGSM.TORR=1333.22368421,$a6a489719cf81c22$var$gsl_const.CGSM.METER_OF_MERCURY=1333223.68421,$a6a489719cf81c22$var$gsl_const.CGSM.INCH_OF_MERCURY=33863.8815789,$a6a489719cf81c22$var$gsl_const.CGSM.INCH_OF_WATER=2490.889,$a6a489719cf81c22$var$gsl_const.CGSM.PSI=68947.5729317,$a6a489719cf81c22$var$gsl_const.CGSM.POISE=1,$a6a489719cf81c22$var$gsl_const.CGSM.STOKES=1,$a6a489719cf81c22$var$gsl_const.CGSM.STILB=1,$a6a489719cf81c22$var$gsl_const.CGSM.LUMEN=1,$a6a489719cf81c22$var$gsl_const.CGSM.LUX=1e-4,$a6a489719cf81c22$var$gsl_const.CGSM.PHOT=1,$a6a489719cf81c22$var$gsl_const.CGSM.FOOTCANDLE=.001076,$a6a489719cf81c22$var$gsl_const.CGSM.LAMBERT=1,$a6a489719cf81c22$var$gsl_const.CGSM.FOOTLAMBERT=.00107639104,$a6a489719cf81c22$var$gsl_const.CGSM.CURIE=37e9,$a6a489719cf81c22$var$gsl_const.CGSM.ROENTGEN=258e-10,$a6a489719cf81c22$var$gsl_const.CGSM.RAD=100,$a6a489719cf81c22$var$gsl_const.CGSM.SOLAR_MASS=198892e28,$a6a489719cf81c22$var$gsl_const.CGSM.BOHR_RADIUS=5291772083e-18,$a6a489719cf81c22$var$gsl_const.CGSM.NEWTON=1e5,$a6a489719cf81c22$var$gsl_const.CGSM.DYNE=1,$a6a489719cf81c22$var$gsl_const.CGSM.JOULE=1e7,$a6a489719cf81c22$var$gsl_const.CGSM.ERG=1,$a6a489719cf81c22$var$gsl_const.CGSM.STEFAN_BOLTZMANN_CONSTANT=567040047374e-16,$a6a489719cf81c22$var$gsl_const.CGSM.THOMSON_CROSS_SECTION=665245893699e-36,$a6a489719cf81c22$var$gsl_const.CGSM.BOHR_MAGNETON=927400899e-29,$a6a489719cf81c22$var$gsl_const.CGSM.NUCLEAR_MAGNETON=505078317e-32,$a6a489719cf81c22$var$gsl_const.CGSM.ELECTRON_MAGNETIC_MOMENT=928476362e-29,$a6a489719cf81c22$var$gsl_const.CGSM.PROTON_MAGNETIC_MOMENT=1410606633e-32,$a6a489719cf81c22$var$gsl_const.CGSM.FARADAY=9648.53429775,$a6a489719cf81c22$var$gsl_const.CGSM.ELECTRON_CHARGE=1602176487e-29,$a6a489719cf81c22$var$gsl_const.MKS={},$a6a489719cf81c22$var$gsl_const.MKS.SPEED_OF_LIGHT=0x11de784a,$a6a489719cf81c22$var$gsl_const.MKS.GRAVITATIONAL_CONSTANT=6673e-14,$a6a489719cf81c22$var$gsl_const.MKS.PLANCKS_CONSTANT_H=662606896e-42,$a6a489719cf81c22$var$gsl_const.MKS.PLANCKS_CONSTANT_HBAR=105457162825e-45,$a6a489719cf81c22$var$gsl_const.MKS.ASTRONOMICAL_UNIT=0x22d4ba5a63,$a6a489719cf81c22$var$gsl_const.MKS.LIGHT_YEAR=946053620707e4,$a6a489719cf81c22$var$gsl_const.MKS.PARSEC=308567758135e5,$a6a489719cf81c22$var$gsl_const.MKS.GRAV_ACCEL=9.80665,$a6a489719cf81c22$var$gsl_const.MKS.ELECTRON_VOLT=1602176487e-28,$a6a489719cf81c22$var$gsl_const.MKS.MASS_ELECTRON=910938188e-39,$a6a489719cf81c22$var$gsl_const.MKS.MASS_MUON=188353109e-36,$a6a489719cf81c22$var$gsl_const.MKS.MASS_PROTON=167262158e-35,$a6a489719cf81c22$var$gsl_const.MKS.MASS_NEUTRON=167492716e-35,$a6a489719cf81c22$var$gsl_const.MKS.RYDBERG=217987196968e-29,$a6a489719cf81c22$var$gsl_const.MKS.BOLTZMANN=13806504e-30,$a6a489719cf81c22$var$gsl_const.MKS.MOLAR_GAS=8.314472,$a6a489719cf81c22$var$gsl_const.MKS.STANDARD_GAS_VOLUME=.022710981,$a6a489719cf81c22$var$gsl_const.MKS.MINUTE=60,$a6a489719cf81c22$var$gsl_const.MKS.HOUR=3600,$a6a489719cf81c22$var$gsl_const.MKS.DAY=86400,$a6a489719cf81c22$var$gsl_const.MKS.WEEK=604800,$a6a489719cf81c22$var$gsl_const.MKS.INCH=.0254,$a6a489719cf81c22$var$gsl_const.MKS.FOOT=.3048,$a6a489719cf81c22$var$gsl_const.MKS.YARD=.9144,$a6a489719cf81c22$var$gsl_const.MKS.MILE=1609.344,$a6a489719cf81c22$var$gsl_const.MKS.NAUTICAL_MILE=1852,$a6a489719cf81c22$var$gsl_const.MKS.FATHOM=1.8288,$a6a489719cf81c22$var$gsl_const.MKS.MIL=254e-7,$a6a489719cf81c22$var$gsl_const.MKS.POINT=352777777778e-15,$a6a489719cf81c22$var$gsl_const.MKS.TEXPOINT=351459803515e-15,$a6a489719cf81c22$var$gsl_const.MKS.MICRON=1e-6,$a6a489719cf81c22$var$gsl_const.MKS.ANGSTROM=1e-10,$a6a489719cf81c22$var$gsl_const.MKS.HECTARE=1e4,$a6a489719cf81c22$var$gsl_const.MKS.ACRE=4046.85642241,$a6a489719cf81c22$var$gsl_const.MKS.BARN=1e-28,$a6a489719cf81c22$var$gsl_const.MKS.LITER=.001,$a6a489719cf81c22$var$gsl_const.MKS.US_GALLON=.00378541178402,$a6a489719cf81c22$var$gsl_const.MKS.QUART=946352946004e-15,$a6a489719cf81c22$var$gsl_const.MKS.PINT=473176473002e-15,$a6a489719cf81c22$var$gsl_const.MKS.CUP=236588236501e-15,$a6a489719cf81c22$var$gsl_const.MKS.FLUID_OUNCE=295735295626e-16,$a6a489719cf81c22$var$gsl_const.MKS.TABLESPOON=147867647813e-16,$a6a489719cf81c22$var$gsl_const.MKS.TEASPOON=492892159375e-17,$a6a489719cf81c22$var$gsl_const.MKS.CANADIAN_GALLON=.00454609,$a6a489719cf81c22$var$gsl_const.MKS.UK_GALLON=.004546092,$a6a489719cf81c22$var$gsl_const.MKS.MILES_PER_HOUR=.44704,$a6a489719cf81c22$var$gsl_const.MKS.KILOMETERS_PER_HOUR=.277777777778,$a6a489719cf81c22$var$gsl_const.MKS.KNOT=.514444444444,$a6a489719cf81c22$var$gsl_const.MKS.POUND_MASS=.45359237,$a6a489719cf81c22$var$gsl_const.MKS.OUNCE_MASS=.028349523125,$a6a489719cf81c22$var$gsl_const.MKS.TON=907.18474,$a6a489719cf81c22$var$gsl_const.MKS.METRIC_TON=1e3,$a6a489719cf81c22$var$gsl_const.MKS.UK_TON=1016.0469088,$a6a489719cf81c22$var$gsl_const.MKS.TROY_OUNCE=.031103475,$a6a489719cf81c22$var$gsl_const.MKS.CARAT=2e-4,$a6a489719cf81c22$var$gsl_const.MKS.UNIFIED_ATOMIC_MASS=1660538782e-36,$a6a489719cf81c22$var$gsl_const.MKS.GRAM_FORCE=.00980665,$a6a489719cf81c22$var$gsl_const.MKS.POUND_FORCE=4.44822161526,$a6a489719cf81c22$var$gsl_const.MKS.KILOPOUND_FORCE=4448.22161526,$a6a489719cf81c22$var$gsl_const.MKS.POUNDAL=.138255,$a6a489719cf81c22$var$gsl_const.MKS.CALORIE=4.1868,$a6a489719cf81c22$var$gsl_const.MKS.BTU=1055.05585262,$a6a489719cf81c22$var$gsl_const.MKS.THERM=105506e3,$a6a489719cf81c22$var$gsl_const.MKS.HORSEPOWER=745.7,$a6a489719cf81c22$var$gsl_const.MKS.BAR=1e5,$a6a489719cf81c22$var$gsl_const.MKS.STD_ATMOSPHERE=101325,$a6a489719cf81c22$var$gsl_const.MKS.TORR=133.322368421,$a6a489719cf81c22$var$gsl_const.MKS.METER_OF_MERCURY=133322.368421,$a6a489719cf81c22$var$gsl_const.MKS.INCH_OF_MERCURY=3386.38815789,$a6a489719cf81c22$var$gsl_const.MKS.INCH_OF_WATER=249.0889,$a6a489719cf81c22$var$gsl_const.MKS.PSI=6894.75729317,$a6a489719cf81c22$var$gsl_const.MKS.POISE=.1,$a6a489719cf81c22$var$gsl_const.MKS.STOKES=1e-4,$a6a489719cf81c22$var$gsl_const.MKS.STILB=1e4,$a6a489719cf81c22$var$gsl_const.MKS.LUMEN=1,$a6a489719cf81c22$var$gsl_const.MKS.LUX=1,$a6a489719cf81c22$var$gsl_const.MKS.PHOT=1e4,$a6a489719cf81c22$var$gsl_const.MKS.FOOTCANDLE=10.76,$a6a489719cf81c22$var$gsl_const.MKS.LAMBERT=1e4,$a6a489719cf81c22$var$gsl_const.MKS.FOOTLAMBERT=10.7639104,$a6a489719cf81c22$var$gsl_const.MKS.CURIE=37e9,$a6a489719cf81c22$var$gsl_const.MKS.ROENTGEN=258e-6,$a6a489719cf81c22$var$gsl_const.MKS.RAD=.01,$a6a489719cf81c22$var$gsl_const.MKS.SOLAR_MASS=198892e25,$a6a489719cf81c22$var$gsl_const.MKS.BOHR_RADIUS=5291772083e-20,$a6a489719cf81c22$var$gsl_const.MKS.NEWTON=1,$a6a489719cf81c22$var$gsl_const.MKS.DYNE=1e-5,$a6a489719cf81c22$var$gsl_const.MKS.JOULE=1,$a6a489719cf81c22$var$gsl_const.MKS.ERG=1e-7,$a6a489719cf81c22$var$gsl_const.MKS.STEFAN_BOLTZMANN_CONSTANT=567040047374e-19,$a6a489719cf81c22$var$gsl_const.MKS.THOMSON_CROSS_SECTION=665245893699e-40,$a6a489719cf81c22$var$gsl_const.MKS.BOHR_MAGNETON=927400899e-32,$a6a489719cf81c22$var$gsl_const.MKS.NUCLEAR_MAGNETON=505078317e-35,$a6a489719cf81c22$var$gsl_const.MKS.ELECTRON_MAGNETIC_MOMENT=928476362e-32,$a6a489719cf81c22$var$gsl_const.MKS.PROTON_MAGNETIC_MOMENT=1410606633e-35,$a6a489719cf81c22$var$gsl_const.MKS.FARADAY=96485.3429775,$a6a489719cf81c22$var$gsl_const.MKS.ELECTRON_CHARGE=1602176487e-28,$a6a489719cf81c22$var$gsl_const.MKS.VACUUM_PERMITTIVITY=8854187817e-21,$a6a489719cf81c22$var$gsl_const.MKS.VACUUM_PERMEABILITY=125663706144e-17,$a6a489719cf81c22$var$gsl_const.MKS.DEBYE=333564095198e-41,$a6a489719cf81c22$var$gsl_const.MKS.GAUSS=1e-4,$a6a489719cf81c22$var$gsl_const.MKSA={},$a6a489719cf81c22$var$gsl_const.MKSA.SPEED_OF_LIGHT=0x11de784a,$a6a489719cf81c22$var$gsl_const.MKSA.GRAVITATIONAL_CONSTANT=6673e-14,$a6a489719cf81c22$var$gsl_const.MKSA.PLANCKS_CONSTANT_H=662606896e-42,$a6a489719cf81c22$var$gsl_const.MKSA.PLANCKS_CONSTANT_HBAR=105457162825e-45,$a6a489719cf81c22$var$gsl_const.MKSA.ASTRONOMICAL_UNIT=0x22d4ba5a63,$a6a489719cf81c22$var$gsl_const.MKSA.LIGHT_YEAR=946053620707e4,$a6a489719cf81c22$var$gsl_const.MKSA.PARSEC=308567758135e5,$a6a489719cf81c22$var$gsl_const.MKSA.GRAV_ACCEL=9.80665,$a6a489719cf81c22$var$gsl_const.MKSA.ELECTRON_VOLT=1602176487e-28,$a6a489719cf81c22$var$gsl_const.MKSA.MASS_ELECTRON=910938188e-39,$a6a489719cf81c22$var$gsl_const.MKSA.MASS_MUON=188353109e-36,$a6a489719cf81c22$var$gsl_const.MKSA.MASS_PROTON=167262158e-35,$a6a489719cf81c22$var$gsl_const.MKSA.MASS_NEUTRON=167492716e-35,$a6a489719cf81c22$var$gsl_const.MKSA.RYDBERG=217987196968e-29,$a6a489719cf81c22$var$gsl_const.MKSA.BOLTZMANN=13806504e-30,$a6a489719cf81c22$var$gsl_const.MKSA.MOLAR_GAS=8.314472,$a6a489719cf81c22$var$gsl_const.MKSA.STANDARD_GAS_VOLUME=.022710981,$a6a489719cf81c22$var$gsl_const.MKSA.MINUTE=60,$a6a489719cf81c22$var$gsl_const.MKSA.HOUR=3600,$a6a489719cf81c22$var$gsl_const.MKSA.DAY=86400,$a6a489719cf81c22$var$gsl_const.MKSA.WEEK=604800,$a6a489719cf81c22$var$gsl_const.MKSA.INCH=.0254,$a6a489719cf81c22$var$gsl_const.MKSA.FOOT=.3048,$a6a489719cf81c22$var$gsl_const.MKSA.YARD=.9144,$a6a489719cf81c22$var$gsl_const.MKSA.MILE=1609.344,$a6a489719cf81c22$var$gsl_const.MKSA.NAUTICAL_MILE=1852,$a6a489719cf81c22$var$gsl_const.MKSA.FATHOM=1.8288,$a6a489719cf81c22$var$gsl_const.MKSA.MIL=254e-7,$a6a489719cf81c22$var$gsl_const.MKSA.POINT=352777777778e-15,$a6a489719cf81c22$var$gsl_const.MKSA.TEXPOINT=351459803515e-15,$a6a489719cf81c22$var$gsl_const.MKSA.MICRON=1e-6,$a6a489719cf81c22$var$gsl_const.MKSA.ANGSTROM=1e-10,$a6a489719cf81c22$var$gsl_const.MKSA.HECTARE=1e4,$a6a489719cf81c22$var$gsl_const.MKSA.ACRE=4046.85642241,$a6a489719cf81c22$var$gsl_const.MKSA.BARN=1e-28,$a6a489719cf81c22$var$gsl_const.MKSA.LITER=.001,$a6a489719cf81c22$var$gsl_const.MKSA.US_GALLON=.00378541178402,$a6a489719cf81c22$var$gsl_const.MKSA.QUART=946352946004e-15,$a6a489719cf81c22$var$gsl_const.MKSA.PINT=473176473002e-15,$a6a489719cf81c22$var$gsl_const.MKSA.CUP=236588236501e-15,$a6a489719cf81c22$var$gsl_const.MKSA.FLUID_OUNCE=295735295626e-16,$a6a489719cf81c22$var$gsl_const.MKSA.TABLESPOON=147867647813e-16,$a6a489719cf81c22$var$gsl_const.MKSA.TEASPOON=492892159375e-17,$a6a489719cf81c22$var$gsl_const.MKSA.CANADIAN_GALLON=.00454609,$a6a489719cf81c22$var$gsl_const.MKSA.UK_GALLON=.004546092,$a6a489719cf81c22$var$gsl_const.MKSA.MILES_PER_HOUR=.44704,$a6a489719cf81c22$var$gsl_const.MKSA.KILOMETERS_PER_HOUR=.277777777778,$a6a489719cf81c22$var$gsl_const.MKSA.KNOT=.514444444444,$a6a489719cf81c22$var$gsl_const.MKSA.POUND_MASS=.45359237,$a6a489719cf81c22$var$gsl_const.MKSA.OUNCE_MASS=.028349523125,$a6a489719cf81c22$var$gsl_const.MKSA.TON=907.18474,$a6a489719cf81c22$var$gsl_const.MKSA.METRIC_TON=1e3,$a6a489719cf81c22$var$gsl_const.MKSA.UK_TON=1016.0469088,$a6a489719cf81c22$var$gsl_const.MKSA.TROY_OUNCE=.031103475,$a6a489719cf81c22$var$gsl_const.MKSA.CARAT=2e-4,$a6a489719cf81c22$var$gsl_const.MKSA.UNIFIED_ATOMIC_MASS=1660538782e-36,$a6a489719cf81c22$var$gsl_const.MKSA.GRAM_FORCE=.00980665,$a6a489719cf81c22$var$gsl_const.MKSA.POUND_FORCE=4.44822161526,$a6a489719cf81c22$var$gsl_const.MKSA.KILOPOUND_FORCE=4448.22161526,$a6a489719cf81c22$var$gsl_const.MKSA.POUNDAL=.138255,$a6a489719cf81c22$var$gsl_const.MKSA.CALORIE=4.1868,$a6a489719cf81c22$var$gsl_const.MKSA.BTU=1055.05585262,$a6a489719cf81c22$var$gsl_const.MKSA.THERM=105506e3,$a6a489719cf81c22$var$gsl_const.MKSA.HORSEPOWER=745.7,$a6a489719cf81c22$var$gsl_const.MKSA.BAR=1e5,$a6a489719cf81c22$var$gsl_const.MKSA.STD_ATMOSPHERE=101325,$a6a489719cf81c22$var$gsl_const.MKSA.TORR=133.322368421,$a6a489719cf81c22$var$gsl_const.MKSA.METER_OF_MERCURY=133322.368421,$a6a489719cf81c22$var$gsl_const.MKSA.INCH_OF_MERCURY=3386.38815789,$a6a489719cf81c22$var$gsl_const.MKSA.INCH_OF_WATER=249.0889,$a6a489719cf81c22$var$gsl_const.MKSA.PSI=6894.75729317,$a6a489719cf81c22$var$gsl_const.MKSA.POISE=.1,$a6a489719cf81c22$var$gsl_const.MKSA.STOKES=1e-4,$a6a489719cf81c22$var$gsl_const.MKSA.STILB=1e4,$a6a489719cf81c22$var$gsl_const.MKSA.LUMEN=1,$a6a489719cf81c22$var$gsl_const.MKSA.LUX=1,$a6a489719cf81c22$var$gsl_const.MKSA.PHOT=1e4,$a6a489719cf81c22$var$gsl_const.MKSA.FOOTCANDLE=10.76,$a6a489719cf81c22$var$gsl_const.MKSA.LAMBERT=1e4,$a6a489719cf81c22$var$gsl_const.MKSA.FOOTLAMBERT=10.7639104,$a6a489719cf81c22$var$gsl_const.MKSA.CURIE=37e9,$a6a489719cf81c22$var$gsl_const.MKSA.ROENTGEN=258e-6,$a6a489719cf81c22$var$gsl_const.MKSA.RAD=.01,$a6a489719cf81c22$var$gsl_const.MKSA.SOLAR_MASS=198892e25,$a6a489719cf81c22$var$gsl_const.MKSA.BOHR_RADIUS=5291772083e-20,$a6a489719cf81c22$var$gsl_const.MKSA.NEWTON=1,$a6a489719cf81c22$var$gsl_const.MKSA.DYNE=1e-5,$a6a489719cf81c22$var$gsl_const.MKSA.JOULE=1,$a6a489719cf81c22$var$gsl_const.MKSA.ERG=1e-7,$a6a489719cf81c22$var$gsl_const.MKSA.STEFAN_BOLTZMANN_CONSTANT=567040047374e-19,$a6a489719cf81c22$var$gsl_const.MKSA.THOMSON_CROSS_SECTION=665245893699e-40,$a6a489719cf81c22$var$gsl_const.MKSA.BOHR_MAGNETON=927400899e-32,$a6a489719cf81c22$var$gsl_const.MKSA.NUCLEAR_MAGNETON=505078317e-35,$a6a489719cf81c22$var$gsl_const.MKSA.ELECTRON_MAGNETIC_MOMENT=928476362e-32,$a6a489719cf81c22$var$gsl_const.MKSA.PROTON_MAGNETIC_MOMENT=1410606633e-35,$a6a489719cf81c22$var$gsl_const.MKSA.FARADAY=96485.3429775,$a6a489719cf81c22$var$gsl_const.MKSA.ELECTRON_CHARGE=1602176487e-28,$a6a489719cf81c22$var$gsl_const.MKSA.VACUUM_PERMITTIVITY=8854187817e-21,$a6a489719cf81c22$var$gsl_const.MKSA.VACUUM_PERMEABILITY=125663706144e-17,$a6a489719cf81c22$var$gsl_const.MKSA.DEBYE=333564095198e-41,$a6a489719cf81c22$var$gsl_const.MKSA.GAUSS=1e-4,$a6a489719cf81c22$var$gsl_const.NUM={},$a6a489719cf81c22$var$gsl_const.NUM.FINE_STRUCTURE=.007297352533,$a6a489719cf81c22$var$gsl_const.NUM.AVOGADRO=602214199e15,$a6a489719cf81c22$var$gsl_const.NUM.YOTTA=1e24,$a6a489719cf81c22$var$gsl_const.NUM.ZETTA=1e21,$a6a489719cf81c22$var$gsl_const.NUM.EXA=1e18,$a6a489719cf81c22$var$gsl_const.NUM.PETA=1e15,$a6a489719cf81c22$var$gsl_const.NUM.TERA=1e12,$a6a489719cf81c22$var$gsl_const.NUM.GIGA=1e9,$a6a489719cf81c22$var$gsl_const.NUM.MEGA=1e6,$a6a489719cf81c22$var$gsl_const.NUM.KILO=1e3,$a6a489719cf81c22$var$gsl_const.NUM.MILLI=.001,$a6a489719cf81c22$var$gsl_const.NUM.MICRO=1e-6,$a6a489719cf81c22$var$gsl_const.NUM.NANO=1e-9,$a6a489719cf81c22$var$gsl_const.NUM.PICO=1e-12,$a6a489719cf81c22$var$gsl_const.NUM.FEMTO=1e-15,$a6a489719cf81c22$var$gsl_const.NUM.ATTO=1e-18,$a6a489719cf81c22$var$gsl_const.NUM.ZEPTO=1e-21,$a6a489719cf81c22$var$gsl_const.NUM.YOCTO=1e-24,$a6a489719cf81c22$exports=$a6a489719cf81c22$var$gsl_const;const{max:$60b0df58ad9a2936$var$max}=Math,$60b0df58ad9a2936$export$d538e2b459c01d7=(e=1,t=2,r=1)=>$60b0df58ad9a2936$var$max(1,e-t+1)*t*r;var $60b0df58ad9a2936$export$2e2bcd8739ae039=$60b0df58ad9a2936$export$d538e2b459c01d7,$1349b8dbe392a352$exports={};$1349b8dbe392a352$exports="/** Grid fragment shader. */\n\n/** @todo Use a better setup than this, for tidier ongoing mapping tests. */\n#define test_off 0\n#define test_p2g 1\n#define test_draw 2\n#ifndef test\n  #define test test_off\n#endif\n\n#ifdef GL_EXT_draw_buffers\n  #extension GL_EXT_draw_buffers : require\n#endif\n\nprecision highp float;\n#define GLSLIFY 1\n\ngrid_useSamples\n\n#ifdef grid_output_motionFull\n  grid_useReads_motionFull\n#endif\n#ifdef grid_output_motionBase\n  grid_useReads_motionBase\n#endif\n\n/** @todo `gl-gpgpu` should skip passes with no output; here for mass. */\n#if defined(grid_output_motionFull) || defined(grid_output_motionBase)\n  #ifdef grid_splits\n    uniform sampler2D grid_states[grid_splits];\n  #else\n    uniform sampler2D grid_states;\n  #endif\n\n  uniform float grid_stepNow;\n#endif\n#if defined(grid_output_motionFull)\n  uniform vec4 grid_stateShape;\n#endif\n\n#if defined(grid_output_motionFull) || defined(grid_output_motionBase)\n  uniform vec3 g;\n  uniform float dt;\n\n  #ifdef rescale_mass\n    uniform vec2 rescaleMass;\n  #else\n    const float rescaledMass = 1.0;\n  #endif\n  #ifdef rescale_motion\n    uniform vec2 rescaleMotion;\n  #else\n    const float rescaledMotion = 1.0;\n  #endif\n\n  float when_gt_1540259130(float x, float y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec2 when_gt_1540259130(vec2 x, vec2 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec3 when_gt_1540259130(vec3 x, vec3 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec4 when_gt_1540259130(vec4 x, vec4 y) {\n  return max(sign(x - y), 0.0);\n}\n\n  /**\n * Convenience to sample entries safely at their texel center.\n * Where `spreadUV` is for lookup ranges, `offsetUV` is for lookup queries.\n *\n * @see [`spreadUV`](./spread-uv.glsl)\n *\n * @param {vec2} `uv` UV texture sample coordinate, expect range `[0, 1]`.\n * @param {float|int|vec2|ivec2} `[size=1.0]` Texture's size, expect\n *   `[width, height]`, or if given a scalar interpret both as `side`.\n * @param {float|vec2} `[pad=0.5]` Texel `pad` to offset, expect range `[0, 1]`.\n *\n * @returns {vec2} The `uv` offset by `pad` to texel center, expect range\n *   `[0+pad, 1-pad]`.\n */\n\nvec2 offsetUV(vec2 uv, float size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, vec2 pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, int size, float pad) {\n  return offsetUV(uv, float(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, float pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, vec2 pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, float size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, vec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, int size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, ivec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv) { return offsetUV(uv, 1.0, 0.5); }\n\n  #if defined(rescale_mass) || defined(rescale_motion)\n    /** Exponential notation packed into a vector. */\nfloat exponent(vec2 basePower) { return basePower.s*pow(1e1, basePower.t); }\n\n  #endif\n#endif\n#if defined(grid_output_motionFull)\n  uniform vec4 boundsIn;\n  uniform float boundsHit;\n\n  float when_lt_2281831123(float x, float y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec2 when_lt_2281831123(vec2 x, vec2 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec3 when_lt_2281831123(vec3 x, vec3 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec4 when_lt_2281831123(vec4 x, vec4 y) {\n  return max(sign(y - x), 0.0);\n}\n\n  \n\nfloat when_ge_529295689(float x, float y) {\n  return 1.0 - when_lt_2281831123(x, y);\n}\n\nvec2 when_ge_529295689(vec2 x, vec2 y) {\n  return 1.0 - when_lt_2281831123(x, y);\n}\n\nvec3 when_ge_529295689(vec3 x, vec3 y) {\n  return 1.0 - when_lt_2281831123(x, y);\n}\n\nvec4 when_ge_529295689(vec4 x, vec4 y) {\n  return 1.0 - when_lt_2281831123(x, y);\n}\n\n#endif\n\nvarying vec2 grid_uv;\n\nconst vec2 v1 = vec2(1);\nconst vec2 v0 = v1*0.0;\n\n#if defined(grid_output_motionFull)\n  const float hitStop = 0.0;\n  const float hitBack = 1.0;\n  const float hitBounce = 2.0;\n#endif\n\nvoid main() {\n  #if defined(grid_output_motionFull) || defined(grid_output_motionBase)\n    #ifdef readMass\n    #elif defined(grid_output_motionFull)\n      #define readMass grid_reads_motionFull_mass\n    #elif defined(grid_output_motionBase)\n      #define readMass grid_reads_motionBase_mass\n    #endif\n\n    grid_tapState(offsetUV(grid_uv, grid_stateShape.xy));\n    // grid_tapState(grid_uv);\n\n    #if test == test_p2g\n      // for(int t = 0; t < grid_textures; ++t) { gl_FragData[t] = grid_data[t]; }\n      gl_FragData[0] = grid_data[0];\n      return;\n    #endif\n\n    #ifdef rescale_mass\n      float rescaledMass = exponent(rescaleMass);\n    #endif\n    #ifdef rescale_motion\n      float rescaledMotion = exponent(rescaleMotion);\n    #endif\n\n    float mass = rescaledMass*grid_data[readMass].grid_channels_mass;\n    float on = when_gt_1540259130(mass, 0.0);\n    float massScale = 1.0/mix(1.0, mass, on);\n  #endif\n\n  #ifdef grid_output_motionFull\n    vec2 motionFull = rescaledMotion*\n      grid_data[grid_reads_motionFull_motionFull].grid_channels_motionFull;\n\n    motionFull *= massScale;\n\n    /** External forces. */\n    motionFull += normalize(g.xy-mix(-v1, v1, grid_uv))*g.z*dt;\n\n    /** Boundaries. */\n\n    vec2 at = grid_uv*grid_stateShape.xy;\n\n    vec4 boundsTo = vec4(boundsIn.xy, boundsIn.zw+grid_stateShape.xy)-at.xyxy;\n\n    vec4 boundsOut = vec4(when_gt_1540259130(boundsTo.xy, v0)*when_lt_2281831123(motionFull, v0),\n      when_lt_2281831123(boundsTo.zw, v0)*when_gt_1540259130(motionFull, v0));\n\n    vec2 moveStop = v0;\n    vec2 moveBack = (boundsTo.xy*boundsOut.xy)+(boundsTo.zw*boundsOut.zw);\n    vec2 moveBounce = -motionFull;\n    float geStop = when_ge_529295689(boundsHit, hitStop);\n    float geBack = when_ge_529295689(boundsHit, hitBack);\n    float geBounce = when_ge_529295689(boundsHit, hitBounce);\n    vec2 moveHit = motionFull;\n\n    moveHit = mix(moveHit, moveStop, geStop);\n    moveHit = mix(moveHit, moveBack, geBack);\n    moveHit = mix(moveHit, moveBounce, geBounce);\n    motionFull = mix(motionFull, moveHit, boundsOut.xy+boundsOut.zw);\n\n    // grid_output_motionFull = (on*motionFull)/rescaledMotion;\n    grid_output_motionFull = motionFull/rescaledMotion;\n  #endif\n  #ifdef grid_output_motionBase\n    vec2 motionBase = rescaledMotion*\n      grid_data[grid_reads_motionBase_motionBase].grid_channels_motionBase;\n\n    // grid_output_motionBase = (on*motionBase*massScale)/rescaledMotion;\n    grid_output_motionBase = (motionBase*massScale)/rescaledMotion;\n  #endif\n}\n";var $795e385a4f8b0c98$exports={};$795e385a4f8b0c98$exports="/** Grid-to-points fragment shader. */\n\n#ifdef GL_EXT_draw_buffers\n  #extension GL_EXT_draw_buffers : require\n#endif\n\nprecision highp float;\n#define GLSLIFY 1\n\nstruct Kernel2 {\n  vec2 base;\n  vec2 diff;\n  // Only using `[i].xy` channels of each layer `i`; `vec2[3]` is tricky.\n  mat3 weights;\n};\n\nstruct UP2 {\n  mat2 u;\n  mat2 p;\n};\n\nstruct SVD2 {\n  mat2 u;\n  mat2 sigma;\n  mat2 v;\n};\n\npoints_useSamples\ngrid_useSamples\n\n#ifdef points_useReads_position\n  points_useReads_position\n#endif\n#ifdef points_useReads_motion\n  points_useReads_motion\n#endif\n#ifdef points_useReads_mass\n  points_useReads_mass\n#endif\n#ifdef points_useReads_affine\n  points_useReads_affine\n#endif\n#ifdef points_useReads_deform\n  points_useReads_deform\n#endif\n#ifdef points_useReads_stress\n  points_useReads_stress\n#endif\n\n#if defined(points_output_position) || defined(points_output_motion) || \\\n    defined(points_output_affine)\n  grid_useReads_mass\n#endif\n\n#if defined(points_output_position) || defined(points_output_motion) || \\\n    defined(points_output_affine) || defined(points_output_deform)\n  #ifdef points_splits\n    uniform sampler2D points_states[points_splits];\n  #else\n    uniform sampler2D points_states;\n  #endif\n\n  uniform float points_stepNow;\n  uniform vec4 points_stateShape;\n#endif\n\n#if defined(points_output_position) || defined(points_output_motion) || \\\n    defined(points_output_affine)\n  #ifdef grid_splits\n    uniform sampler2D grid_states[grid_splits];\n  #else\n    uniform sampler2D grid_states;\n  #endif\n\n  uniform float grid_stepNow;\n  uniform vec4 grid_stateShape;\n#endif\n\n#if defined(points_output_mass)\n  /** @todo Move to looking up material types? */\n  uniform float mass;\n#endif\n#if defined(points_output_stress)\n  /** @todo Move to looking up material types? */\n  uniform float volume;\n#endif\n#if defined(points_output_motion)\n  uniform vec2 speedClamp;\n#endif\n#if defined(points_output_position) || defined(points_output_motion)\n  /** Volume change threshold comparison. */\n  uniform vec2 volumeSplit;\n  /** ASFLIP motion adjustment. */\n  uniform float motionAdjust;\n  /** ASFLIP position adjustment range. */\n  uniform vec2 positionAdjusts;\n#endif\n#if defined(points_output_deform) || defined(points_output_stress)\n  /**\n  * Mechanics parameters.\n  *\n  * @todo Move to individual particles looking up material types?\n  */\n\n  /** Bulk modulus. */\n  uniform float bulkMod;\n  /** Shear modulus. */\n  uniform float shearMod;\n#endif\n#if defined(points_output_deform)\n  /**\n  * Plasticity parameters.\n  *\n  * @todo Move to individual particles looking up material types?\n  */\n  uniform float materialFriction;\n#endif\n#if defined(points_output_position)\n  uniform float boundsClamp;\n#endif\n#if defined(points_output_position) || defined(points_output_motion) || \\\n    defined(points_output_affine) || defined(points_output_deform) || \\\n    defined(points_output_stress)\n  uniform float spawnOnAny;\n  uniform float spawnOnOut;\n  uniform float spawnOnSlow;\n  uniform float spawnOnCentre;\n#endif\n#if defined(points_output_motion) || defined(points_output_position)\n  uniform vec3 wander;\n#endif\n\nuniform float dt;\n\nuniform vec4 bounds;\nuniform float chaos;\n\n#ifdef rescale_mass\n  uniform vec2 rescaleMass;\n#else\n  const float rescaledMass = 1.0;\n#endif\n#ifdef rescale_position\n  uniform vec2 rescalePosition;\n#else\n  const float rescaledPosition = 1.0;\n#endif\n#ifdef rescale_motion\n  uniform vec2 rescaleMotion;\n#else\n  const float rescaledMotion = 1.0;\n#endif\n#ifdef rescale_affine\n  uniform vec2 rescaleAffine;\n#else\n  const float rescaledAffine = 1.0;\n#endif\n#ifdef rescale_deform\n  uniform vec2 rescaleDeform;\n#else\n  const float rescaledDeform = 1.0;\n#endif\n#ifdef rescale_stress\n  uniform vec2 rescaleStress;\n#else\n  const float rescaledStress = 1.0;\n#endif\n\nvarying vec2 points_uv;\n\nconst vec2 v1 = vec2(1);\nconst vec2 v0 = v1*0.0;\nconst mat2 m1 = mat2(1);\nconst mat2 m0 = m1*0.0;\nconst vec4 mv0 = vec4(m0);\nconst vec4 mv1 = vec4(m1);\nconst float eps = 1e-6;\n\nfloat when_lt_2281831123(float x, float y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec2 when_lt_2281831123(vec2 x, vec2 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec3 when_lt_2281831123(vec3 x, vec3 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec4 when_lt_2281831123(vec4 x, vec4 y) {\n  return max(sign(y - x), 0.0);\n}\n\nfloat when_gt_529295689(float x, float y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec2 when_gt_529295689(vec2 x, vec2 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec3 when_gt_529295689(vec3 x, vec3 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec4 when_gt_529295689(vec4 x, vec4 y) {\n  return max(sign(x - y), 0.0);\n}\n\nfloat when_le_2658629798(float x, float y) {\n  return 1.0 - when_gt_529295689(x, y);\n}\n\nvec2 when_le_2658629798(vec2 x, vec2 y) {\n  return 1.0 - when_gt_529295689(x, y);\n}\n\nvec3 when_le_2658629798(vec3 x, vec3 y) {\n  return 1.0 - when_gt_529295689(x, y);\n}\n\nvec4 when_le_2658629798(vec4 x, vec4 y) {\n  return 1.0 - when_gt_529295689(x, y);\n}\n\nfloat when_ge_2166047709(float x, float y) {\n  return 1.0 - when_lt_2281831123(x, y);\n}\n\nvec2 when_ge_2166047709(vec2 x, vec2 y) {\n  return 1.0 - when_lt_2281831123(x, y);\n}\n\nvec3 when_ge_2166047709(vec3 x, vec3 y) {\n  return 1.0 - when_lt_2281831123(x, y);\n}\n\nvec4 when_ge_2166047709(vec4 x, vec4 y) {\n  return 1.0 - when_lt_2281831123(x, y);\n}\n\nfloat when_eq_1062606552(float x, float y) {\n  return 1.0 - abs(sign(x - y));\n}\n\nvec2 when_eq_1062606552(vec2 x, vec2 y) {\n  return 1.0 - abs(sign(x - y));\n}\n\nvec3 when_eq_1062606552(vec3 x, vec3 y) {\n  return 1.0 - abs(sign(x - y));\n}\n\nvec4 when_eq_1062606552(vec4 x, vec4 y) {\n  return 1.0 - abs(sign(x - y));\n}\n\n// Math.PI * 2\nconst float TAU = 6.28318530718;\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nfloat determinant(float m) {\n  return m;\n}\n\nfloat determinant(mat2 m) {\n  return m[0][0] * m[1][1] - m[0][1] * m[1][0]; \n}\n\nfloat determinant(mat3 m) {\n  return m[0][0] * (m[2][2]*m[1][1] - m[1][2]*m[2][1])\n       + m[0][1] * (m[1][2]*m[2][0] - m[2][2]*m[1][0])\n       + m[0][2] * (m[2][1]*m[1][0] - m[1][1]*m[2][0]);\n}\n\nfloat determinant(mat4 m) {\n  float\n      b00 = m[0][0] * m[1][1] - m[0][1] * m[1][0],\n      b01 = m[0][0] * m[1][2] - m[0][2] * m[1][0],\n      b02 = m[0][0] * m[1][3] - m[0][3] * m[1][0],\n      b03 = m[0][1] * m[1][2] - m[0][2] * m[1][1],\n      b04 = m[0][1] * m[1][3] - m[0][3] * m[1][1],\n      b05 = m[0][2] * m[1][3] - m[0][3] * m[1][2],\n      b06 = m[2][0] * m[3][1] - m[2][1] * m[3][0],\n      b07 = m[2][0] * m[3][2] - m[2][2] * m[3][0],\n      b08 = m[2][0] * m[3][3] - m[2][3] * m[3][0],\n      b09 = m[2][1] * m[3][2] - m[2][2] * m[3][1],\n      b10 = m[2][1] * m[3][3] - m[2][3] * m[3][1],\n      b11 = m[2][2] * m[3][3] - m[2][3] * m[3][2];\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n\nfloat transpose(float m) {\n  return m;\n}\n\nmat2 transpose(mat2 m) {\n  return mat2(m[0][0], m[1][0],\n              m[0][1], m[1][1]);\n}\n\nmat3 transpose(mat3 m) {\n  return mat3(m[0][0], m[1][0], m[2][0],\n              m[0][1], m[1][1], m[2][1],\n              m[0][2], m[1][2], m[2][2]);\n}\n\nmat4 transpose(mat4 m) {\n  return mat4(m[0][0], m[1][0], m[2][0], m[3][0],\n              m[0][1], m[1][1], m[2][1], m[3][1],\n              m[0][2], m[1][2], m[2][2], m[3][2],\n              m[0][3], m[1][3], m[2][3], m[3][3]);\n}\n\n/**\n * Convenience to sample entries safely at their texel center.\n * Where `spreadUV` is for lookup ranges, `offsetUV` is for lookup queries.\n *\n * @see [`spreadUV`](./spread-uv.glsl)\n *\n * @param {vec2} `uv` UV texture sample coordinate, expect range `[0, 1]`.\n * @param {float|int|vec2|ivec2} `[size=1.0]` Texture's size, expect\n *   `[width, height]`, or if given a scalar interpret both as `side`.\n * @param {float|vec2} `[pad=0.5]` Texel `pad` to offset, expect range `[0, 1]`.\n *\n * @returns {vec2} The `uv` offset by `pad` to texel center, expect range\n *   `[0+pad, 1-pad]`.\n */\n\nvec2 offsetUV(vec2 uv, float size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, vec2 pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, int size, float pad) {\n  return offsetUV(uv, float(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, float pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, vec2 pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, float size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, vec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, int size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, ivec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv) { return offsetUV(uv, 1.0, 0.5); }\n\n// float trace(mat2 m) { return m[0][0]+m[1][1]; }\n\n#define createTrace(f, mat, n) \\\nfloat f(mat m) { \\\n  float t = 0.0; \\\n   \\\n  for(int d = 0; d < n; ++d) { t += m[d][d]; } \\\n   \\\n  return t; \\\n}\n\ncreateTrace(trace, mat2, 2)\ncreateTrace(trace, mat3, 3)\ncreateTrace(trace, mat4, 4)\n\n// mat2 outerProduct(vec2 v0, vec2 v1) { return mat2(v0*v1[0], v0*v1[1]); }\n\n#define createOuterProduct(f, vec, mat, n) \\\nmat f(vec v0, vec v1) { \\\n  mat m; \\\n   \\\n  for(int d = 0; d < n; ++d) { m[d] = v0*v1[d]; } \\\n   \\\n  return m; \\\n}\n\ncreateOuterProduct(outerProduct, vec2, mat2, 2)\ncreateOuterProduct(outerProduct, vec3, mat3, 3)\ncreateOuterProduct(outerProduct, vec4, mat4, 4)\n\n// float area(vec2 v) { return v.x*v.y; }\n\n#define createArea(f, vec, n) \\\nfloat f(vec v) { \\\n  float a = 1.0; \\\n   \\\n  for(int d = 0; d < n; ++d) { a *= v[d]; } \\\n   \\\n  return a; \\\n}\n\ncreateArea(area, vec2, 2)\ncreateArea(area, vec3, 3)\ncreateArea(area, vec4, 4)\n\n#if defined(rescale_mass) || defined(rescale_position) || \\\n    defined(rescale_motion) || defined(rescale_affine) || \\\n    defined(rescale_deform) || defined(rescale_stress)\n  /** Exponential notation packed into a vector. */\nfloat exponent(vec2 basePower) { return basePower.s*pow(1e1, basePower.t); }\n\n#endif\n\n#if defined(points_output_position) || defined(points_output_motion) || \\\n    defined(points_output_affine)\n  /**\n * Quadratic weight kernel.\n *\n * @see [Equation 123, The Material Point Method for Simulating Continuum\n *   Materials (mpm.graphics)](https://drive.google.com/open?id=1rI4gsBH3BstH7EYQA451Pb56MrJ7hVsu&usp=drive_fs)\n * @see [Incremental MPM](https://github.com/nialltl/incremental_mpm/blob/master/Assets/3.%20MLS_MPM_Fluid_Multithreaded/MLS_MPM_Fluid_Multithreaded.cs#L337-L344)\n * @see [MLS-MPM-88](https://github.com/yuanming-hu/taichi_mpm/blob/master/mls-mpm88-explained.cpp#L151-L158)\n *\n * @todo Test more and ensure this is the equivalent lookup.\n */\n\nstruct Kernel3 {\n  vec3 base;\n  vec3 diff;\n  mat3 weights;\n};\n\n/**\n * The cell base for each kernel type.\n *\n * @note Tried implementing the same `int(at)` cast-based truncation logic as\n *   the original, but it led to the simulation exploding, probably because an\n *   array-based grid can't handle negative indices but a texture-based one can,\n *   and truncation must've led to a division by 0 somewhere.\n */\n\n#define createToBaseShort(f, vec) \\\nvec f(vec at) { \\\n  vec base; \\\n   \\\n  return f(at, base); \\\n}\n\n#ifdef kernelTypeCentre\n  #ifdef kernelBaseCast\n    #define createToBase(f, vec, ivec) \\\n    vec f(vec at, out vec base) { return (base = vec(ivec(at))); } \\\n    createToBaseShort(f, vec)\n  #else\n    #define createToBase(f, vec) \\\n    vec f(vec at, out vec base) { return (base = floor(at)); } \\\n    createToBaseShort(f, vec)\n  #endif\n#else\n  /**\n   * @todo Test if this is correct for negative numbers, seems to create gaps\n   *   between positive and negative quadrants.\n   */\n  #ifdef kernelBaseCast\n    #define createToBase(f, vec, ivec) \\\n    vec f(vec at, out vec base) { return (base = vec(ivec(at-0.5))); } \\\n    createToBaseShort(f, vec)\n  #else\n    #define createToBase(f, vec) \\\n    vec f(vec at, out vec base) { return (base = floor(at-0.5)); } \\\n    createToBaseShort(f, vec)\n  #endif\n#endif\n\n#ifdef kernelBaseCast\n  createToBase(toBase, float, int)\n  createToBase(toBase, vec2, ivec2)\n  createToBase(toBase, vec3, ivec3)\n#else\n  createToBase(toBase, float)\n  createToBase(toBase, vec2)\n  createToBase(toBase, vec3)\n#endif\n\n/** The cell base for each kernel type. */\n#define createToDiffShort(f, vec) \\\nvec f(vec at, vec base) { \\\n  vec diff; \\\n   \\\n  return f(at, base, diff); \\\n}\n\n#ifdef kernelTypeCentre\n  #define createToDiff(f, vec) \\\n  vec f(vec at, vec base, out vec diff) { return (diff = (at-base)-0.5); } \\\n  createToDiffShort(f, vec)\n#else\n  #define createToDiff(f, vec) \\\n  vec f(vec at, vec base, out vec diff) { return (diff = at-base); } \\\n  createToDiffShort(f, vec)\n#endif\n\ncreateToDiff(toDiff, float)\ncreateToDiff(toDiff, vec2)\ncreateToDiff(toDiff, vec3)\n\nvec2 toWeight(inout vec2 w, vec2 v) { return w = v; }\nvec2 toWeight(inout vec3 w, vec2 v) { return w.xy = v; }\nvec3 toWeight(inout vec3 w, vec3 v) { return w = v; }\n\n#ifdef kernelTypeCentre\n  #define createToWeightsMain(vec, diff) \\\n    vec w0 = 0.5-diff; \\\n    vec w1 = diff; \\\n    vec w2 = 0.5+diff;\n#else\n  #define createToWeightsMain(vec, diff) \\\n    vec w0 = 1.5-diff; \\\n    vec w1 = diff-1.0; \\\n    vec w2 = diff-0.5;\n#endif\n\n#define createToWeights(f, vec, mat) \\\n \\\nmat f(vec diff, out mat weights) { \\\n  createToWeightsMain(vec, diff) \\\n   \\\n  toWeight(weights[0], 0.5*(w0*w0)); \\\n  toWeight(weights[1], 0.75-(w1*w1)); \\\n  toWeight(weights[2], 0.5*(w2*w2)); \\\n   \\\n  return weights; \\\n} \\\n \\\nmat f(vec diff) { \\\n  mat weights; \\\n   \\\n  return f(diff, weights); \\\n}\n\ncreateToWeights(toWeights, vec2, mat3)\ncreateToWeights(toWeights, vec3, mat3)\n\n#define createToKernel(f, vec, mat, Kernel) \\\n \\\nKernel f(vec at, out vec base, out vec diff, out mat weights) { \\\n  return Kernel(base = toBase(at, base), \\\n    diff = toDiff(at, base, diff), \\\n    weights = toWeights(diff, weights)); \\\n} \\\n \\\nKernel f(vec at, out vec base, out vec diff) { \\\n  mat weights; \\\n   \\\n  return f(at, base, diff, weights); \\\n} \\\n \\\nKernel f(vec at, out vec base) { \\\n  vec diff; \\\n   \\\n  return f(at, base, diff); \\\n} \\\n \\\nKernel f(vec at, out vec base, out mat weights) { \\\n  vec diff; \\\n   \\\n  return f(at, base, diff, weights); \\\n} \\\n \\\nKernel f(vec at, out mat weights) { \\\n  vec base; \\\n   \\\n  return f(at, base, weights); \\\n} \\\n \\\nKernel f(vec at) { \\\n  vec base; \\\n   \\\n  return f(at, base); \\\n}\n\ncreateToKernel(toKernel, vec2, mat3, Kernel2)\ncreateToKernel(toKernel, vec3, mat3, Kernel3)\n\n  /** The cell offset for each kernel type. */\n#define createToOffsetShort(f, vec) \\\nvec f(vec offset) { \\\n  vec to; \\\n   \\\n  return f(offset, to); \\\n}\n\n#ifdef kernelTypeCentre\n  #define createToOffset(f, vec) \\\n  vec f(in vec offset, out vec to) { return (to = offset-1.0); } \\\n  createToOffsetShort(f, vec)\n#else\n  #define createToOffset(f, vec) \\\n  vec f(in vec offset, out vec to) { return (to = offset); } \\\n  createToOffsetShort(f, vec)\n#endif\n\ncreateToOffset(toOffset, float)\ncreateToOffset(toOffset, vec2)\ncreateToOffset(toOffset, vec3)\n\n  /**\n * The distance function for each kernel type.\n *\n * @see [Incremental MPM cell distance](https://github.com/nialltl/incremental_mpm/blob/master/Assets/3.%20MLS_MPM_Fluid_Multithreaded/MLS_MPM_Fluid_Multithreaded.cs#L187-L201)\n * @see [PyASFLIP cell distance](https://github.com/nepluno/pyasflip/blob/master/pyasflip.py#L320-L339)\n * @todo Not sure this is right, the scales might be off.\n * @todo Work out the algebra more nicely in terms of `offset` and `diff`.\n */\n\n#ifdef kernelTypeCentre\n  /**\n   * @example ```\n   * // Goal:\n   * dist(offset, base, at) = ((base+offset-1)-at)+0.5\n   * // From offset:\n   * offset = offset-1\n   * // Thus:\n   * dist(offset = offset-1, base, at) = ((base+offset)-at)+0.5\n   * // From weights:\n   * diff(base, at) = (at-base)-0.5\n   * // And:\n   * base(at) = floor(at)\n   * // @todo The rest\n   * ```\n   *\n   * @todo Derive the form `toDistance(offset, diff)`.\n   */\n  #define createToDistance(f, vec) \\\n   \\\n  vec f(vec offset, vec at, vec base) { return ((base+offset)-at)+0.5; } \\\n   \\\n  vec f(vec offset, vec diff);\n#else\n  \n\n  /**\n   * @example ```\n   * // Goal:\n   * dist(offset, diff) = offset-diff\n   * // From weights:\n   * diff(base, at) = at-base\n   * // Thus:\n   * dist(offset, base, at) = offset-diff(base, at) = offset-(at-base)\n   * ```\n   */\n  #define createToDistance(f, vec) \\\n   \\\n  vec f(vec offset, vec diff) { return offset-diff; } \\\n   \\\n  vec f(vec offset, vec at, vec base) { return f(offset, toDiff(at, base)); }\n#endif\n\ncreateToDistance(toDistance, float)\ncreateToDistance(toDistance, vec2)\ncreateToDistance(toDistance, vec3)\n\n#endif\n#if defined(points_output_deform) || defined(points_output_stress)\n  \n\n/**\n * Perform polar decomposition `(a = up)` for a 2D matrix.\n *\n * @param {mat2} a An input 2D matrix.\n *\n * @returns {struct} `to` Decomposed 2D matrices `u`, `p`.\n * @returns {mat2} `to.u` A 2D orthogonal matrix.\n * @returns {mat2} `to.p` A 2D positive or semi-positive definite matrix.\n *\n * @see [Taichi implementation of 2D matrix polar decomposition](https://github.com/taichi-dev/taichi/blob/e9f19b831c8a7b04a94ff5b06179bbe21f80a783/python/taichi/_funcs.py#L53-L96)\n * @see [Mathematical concept](https://en.wikipedia.org/wiki/Polar_decomposition)\n */\nUP2 toPolar(in mat2 a, out mat2 u, out mat2 p) {\n  UP2 to = UP2(mat2(1), a);\n  vec2 a0 = a[0];\n  vec2 a1 = a[1];\n  float a00 = a0[0];\n  float a01 = a0[1];\n  float a10 = a1[0];\n  float a11 = a1[1];\n\n  // If `a` is a zero matrix we simply return the pair `identity, a`.\n  if(abs(a00)+abs(a01)+abs(a10)+abs(a11) == 0.0) { return to; }\n\n  float aDet = determinant(a);\n  float flip = sign(aDet);\n  mat2 b = mat2(a00+(a11*flip), a01-(a10*flip), a10-(a01*flip), a11+(a00*flip));\n  // Here `det(b) != 0` if `a` is not the zero matrix.\n  float k = 1.0/sqrt(abs(determinant(b)));\n\n  to.u = b*k;\n  to.p = ((transpose(a)*a)+(abs(aDet)*mat2(1)))*k;\n\n  return to;\n}\n\nUP2 toPolar(in mat2 a) {\n  mat2 u;\n  mat2 p;\n\n  return toPolar(a, u, p);\n}\n\nconst float eps_0 = 1e-5;\n\n/**\n * Perform singular value decomposition `(a = us*transpose(v))` for a 2D matrix.\n *\n * @param {mat2} a An input 2D matrix.\n *\n * @returns {struct} `to` Decomposed 2D matrixes `u`, `s`, `v`.\n * @returns {mat2} `to.u` A 2D matrix.\n * @returns {mat2} `to.s` A 2D matrix.\n * @returns {mat2} `to.v` A 2D matrix.\n *\n * @see [Taichi Python code](https://github.com/taichi-dev/taichi/blob/e9f19b831c8a7b04a94ff5b06179bbe21f80a783/python/taichi/_funcs.py#L118-L157)\n * @see [Paper](https://www.seas.upenn.edu/~cffjiang/research/svd/svd.pdf)\n * @see [Mathematical concept](https://en.wikipedia.org/wiki/Singular_value_decomposition)\n */\nSVD2 toSVD(in mat2 a, out mat2 u, out mat2 sigma, out mat2 v) {\n  mat2 r;\n  mat2 s;\n\n  toPolar(a, r, s);\n\n  float vc = 1.0;\n  float vs = 0.0;\n  vec2 s0 = s[0];\n  float s01 = s0[1];\n  float s00 = s0[0];\n  float s11 = s[1][1];\n\n  if(abs(s01) >= eps_0) {\n    float tao = 0.5*(s00-s11);\n    float t = s01/(tao+(sqrt((tao*tao)+(s01*s01))*sign(tao)));\n\n    vs = -t*(vc = 1.0/sqrt((t*t)+1.0));\n\n    float vc2 = vc*vc;\n    float vs2 = vs*vs;\n    float term = 2.0*vc*vs*s01;\n\n    s00 = (vc2*s00)-term+(vs2*s11);\n    s11 = (vs2*s00)+term+(vc2*s11);\n  }\n\n  float f = when_lt_2281831123(s00, s11);\n\n  sigma = mat2(mix(s00, s11, f), 0, 0, mix(s11, s00, f));\n  v = mat2(mix(vc, -vs, f), mix(vs, vc, f), mix(-vs, -vc, f), mix(vc, -vs, f));\n\n  return SVD2(u = r*v, sigma, v);\n}\n\nSVD2 toSVD(in mat2 a) {\n  mat2 u;\n  mat2 sigma;\n  mat2 v;\n\n  return toSVD(a, u, sigma, v);\n}\n\n#endif\n#if defined(points_output_position) || defined(points_output_motion)\n  highp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n  /**\n * @param {float} angle An angle, in radians, expects range `[0, 2*pi]`.\n * @param {float} depth A depth, expects range `[-1, 1]`.\n *\n * @see [Spherical distribution](https://observablehq.com/@rreusser/equally-distributing-points-on-a-sphere)\n */\nvec2 onSphere(float angle) { return vec2(cos(angle), sin(angle)); }\n\nvec3 onSphere(float angle, float depth) {\n  return vec3(sqrt(1.0-(depth*depth))*vec2(cos(angle), sin(angle)), depth);\n}\n\n#endif\n#if defined(points_output_position)\n  \n\nconst vec4 seed = vec4(0.34238, -0.86761, 0.69201, 0.57872);\nconst vec2 off = vec2(-1, 1)*0.49;\n\nvec2 by(vec2 v) { return vec2(random(v.xy+seed.xy), random(v.yx+seed.zw)); }\n\nvec3 by(vec3 v) {\n  return vec3(random(v.xy+seed.xy), random(v.zx+seed.zw), random(v.xz+seed.zx));\n}\n\n#define createSpawn(f, vec, off0, off1) \\\n \\\nvec f(vec at, vec lo, vec hi) { return mix(lo, hi, by(at)); } \\\n \\\nvec f(vec at, vec lo, vec hi, vec scale) { \\\n  return mix(lo, hi, at+(mix(off0, off1, by(at))*scale)); \\\n}\n\ncreateSpawn(spawn_0, vec2, off.xx, off.yy)\ncreateSpawn(spawn_0, vec3, off.xxx, off.yyy)\n\n#endif\n#if defined(points_output_deform)\n  /**\n * Project the singular values of the deformation gradient with Drucker-Prager\n * model. Determines the yield surface.\n *\n * @see [Yue et al. 2018]\n * @see [Taichi PyASFLIP](https://github.com/nepluno/pyasflip/blob/master/pyasflip.py#L206-L244)\n */\n\nconst float eps_1 = 1e-6;\n\nmat2 projectDruckerPrager(inout mat2 sigma,\n    float bulkMod, float shearMod, float friction) {\n  /**\n   * @todo Apply volume recovery, similar to damping.\n   *   Multiply the recorded volume with a rate below one for better stability.\n   *   Needs new material-point property `logSigma` and inputs `volumeRecovery`\n   *   and `volumeRecordLimit`.\n   */\n  // float jse = sigma[0][0]*sigma[1][1];\n  //\n  // for(int c = 0; c < 2; ++c) {\n  //   sigma[c][c] = max(eps, abs(sigma[c][c]*exp(logSigma*volumeRecovery)));\n  // }\n\n  float s00 = sigma[0][0];\n  float s11 = sigma[1][1];\n  float je = max(eps_1, s00*s11);\n\n  if(je >= 1.0) {\n    sigma[0][0] = sigma[1][1] = 1.0;\n\n    /**\n     * @todo Record the geometric mean of per-dimension expansions for later\n     *   volume recovery during compression, refer to [Gao et al. 2018].\n     *   Perform this operation in the log-space for better numerical stability.\n     *   For the same reason, set a limit on the recorded volume expansion.\n     */\n    // logSigma = min(volumeRecordLimit, logSigma+(log(max(eps, jse))*0.5));\n\n    return sigma;\n  }\n\n  /** Check if the stress is inside the feasible region. */\n  // logSigma = 0.0;\n\n  float je2 = je*je;\n  float s00p2 = s00*s00;\n  float s11p2 = s11*s11;\n  float traceB2 = (s00p2+s11p2)*0.5;\n  float yieldLimit = -friction*bulkMod*0.5*(je2-1.0);\n  vec2 bDev = vec2(s00p2, s11p2)-traceB2;\n  float yieldAt = shearMod*sqrt(((bDev[0]*bDev[0])+(bDev[1]*bDev[1]))/je);\n\n  if(yieldAt <= yieldLimit) { return sigma; }\n\n  /** Project to the yield surface. */\n  float bDet = s00p2*s11p2;\n  float bDetDev = bDev[0]*bDev[1];\n  float lambda1 = yieldLimit/max(eps_1, yieldAt);\n  float lambda0 = sqrt(max(0.0, bDet-(lambda1*lambda1*bDetDev)));\n\n  sigma[0][0] = sqrt(abs(lambda0+(lambda1*bDev[0])));\n  sigma[1][1] = sqrt(abs(lambda0+(lambda1*bDev[1])));\n\n  return sigma;\n}\n\n#endif\n#if defined(points_output_stress)\n  /**\n * Compute stress with Simo's [1988] neo-Hookean elasticity.\n *\n * @see [Taichi PyASFLIP](https://github.com/nepluno/pyasflip/blob/master/pyasflip.py#L247-L260)\n */\n\nmat2 neoHookeanElastic(mat2 u, mat2 sigma, float bulkMod, float shearMod) {\n  float s00 = sigma[0][0];\n  float s11 = sigma[1][1];\n  float j = s00*s11;\n  float shear = shearMod*sqrt(j);\n  float bulk = bulkMod*0.5*((j*j)-1.0);\n  float s00p2 = s00*s00;\n  float s11p2 = s11*s11;\n  float s2 = (s00p2+s11p2)*0.5;\n  mat2 stress = mat2(1);\n\n  stress[0][0] = (s00p2-s2)*shear;\n  stress[1][1] = (s11p2-s2)*shear;\n  stress = u*stress*transpose(u);\n  stress[0][0] += bulk;\n  stress[1][1] += bulk;\n\n  return stress;\n}\n\n#endif\n\nvoid main() {\n  #ifdef pReadPosition\n  #elif defined(points_output_position)\n    #define pReadPosition points_reads_position_position\n  #elif defined(points_output_motion)\n    #define pReadPosition points_reads_motion_position\n  #elif defined(points_output_affine)\n    #define pReadPosition points_reads_affine_position\n  #endif\n\n  #ifdef pReadMotion\n  #elif defined(points_output_position)\n    #define pReadMotion points_reads_position_motion\n  #elif defined(points_output_motion)\n    #define pReadMotion points_reads_motion_motion\n  #endif\n\n  #ifdef pReadMass\n  #elif defined(points_output_position)\n    #define pReadMass points_reads_position_mass\n  #elif defined(points_output_motion)\n    #define pReadMass points_reads_motion_mass\n  #elif defined(points_output_mass)\n    #define pReadMass points_reads_mass_mass\n  #elif defined(points_output_affine)\n    #define pReadMass points_reads_affine_mass\n  #elif defined(points_output_deform)\n    #define pReadMass points_reads_deform_mass\n  #elif defined(points_output_stress)\n    #define pReadMass points_reads_stress_mass\n  #endif\n\n  #ifdef pReadDeform\n  #elif defined(points_output_deform)\n    #define pReadDeform points_reads_deform_deform\n  #endif\n\n  #if defined(points_output_position) || defined(points_output_motion) || \\\n      defined(points_output_affine) || defined(points_output_deform)\n    points_tapState(offsetUV(points_uv, points_stateShape.xy));\n    // points_tapState(points_uv);\n  #endif\n\n  #if defined(points_output_position) || defined(points_output_motion) || \\\n      defined(points_output_affine)\n    #ifdef rescale_position\n      float rescaledPosition = exponent(rescalePosition);\n    #endif\n    #ifdef rescale_motion\n      float rescaledMotion = exponent(rescaleMotion);\n    #endif\n    #ifdef rescale_affine\n      float rescaledAffine = exponent(rescaleAffine);\n    #endif\n\n    vec2 pPosition = rescaledPosition*\n      points_data[pReadPosition].points_channels_position;\n\n    vec2 boundsSize = abs(bounds.zw-bounds.xy);\n    float boundsSide = min(boundsSize.x, boundsSize.y);\n\n    /** Read grid material properties on 3 nodes in each axis. */\n    vec2 gMotionFull = v0;\n    vec2 gMotionBase = v0;\n    mat2 gAffine = m0;\n    /** Seems the right range, by trial, versus `[0, grid_stateShape.xy-1]`. */\n    vec2 cellAt = map(pPosition, bounds.xy, bounds.zw, v0, grid_stateShape.xy);\n    Kernel2 kernel = toKernel(cellAt);\n    /** Scale from bounds-space to grid-scale; motions differ from positions. */\n    /**\n     * @todo Verify if this is the real solution or just masking; seems to\n     *   differ from just changing `volumeSplit` values, and offer:\n     *   - Remove jitter at low numbers of particles.\n     *   - Keep close to the reference `volumeSplit` values... reasons unknown.\n     *   - Make some intuitive sense.\n     */\n    // Original.\n    // vec2 scaleBoundsToGrid = grid_stateShape.xy;\n    // Fix or mask?\n    vec2 scaleBoundsToGrid = grid_stateShape.xy/boundsSize;\n    // vec2 scaleBoundsToGrid = grid_stateShape.xy/boundsSide;\n    // Seems to have the same effect as the fix or mask...\n    // vec2 scaleBoundsToGrid = v0;\n\n    for(int gx = 0; gx < kernelSize; ++gx) {\n      for(int gy = 0; gy < kernelSize; ++gy) {\n        vec2 offset = toOffset(vec2(gx, gy));\n        /** Range: `base` is `[0, grid_stateShape.xy-1.0]`, `st` is `[0, 1]`. */\n        vec2 st = (kernel.base+offset)/(grid_stateShape.xy-1.0);\n        float weight = kernel.weights[gx].x*kernel.weights[gy].y;\n\n        grid_tapState(offsetUV(st, grid_stateShape.xy));\n        // grid_tapState(st);\n\n        vec2 cMotionFull = rescaledMotion*\n          grid_data[grid_reads_mass_motionFull].grid_channels_motionFull;\n\n        vec2 cMotionBase = rescaledMotion*\n          grid_data[grid_reads_mass_motionBase].grid_channels_motionBase;\n\n        vec2 wmf = weight*cMotionFull;\n        vec2 wmb = weight*cMotionBase;\n\n        gMotionFull += wmf;\n        gMotionBase += wmb;\n\n        vec2 cellDist = toDistance(offset, cellAt, kernel.base);\n\n        gAffine += rescaledAffine*4.0*weight*\n          outerProduct(cMotionFull*scaleBoundsToGrid, cellDist);\n      }\n    }\n  #endif\n\n  #if defined(points_output_position) || defined(points_output_motion)\n    /**\n    * Mix grid and point velocities for ASFLIP, according to whether the\n    * material is separating.\n    * Mix full-grid-motion with particle-motion minus base-grid-motion - same\n    * as full-grid-motion but without stress or other effects applied, leaving\n    * only those effects when subtracted.\n    *\n    * @see [The ASFLIP paper](https://drive.google.com/open?id=1-3XumWRY5oFtWJdjrpzK9wjY19ukhJxQ&usp=drive_fs)\n    * @see [Taichi PyASFLIP implementation mixing old nodal motion](https://github.com/nepluno/pyasflip/blob/master/pyasflip.py#L410-L415)\n    */\n    vec2 pMotion = rescaledMotion*\n      points_data[pReadMotion].points_channels_motion;\n\n    vec2 motionSplit = motionAdjust*(pMotion-gMotionBase);\n    vec2 wandered = onSphere(map(random(points_uv*chaos), 0.0, 1.0, -TAU, TAU));\n  #endif\n\n  #if defined(points_output_motion)\n    vec2 motionTo = gMotionFull+motionSplit;\n\n    /** Avoid slow spots, wander motion. */\n    float wanderOn = when_ge_2166047709(wander.s, 0.0);\n    float wanderSlow = 1.0-clamp(dot(motionTo, motionTo)*wander.s, 0.0, 1.0);\n\n    motionTo += wanderOn*wanderSlow*wander.t*boundsSide*wandered;\n\n    float speed = length(motionTo);\n    float moving = when_gt_529295689(speed, eps);\n\n    motionTo *= mix(1.0,\n      mix(1.0, min(speed, speedClamp.t), moving)/mix(1.0, speed, moving),\n      speedClamp.s);\n  #endif\n\n  #if defined(points_output_affine) || \\\n      defined(points_output_position) || defined(points_output_deform)\n    mat2 affineTo = gAffine;\n  #endif\n\n  #if defined(points_output_deform) || defined(points_output_position)\n    /**\n     * @todo Deformation and stress should ideally be calculated at the start of\n     *   the time-step not the end. Unsure if it matters much in practice, but\n     *   the output is used to calculate the position (deformation calculates\n     *   the volume which affects ASFLIP positional adjustment), it may be\n     *   better to move the deformation update to a separate step at the start\n     *   of each time-step.\n     *\n     * @see [Taichi PyASFLIP DruckerPrager plasticity, Neo-Hookean Elasticity](https://github.com/nepluno/pyasflip/blob/master/pyasflip.py#L324-L336)\n     */\n\n    #ifdef rescale_deform\n      float rescaledDeform = exponent(rescaleDeform);\n    #endif\n\n    mat2 pDeform = rescaledDeform*\n      mat2(points_data[pReadDeform].points_channels_deform);\n\n    mat2 deformTo = (mat2(1)+(dt*affineTo))*pDeform;\n\n    SVD2 deformSVD = toSVD(deformTo);\n\n    // Plasticity flow.\n    deformSVD.sigma = projectDruckerPrager(deformSVD.sigma,\n      bulkMod, shearMod, materialFriction);\n\n    // Reconstruct elastic deformation gradient after plasticity flow.\n    deformTo = deformSVD.u*deformSVD.sigma*transpose(deformSVD.v);\n  #endif\n\n  #if defined(points_output_position)\n    /**\n     * @todo Try alternative volume ratio for materials where the stress depends\n     *   only on the volume ratio (e.g: weakly-compressible liquid), with large\n     *   timestep.\n     * @see [Equation 6 in ASFLIP paper](https://drive.google.com/open?id=1-3XumWRY5oFtWJdjrpzK9wjY19ukhJxQ&usp=drive_fs)\n     */\n    float volumeRatio = determinant(deformTo);\n\n    /**\n     * @todo Check again if scaling `affine` is fixing or masking the grid\n     *   artefact issue:\n     *   - It seems to help reduce jitter with few points, as well as address\n     *     the grid artefact issue; does this indicate it works, or just reduce\n     *     another artefact with `deform` coincidentally?\n     *   - It seems like the large-scale effect looks little-to-no different to\n     *     setting `positionAdjusts[1]=0`; is it simply doing that, in effect?\n     *   - The key difference in this part of the process is `stress` (and the\n     *     `deform` it relies on): does the issue simply lie in how these are\n     *     calculated, or in them being calculated at the step's end not start?\n     */\n    float dilation = log(max(volumeSplit.s, volumeRatio))+(trace(affineTo)*dt);\n    float dilating = when_ge_2166047709(dilation, volumeSplit.t);\n    float positionAdjust = mix(positionAdjusts.x, positionAdjusts.y, dilating);\n    vec2 positionSplit = positionAdjust*motionSplit;\n    vec2 positionTo = pPosition+((gMotionFull+positionSplit)*dt);\n\n    /** Like fractal Brownian motion to help any stuck clumps separate. */\n    positionTo += wander.p*boundsSide*wandered;\n\n    // Boundaries.\n    positionTo = mix(positionTo,\n      clamp(positionTo, bounds.xy, bounds.zw), boundsClamp);\n  #endif\n\n  /**\n   * @todo This stress update is in grid-to-points just to avoid another\n   *   `toSVD(pDeform)` in the points-to-grid step; reconsider this?\n   */\n  #if defined(points_output_stress)\n    #ifdef rescale_stress\n      float rescaledStress = exponent(rescaleStress);\n    #endif\n\n    /**\n     * `D**-1` term for APIC transfers.\n     *\n     * @see [APIC transfer `D**-1` in paragraph after Eqn. 176](file:///Users/eoghanokeeffe/Library/CloudStorage/GoogleDrive-keeffeoghan@gmail.com/My%20Drive/Read/Fluid%20Continuum%20Physics/Material%20Point%20Method/The%20Material%20Point%20Method%20for%20Simulating%20Continuum%20Materials%20(mpm.graphics).pdf)\n     *\n     * @todo `D**-1` seems to be for points-to-grid transfers, not for\n     *   grid-to-points; should this use the inverse in grid-to-points, or does\n     *   it not matter, or does an issue arise from moving this stress step from\n     *   points-to-grid to grid-to-points?\n     */\n    float dInv = 4.0*area(grid_stateShape.xy);\n    // float dInv = 1.0/(4.0*area(grid_stateShape.xy));\n    // float dInv = 1.0;\n\n    /**\n     * Neo-Hookean elasticity stress to Cauchy stress.\n     *\n     * @see [MLS-MPM-88](https://github.com/yuanming-hu/taichi_mpm/blob/master/mls-mpm88-explained.cpp#L100)\n     * @see [Taichi PyASFLIP](https://github.com/nepluno/pyasflip/blob/master/pyasflip.py#L334)\n     * @see [Incremental MPM](https://github.com/nialltl/incremental_mpm/blob/master/Assets/2.%20MLS_MPM_NeoHookean_Multithreaded/MLS_MPM_NeoHookean_Multithreaded.cs#L262)\n     */\n    // mat2 stressTo = -dt*volume*volumeRatio*dInv*\n    mat2 stressTo = -dt*volume*dInv*\n      neoHookeanElastic(deformSVD.u, deformSVD.sigma, bulkMod, shearMod);\n  #endif\n\n  /** @todo Better to move spawning into another pass for external control? */\n  #if defined(points_output_position) || defined(points_output_motion) || \\\n      defined(points_output_mass) || defined(points_output_affine) || \\\n      defined(points_output_deform) || defined(points_output_stress)\n    #ifdef rescale_mass\n      float rescaledMass = exponent(rescaleMass);\n    #endif\n\n    float pMass = rescaledMass*points_data[pReadMass].points_channels_mass;\n\n    vec2 spawnOut = spawnOnOut*\n      (when_lt_2281831123(positionTo, bounds.xy)+when_lt_2281831123(bounds.zw, positionTo));\n\n    // Avoid slow spots, respawn.\n    float spawnSlow = spawnOnSlow*when_lt_2281831123(dot(motionTo, motionTo), spawnOnSlow);\n\n    // Avoid dead centre.\n    float spawnCentre =\n      spawnOnCentre*when_lt_2281831123(dot(positionTo, positionTo), spawnOnCentre);\n\n    float spawn =\n      spawnOnAny*when_gt_529295689(spawnOut.x+spawnOut.y+spawnSlow+spawnCentre, 0.0);\n  #endif\n  #if defined(points_output_position) || defined(points_output_motion)\n    float hold = when_le_2658629798(pMass, 0.0);\n    float spawnOrHold = max(spawn, hold);\n  #endif\n  #if defined(points_output_motion) || defined(points_output_mass) || \\\n      defined(points_output_affine) || defined(points_output_deform) || \\\n      defined(points_output_stress)\n    float empty = when_eq_1062606552(pMass, 0.0);\n  #endif\n  #if defined(points_output_affine) || defined(points_output_deform) || \\\n      defined(points_output_stress)\n    float spawnOrEmpty = max(spawn, empty);\n  #endif\n\n  #ifdef points_output_position\n    points_output_position = mix(positionTo,\n        spawn_0(points_uv, bounds.xy, bounds.zw, 1.0/points_stateShape.xy),\n        spawnOrHold)/\n      rescaledPosition;\n  #endif\n  #ifdef points_output_motion\n    points_output_motion =\n      mix(motionTo, v0, spawnOrHold)/rescaledMotion;\n  #endif\n  #ifdef points_output_mass\n    points_output_mass = mix(pMass, mass, empty)/rescaledMass;\n  #endif\n  #ifdef points_output_affine\n    points_output_affine =\n      mix(vec4(affineTo), mv0, spawnOrEmpty)/rescaledAffine;\n  #endif\n  #ifdef points_output_deform\n    points_output_deform =\n      mix(vec4(deformTo), mv1, spawnOrEmpty)/rescaledDeform;\n  #endif\n  #ifdef points_output_stress\n    points_output_stress =\n      mix(vec4(stressTo), mv1, spawnOrEmpty)/rescaledStress;\n  #endif\n}\n";var $533fe5e22af384fc$exports={};$533fe5e22af384fc$exports="/** Points-to-grid vertex shader. */\n\n/** @todo Use a better setup than this, for tidier ongoing mapping tests. */\n#define test_off 0\n#define test_p2g 1\n#define test_draw 2\n#ifndef test\n  #define test test_off\n#endif\n\nprecision highp float;\n#define GLSLIFY 1\n\npoints_useSamples\npoints_useReads_position\n\n/** @todo Draw to all the needed grid passes. */\n\n#ifdef points_splits\n  uniform sampler2D points_states[points_splits];\n#else\n  uniform sampler2D points_states;\n#endif\n\nuniform float points_stepNow;\nuniform vec4 points_stateShape;\n\nuniform vec4 grid_stateShape;\n\nattribute vec2 vertex;\nattribute float index;\nattribute float splat;\n\n#if defined(grid_output_motionFull) || defined(grid_output_motionBase)\n  /** Advection scheme parameters. */\n  uniform float stretch;\n  uniform float turn;\n#endif\n\nuniform vec4 bounds;\nuniform vec2 widths;\n\n#ifdef rescale_mass\n  uniform vec2 rescaleMass;\n#else\n  const float rescaledMass = 1.0;\n#endif\n\n#ifdef rescale_affine\n  uniform vec2 rescaleAffine;\n#else\n  const float rescaledAffine = 1.0;\n#endif\n\n#if test == test_p2g\n  uniform float loop;\n\n  varying vec4 color;\n#endif\n\nvarying vec2 cellAt;\nvarying vec2 cellBase;\nvarying mat3 cellWeights;\n\n#ifdef points_grid_quads\n  varying vec2 cellIndex;\n#else\n  varying vec3 point;\n#endif\n\n#if defined(grid_output_mass) || defined(grid_output_motionFull) || \\\n    defined(grid_output_motionBase)\n  varying float mass;\n#endif\n#if defined(grid_output_motionFull) || defined(grid_output_motionBase)\n  varying mat2 affine;\n  varying vec2 motion;\n#endif\n#if defined(grid_output_motionFull)\n  varying mat2 stress;\n#endif\n\nconst vec2 v1 = vec2(1);\nconst vec2 v0 = v1*0.0;\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\n#if defined(grid_output_motionFull) || defined(grid_output_motionBase)\n  float transpose(float m) {\n  return m;\n}\n\nmat2 transpose(mat2 m) {\n  return mat2(m[0][0], m[1][0],\n              m[0][1], m[1][1]);\n}\n\nmat3 transpose(mat3 m) {\n  return mat3(m[0][0], m[1][0], m[2][0],\n              m[0][1], m[1][1], m[2][1],\n              m[0][2], m[1][2], m[2][2]);\n}\n\nmat4 transpose(mat4 m) {\n  return mat4(m[0][0], m[1][0], m[2][0], m[3][0],\n              m[0][1], m[1][1], m[2][1], m[3][1],\n              m[0][2], m[1][2], m[2][2], m[3][2],\n              m[0][3], m[1][3], m[2][3], m[3][3]);\n}\n\n#endif\n\n/**\n * Convenience to turn a 1D entry index into a 2D texture `UV` for sampling.\n * Note that this does not wrap the y-axis, so if the `index` exceeds the range\n * `[0, (size.x*size.y)-1]`, the result y-axis will exceed the range `[0, 1]`.\n *\n * @see {@link util/remain-div.glsl!}\n *\n * @param {float|int} `index` 1D index, expect range `[0, (size.x*size.y)-1]`.\n * @param {float|int|vec2|ivec2} `size` Texture's size, expect\n *   `[width, height]`, or if given a scalar interpret both as `side`.\n *\n * @returns {vec2} 2D `UV` texture sample coordinate, expect range `[0, 1]`.\n */\n\n/**\n * Equivalent to a _remainder_ operator; same as `mod` for same-signed operands,\n * but different for differently-signed operands, like JavaScript's `%`\n * operator.\n * Reuses the truncated division, and returns both; as both are useful in\n * various places, e.g: index conversion.\n *\n * @see [GLSL modulo](https://www.shaderific.com/glsl-functions#modulo)\n * @see [JS modulo/remainder](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Remainder)\n *\n * @param {float|int} `x` The first remainder/divide operand, expect `x >= 0`.\n * @param {float|int} `y` The second remainder/divide operand, expect `y >= 0`.\n *\n * @returns {vec2|ivec2} The result as `[(remainder), (truncated division)]`;\n *   always a `vec2` if any operand is a `float`.\n */\n\nivec2 remainDiv(int x, int y) {\n  // Careful handling integer maths; decimals truncated, works like a\n  // _remainder_ operator, rather than `mod`.\n  int d = x/y;\n\n  return ivec2(x-(y*d), d);\n}\n\nvec2 remainDiv(float x, int y) {\n  int d = int(x)/y;\n\n  // Remainder; like `mod` but with truncated `d` not floored, reuses `d`.\n  // return vec2(mod(x, y), d);\n  return vec2(x-float(y*d), d);\n}\n\n/**\n * Assume higher accuracy is desired; if less computation with `int` is desired,\n * use `remainDiv(int(x), int(y))` or `vec2(remainDiv(int(x), int(y)))` instead.\n */\nvec2 remainDiv(float x, float y) { return remainDiv(x, int(y)); }\n\n/**\n * Assume higher accuracy is desired; if less computation with `int` is desired,\n * use `remainDiv(x, int(y))` or `vec2(remainDiv(x, int(y)))` instead.\n */\nvec2 remainDiv(int x, float y) { return remainDiv(float(x), y); }\n\nvec2 indexUV(float index, vec2 size) {\n  return remainDiv(index, size.x)/max(size-1.0, 1.0);\n}\n\nvec2 indexUV(int index, ivec2 size) {\n  return vec2(remainDiv(index, size.x))/max(vec2(size-1), 1.0);\n}\n\nvec2 indexUV(float index, ivec2 size) {\n  return remainDiv(index, size.x)/max(vec2(size-1), 1.0);\n}\n\nvec2 indexUV(int index, vec2 size) {\n  return remainDiv(index, size.x)/max(size-1.0, 1.0);\n}\n\nvec2 indexUV(float index, float size) {\n  return remainDiv(index, size)/max(size-1.0, 1.0);\n}\n\nvec2 indexUV(int index, float size) {\n  return remainDiv(index, size)/max(size-1.0, 1.0);\n}\n\nvec2 indexUV(float index, int size) {\n  return remainDiv(index, size)/max(float(size-1), 1.0);\n}\n\nvec2 indexUV(int index, int size) {\n  return vec2(remainDiv(index, size))/max(float(size-1), 1.0);\n}\n\n/**\n * Convenience to sample entries safely at their texel center.\n * Where `spreadUV` is for lookup ranges, `offsetUV` is for lookup queries.\n *\n * @see [`spreadUV`](./spread-uv.glsl)\n *\n * @param {vec2} `uv` UV texture sample coordinate, expect range `[0, 1]`.\n * @param {float|int|vec2|ivec2} `[size=1.0]` Texture's size, expect\n *   `[width, height]`, or if given a scalar interpret both as `side`.\n * @param {float|vec2} `[pad=0.5]` Texel `pad` to offset, expect range `[0, 1]`.\n *\n * @returns {vec2} The `uv` offset by `pad` to texel center, expect range\n *   `[0+pad, 1-pad]`.\n */\n\nvec2 offsetUV(vec2 uv, float size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, vec2 pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, int size, float pad) {\n  return offsetUV(uv, float(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, float pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, vec2 pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, float size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, vec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, int size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, ivec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv) { return offsetUV(uv, 1.0, 0.5); }\n\n#ifdef points_grid_quads\n  /**\n * Convenience to spread entries safely to their texel edges range.\n * Where `offsetUV` is for lookup queries, `spreadUV` is for lookup ranges.\n *\n * @see [`offsetUV`](./offset-uv.glsl)\n *\n * @param {vec2} `uv` UV texture sample coordinate, expect range `[0, 1]`.\n * @param {float|int|vec2|ivec2} `[size=1.0]` Texture's size, expect\n *   `[width, height]`, or if given a scalar interpret both as `side`.\n * @param {float|vec2} `[pad=0.5]` Texel `pad` to spread, expect range `[0, 1]`.\n *\n * @returns {vec2} The UV with spread to texel edges, expect range\n *   `[0-pad, size+pad]`.\n */\n\nvec2 spreadUV(vec2 uv, float size, float pad) { return (uv*size)-pad; }\nvec2 spreadUV(vec2 uv, float size, vec2 pad) { return (uv*size)-pad; }\nvec2 spreadUV(vec2 uv, vec2 size, float pad) { return (uv*size)-pad; }\nvec2 spreadUV(vec2 uv, vec2 size, vec2 pad) { return (uv*size)-pad; }\n\nvec2 spreadUV(vec2 uv, int size, float pad) {\n  return spreadUV(uv, float(size), pad);\n}\n\nvec2 spreadUV(vec2 uv, int size, vec2 pad) {\n  return spreadUV(uv, float(size), pad);\n}\n\nvec2 spreadUV(vec2 uv, ivec2 size, float pad) {\n  return spreadUV(uv, vec2(size), pad);\n}\n\nvec2 spreadUV(vec2 uv, ivec2 size, vec2 pad) {\n  return spreadUV(uv, vec2(size), pad);\n}\n\nvec2 spreadUV(vec2 uv, float size) { return spreadUV(uv, size, 0.5); }\nvec2 spreadUV(vec2 uv, vec2 size) { return spreadUV(uv, size, 0.5); }\nvec2 spreadUV(vec2 uv, int size) { return spreadUV(uv, size, 0.5); }\nvec2 spreadUV(vec2 uv, ivec2 size) { return spreadUV(uv, size, 0.5); }\nvec2 spreadUV(vec2 uv) { return spreadUV(uv, 1.0, 0.5); }\n\n#endif\n\n/**\n * Quadratic weight kernel.\n *\n * @see [Equation 123, The Material Point Method for Simulating Continuum\n *   Materials (mpm.graphics)](https://drive.google.com/open?id=1rI4gsBH3BstH7EYQA451Pb56MrJ7hVsu&usp=drive_fs)\n * @see [Incremental MPM](https://github.com/nialltl/incremental_mpm/blob/master/Assets/3.%20MLS_MPM_Fluid_Multithreaded/MLS_MPM_Fluid_Multithreaded.cs#L337-L344)\n * @see [MLS-MPM-88](https://github.com/yuanming-hu/taichi_mpm/blob/master/mls-mpm88-explained.cpp#L151-L158)\n *\n * @todo Test more and ensure this is the equivalent lookup.\n */\n\nstruct Kernel2 {\n  vec2 base;\n  vec2 diff;\n  // Only using `[i].xy` channels of each layer `i`; `vec2[3]` is tricky.\n  mat3 weights;\n};\n\nstruct Kernel3 {\n  vec3 base;\n  vec3 diff;\n  mat3 weights;\n};\n\n/**\n * The cell base for each kernel type.\n *\n * @note Tried implementing the same `int(at)` cast-based truncation logic as\n *   the original, but it led to the simulation exploding, probably because an\n *   array-based grid can't handle negative indices but a texture-based one can,\n *   and truncation must've led to a division by 0 somewhere.\n */\n\n#define createToBaseShort(f, vec) \\\nvec f(vec at) { \\\n  vec base; \\\n   \\\n  return f(at, base); \\\n}\n\n#ifdef kernelTypeCentre\n  #ifdef kernelBaseCast\n    #define createToBase(f, vec, ivec) \\\n    vec f(vec at, out vec base) { return (base = vec(ivec(at))); } \\\n    createToBaseShort(f, vec)\n  #else\n    #define createToBase(f, vec) \\\n    vec f(vec at, out vec base) { return (base = floor(at)); } \\\n    createToBaseShort(f, vec)\n  #endif\n#else\n  /**\n   * @todo Test if this is correct for negative numbers, seems to create gaps\n   *   between positive and negative quadrants.\n   */\n  #ifdef kernelBaseCast\n    #define createToBase(f, vec, ivec) \\\n    vec f(vec at, out vec base) { return (base = vec(ivec(at-0.5))); } \\\n    createToBaseShort(f, vec)\n  #else\n    #define createToBase(f, vec) \\\n    vec f(vec at, out vec base) { return (base = floor(at-0.5)); } \\\n    createToBaseShort(f, vec)\n  #endif\n#endif\n\n#ifdef kernelBaseCast\n  createToBase(toBase, float, int)\n  createToBase(toBase, vec2, ivec2)\n  createToBase(toBase, vec3, ivec3)\n#else\n  createToBase(toBase, float)\n  createToBase(toBase, vec2)\n  createToBase(toBase, vec3)\n#endif\n\n/** The cell base for each kernel type. */\n#define createToDiffShort(f, vec) \\\nvec f(vec at, vec base) { \\\n  vec diff; \\\n   \\\n  return f(at, base, diff); \\\n}\n\n#ifdef kernelTypeCentre\n  #define createToDiff(f, vec) \\\n  vec f(vec at, vec base, out vec diff) { return (diff = (at-base)-0.5); } \\\n  createToDiffShort(f, vec)\n#else\n  #define createToDiff(f, vec) \\\n  vec f(vec at, vec base, out vec diff) { return (diff = at-base); } \\\n  createToDiffShort(f, vec)\n#endif\n\ncreateToDiff(toDiff, float)\ncreateToDiff(toDiff, vec2)\ncreateToDiff(toDiff, vec3)\n\nvec2 toWeight(inout vec2 w, vec2 v) { return w = v; }\nvec2 toWeight(inout vec3 w, vec2 v) { return w.xy = v; }\nvec3 toWeight(inout vec3 w, vec3 v) { return w = v; }\n\n#ifdef kernelTypeCentre\n  #define createToWeightsMain(vec, diff) \\\n    vec w0 = 0.5-diff; \\\n    vec w1 = diff; \\\n    vec w2 = 0.5+diff;\n#else\n  #define createToWeightsMain(vec, diff) \\\n    vec w0 = 1.5-diff; \\\n    vec w1 = diff-1.0; \\\n    vec w2 = diff-0.5;\n#endif\n\n#define createToWeights(f, vec, mat) \\\n \\\nmat f(vec diff, out mat weights) { \\\n  createToWeightsMain(vec, diff) \\\n   \\\n  toWeight(weights[0], 0.5*(w0*w0)); \\\n  toWeight(weights[1], 0.75-(w1*w1)); \\\n  toWeight(weights[2], 0.5*(w2*w2)); \\\n   \\\n  return weights; \\\n} \\\n \\\nmat f(vec diff) { \\\n  mat weights; \\\n   \\\n  return f(diff, weights); \\\n}\n\ncreateToWeights(toWeights, vec2, mat3)\ncreateToWeights(toWeights, vec3, mat3)\n\n#define createToKernel(f, vec, mat, Kernel) \\\n \\\nKernel f(vec at, out vec base, out vec diff, out mat weights) { \\\n  return Kernel(base = toBase(at, base), \\\n    diff = toDiff(at, base, diff), \\\n    weights = toWeights(diff, weights)); \\\n} \\\n \\\nKernel f(vec at, out vec base, out vec diff) { \\\n  mat weights; \\\n   \\\n  return f(at, base, diff, weights); \\\n} \\\n \\\nKernel f(vec at, out vec base) { \\\n  vec diff; \\\n   \\\n  return f(at, base, diff); \\\n} \\\n \\\nKernel f(vec at, out vec base, out mat weights) { \\\n  vec diff; \\\n   \\\n  return f(at, base, diff, weights); \\\n} \\\n \\\nKernel f(vec at, out mat weights) { \\\n  vec base; \\\n   \\\n  return f(at, base, weights); \\\n} \\\n \\\nKernel f(vec at) { \\\n  vec base; \\\n   \\\n  return f(at, base); \\\n}\n\ncreateToKernel(toKernel, vec2, mat3, Kernel2)\ncreateToKernel(toKernel, vec3, mat3, Kernel3)\n\n/** The cell offset for each kernel type. */\n#define createToOffsetShort(f, vec) \\\nvec f(vec offset) { \\\n  vec to; \\\n   \\\n  return f(offset, to); \\\n}\n\n#ifdef kernelTypeCentre\n  #define createToOffset(f, vec) \\\n  vec f(in vec offset, out vec to) { return (to = offset-1.0); } \\\n  createToOffsetShort(f, vec)\n#else\n  #define createToOffset(f, vec) \\\n  vec f(in vec offset, out vec to) { return (to = offset); } \\\n  createToOffsetShort(f, vec)\n#endif\n\ncreateToOffset(toOffset, float)\ncreateToOffset(toOffset, vec2)\ncreateToOffset(toOffset, vec3)\n\n#if defined(rescale_affine)\n  /** Exponential notation packed into a vector. */\nfloat exponent(vec2 basePower) { return basePower.s*pow(1e1, basePower.t); }\n\n#endif\n\n/**\n * @todo Handle separate splats, by how many buffers can be drawn to.\n * @todo Separate processes according to active outputs.\n */\nvoid main() {\n  vec2 uv = indexUV(index, points_stateShape.xy);\n\n  uv = offsetUV(uv, points_stateShape.xy);\n  points_tapState(uv);\n\n  vec2 position = points_data[points_reads_position_position]\n    .points_channels_position;\n\n  #if defined(grid_output_mass) || defined(grid_output_motionFull) || \\\n      defined(grid_output_motionBase)\n    // Negative `mass` can indicate points spawning that still affect physics.\n    mass = abs(points_data[points_reads_position_mass].points_channels_mass);\n  #endif\n  #if defined(grid_output_motionFull) || defined(grid_output_motionBase)\n    #ifdef rescale_affine\n      float rescaledAffine = exponent(rescaleAffine);\n    #endif\n    #ifdef rescale_mass\n      float rescaledMass = exponent(rescaleMass);\n    #endif\n\n    vec2 advection = (stretch+vec2(turn, -turn))*0.5;\n\n    affine = rescaledAffine*\n      mat2(points_data[points_reads_position_affine].points_channels_affine);\n\n    affine = (mass*rescaledMass)*\n      ((affine*advection.x)+(transpose(affine)*advection.y));\n\n    affine /= rescaledAffine;\n\n    motion = points_data[points_reads_position_motion].points_channels_motion;\n  #endif\n  #if defined(grid_output_motionFull)\n    stress = mat2(points_data[points_reads_position_stress]\n      .points_channels_stress);\n  #endif\n\n  /** Map the position into the correct range with the proper offset. */\n  #if test == test_p2g\n    color = vec4(uv, 0.5, 1);\n    // cellAt = mod((uv+(loop*9e-5))*grid_stateShape.xy, grid_stateShape.xy);\n    cellAt = uv*grid_stateShape.xy;\n    // gl_Position = vec4(map(uv+(vertex/grid_stateShape.xy), v0, v1, -v1, v1), 0, 1);\n    // return;\n  #else\n    /** Seems the right range, by trial, versus `[0, grid_stateShape.xy-1]`. */\n    cellAt = map(position, bounds.xy, bounds.zw, v0, grid_stateShape.xy);\n  #endif\n\n  /** Kernel weights and positions, to scale the values per-fragment. */\n  toKernel(cellAt, cellBase, cellWeights);\n\n  vec2 to = cellBase+toOffset(vertex*float(kernelSize));\n\n  gl_Position = vec4(map(to, v0, grid_stateShape.xy, -v1, v1), 0, 1);\n\n  #ifdef points_grid_quads\n    /**\n     * Mask the weights by the distance from these indexes per-fragment.\n     * Account for the half-pixel offset at the fragment centre.\n     * @see [Pixel coordinates on WebGL Fundamentals](https://webglfundamentals.org/webgl/lessons/webgl-shadertoy.html#pixel-coords)\n     */\n    cellIndex = spreadUV(vertex, kernelSize);\n  #else\n    /**\n     * Convert vertex position to `gl_FragCoord` window-space.\n     * @see [SO](https://stackoverflow.com/a/7158573)\n     * @see [SO](https://stackoverflow.com/a/54237532/716898)\n     */\n    point = vec3(to, 0.5*(gl_PointSize = float(kernelSize)));\n  #endif\n}\n";var $fab7b7106a68c78b$exports={};$fab7b7106a68c78b$exports="/** Points-to-grid fragment shader. */\n\n/** @todo Use a better setup than this, for tidier ongoing mapping tests. */\n#define test_off 0\n#define test_p2g 1\n#define test_draw 2\n#ifndef test\n  #define test test_off\n#endif\n\n#ifdef GL_EXT_draw_buffers\n  #extension GL_EXT_draw_buffers : require\n#endif\n\nprecision highp float;\n#define GLSLIFY 1\n\n/** @todo Draw to all the needed grid passes. */\n\n#if defined(grid_output_motionFull) || defined(grid_output_motionBase)\n  uniform vec4 grid_stateShape;\n#endif\n\n#ifdef rescale_motion\n  uniform vec2 rescaleMotion;\n#else\n  const float rescaledMotion = 1.0;\n#endif\n#ifdef rescale_mass\n  uniform vec2 rescaleMass;\n#else\n  const float rescaledMass = 1.0;\n#endif\n#ifdef rescale_affine\n  uniform vec2 rescaleAffine;\n#else\n  const float rescaledAffine = 1.0;\n#endif\n#ifdef rescale_stress\n  uniform vec2 rescaleStress;\n#else\n  const float rescaledStress = 1.0;\n#endif\n\n#if test == test_p2g\n  varying vec4 color;\n#endif\n\nvarying vec2 cellAt;\nvarying vec2 cellBase;\nvarying mat3 cellWeights;\n\n#ifdef points_grid_quads\n  varying vec2 cellIndex;\n#else\n  varying vec3 point;\n#endif\n\n#if defined(grid_output_mass) || defined(grid_output_motionFull) || \\\n    defined(grid_output_motionBase)\n  varying float mass;\n#endif\n#if defined(grid_output_motionFull) || defined(grid_output_motionBase)\n  varying mat2 affine;\n  varying vec2 motion;\n#endif\n#if defined(grid_output_motionFull)\n  varying mat2 stress;\n#endif\n\nconst mat3 mask = mat3(vec3(0), vec3(1), vec3(2));\n\nconst vec2 v1 = vec2(1);\nconst vec2 v0 = v1*0.0;\nconst vec2 cellNear = v1*0.5;\n\n#ifndef points_grid_quads\n  /**\n * Convenience to spread entries safely to their texel edges range.\n * Where `offsetUV` is for lookup queries, `spreadUV` is for lookup ranges.\n *\n * @see [`offsetUV`](./offset-uv.glsl)\n *\n * @param {vec2} `uv` UV texture sample coordinate, expect range `[0, 1]`.\n * @param {float|int|vec2|ivec2} `[size=1.0]` Texture's size, expect\n *   `[width, height]`, or if given a scalar interpret both as `side`.\n * @param {float|vec2} `[pad=0.5]` Texel `pad` to spread, expect range `[0, 1]`.\n *\n * @returns {vec2} The UV with spread to texel edges, expect range\n *   `[0-pad, size+pad]`.\n */\n\nvec2 spreadUV(vec2 uv, float size, float pad) { return (uv*size)-pad; }\nvec2 spreadUV(vec2 uv, float size, vec2 pad) { return (uv*size)-pad; }\nvec2 spreadUV(vec2 uv, vec2 size, float pad) { return (uv*size)-pad; }\nvec2 spreadUV(vec2 uv, vec2 size, vec2 pad) { return (uv*size)-pad; }\n\nvec2 spreadUV(vec2 uv, int size, float pad) {\n  return spreadUV(uv, float(size), pad);\n}\n\nvec2 spreadUV(vec2 uv, int size, vec2 pad) {\n  return spreadUV(uv, float(size), pad);\n}\n\nvec2 spreadUV(vec2 uv, ivec2 size, float pad) {\n  return spreadUV(uv, vec2(size), pad);\n}\n\nvec2 spreadUV(vec2 uv, ivec2 size, vec2 pad) {\n  return spreadUV(uv, vec2(size), pad);\n}\n\nvec2 spreadUV(vec2 uv, float size) { return spreadUV(uv, size, 0.5); }\nvec2 spreadUV(vec2 uv, vec2 size) { return spreadUV(uv, size, 0.5); }\nvec2 spreadUV(vec2 uv, int size) { return spreadUV(uv, size, 0.5); }\nvec2 spreadUV(vec2 uv, ivec2 size) { return spreadUV(uv, size, 0.5); }\nvec2 spreadUV(vec2 uv) { return spreadUV(uv, 1.0, 0.5); }\n\n#endif\n\n#if defined(grid_output_motionFull) || defined(grid_output_motionBase)\n  /** The cell offset for each kernel type. */\n#define createToOffsetShort(f, vec) \\\nvec f(vec offset) { \\\n  vec to; \\\n   \\\n  return f(offset, to); \\\n}\n\n#ifdef kernelTypeCentre\n  #define createToOffset(f, vec) \\\n  vec f(in vec offset, out vec to) { return (to = offset-1.0); } \\\n  createToOffsetShort(f, vec)\n#else\n  #define createToOffset(f, vec) \\\n  vec f(in vec offset, out vec to) { return (to = offset); } \\\n  createToOffsetShort(f, vec)\n#endif\n\ncreateToOffset(toOffset, float)\ncreateToOffset(toOffset, vec2)\ncreateToOffset(toOffset, vec3)\n\n  /**\n * The distance function for each kernel type.\n *\n * @see [Incremental MPM cell distance](https://github.com/nialltl/incremental_mpm/blob/master/Assets/3.%20MLS_MPM_Fluid_Multithreaded/MLS_MPM_Fluid_Multithreaded.cs#L187-L201)\n * @see [PyASFLIP cell distance](https://github.com/nepluno/pyasflip/blob/master/pyasflip.py#L320-L339)\n * @todo Not sure this is right, the scales might be off.\n * @todo Work out the algebra more nicely in terms of `offset` and `diff`.\n */\n\n#ifdef kernelTypeCentre\n  /**\n   * @example ```\n   * // Goal:\n   * dist(offset, base, at) = ((base+offset-1)-at)+0.5\n   * // From offset:\n   * offset = offset-1\n   * // Thus:\n   * dist(offset = offset-1, base, at) = ((base+offset)-at)+0.5\n   * // From weights:\n   * diff(base, at) = (at-base)-0.5\n   * // And:\n   * base(at) = floor(at)\n   * // @todo The rest\n   * ```\n   *\n   * @todo Derive the form `toDistance(offset, diff)`.\n   */\n  #define createToDistance(f, vec) \\\n   \\\n  vec f(vec offset, vec at, vec base) { return ((base+offset)-at)+0.5; } \\\n   \\\n  vec f(vec offset, vec diff);\n#else\n  /** The cell base for each kernel type. */\n#define createToDiffShort(f, vec) \\\nvec f(vec at, vec base) { \\\n  vec diff; \\\n   \\\n  return f(at, base, diff); \\\n}\n\n#ifdef kernelTypeCentre\n  #define createToDiff(f, vec) \\\n  vec f(vec at, vec base, out vec diff) { return (diff = (at-base)-0.5); } \\\n  createToDiffShort(f, vec)\n#else\n  #define createToDiff(f, vec) \\\n  vec f(vec at, vec base, out vec diff) { return (diff = at-base); } \\\n  createToDiffShort(f, vec)\n#endif\n\ncreateToDiff(toDiff, float)\ncreateToDiff(toDiff, vec2)\ncreateToDiff(toDiff, vec3)\n\n  /**\n   * @example ```\n   * // Goal:\n   * dist(offset, diff) = offset-diff\n   * // From weights:\n   * diff(base, at) = at-base\n   * // Thus:\n   * dist(offset, base, at) = offset-diff(base, at) = offset-(at-base)\n   * ```\n   */\n  #define createToDistance(f, vec) \\\n   \\\n  vec f(vec offset, vec diff) { return offset-diff; } \\\n   \\\n  vec f(vec offset, vec at, vec base) { return f(offset, toDiff(at, base)); }\n#endif\n\ncreateToDistance(toDistance, float)\ncreateToDistance(toDistance, vec2)\ncreateToDistance(toDistance, vec3)\n\n#endif\n\nfloat when_lt_1117569599(float x, float y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec2 when_lt_1117569599(vec2 x, vec2 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec3 when_lt_1117569599(vec3 x, vec3 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec4 when_lt_1117569599(vec4 x, vec4 y) {\n  return max(sign(y - x), 0.0);\n}\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\n#if defined(rescale_motion) || defined(rescale_mass) || \\\n  defined(rescale_affine) || defined(rescale_stress)\n  /** Exponential notation packed into a vector. */\nfloat exponent(vec2 basePower) { return basePower.s*pow(1e1, basePower.t); }\n\n#endif\n\nvoid main() {\n  #if test == test_p2g\n    // for(int t = 0; t < grid_textures; ++t) { gl_FragData[t] = color; }\n    gl_FragData[0] = color;\n    return;\n  #endif\n\n  #ifndef points_grid_quads\n    /**\n     * Convert vertex position to `gl_FragCoord` window-space.\n     * Mask the weights by the distance from these indexes per-fragment.\n     * Account for the half-pixel offset at the fragment centre.\n     * @see [Pixel coordinates on WebGL Fundamentals](https://webglfundamentals.org/webgl/lessons/webgl-shadertoy.html#pixel-coords)\n     * @see [SO](https://stackoverflow.com/a/7158573)\n     * @see [SO](https://stackoverflow.com/a/54237532/716898)\n     */\n    vec2 cellIndex = map(gl_FragCoord.xy-point.xy, -point.bb, point.bb, v0, v1);\n\n    cellIndex = spreadUV(cellIndex, kernelSize);\n  #endif\n\n  /** Work around the need for constant index by looping and masking. */\n  // float weight = cellWeights[int(cellIndex.x)].x*cellWeights[int(cellIndex.y)].y;\n  vec2 maskWeight = v0;\n\n  for(int i = 0; i < kernelSize; ++i) {\n    maskWeight += cellWeights[i].xy*when_lt_1117569599(abs((cellIndex)-mask[i].xy), cellNear);\n  }\n\n  float weight = maskWeight.x*maskWeight.y;\n\n  /** @todo Handle multiple passes properly. */\n  #if defined(grid_output_mass) || defined(grid_output_motionFull) || \\\n      defined(grid_output_motionBase)\n    #ifdef rescale_mass\n      float rescaledMass = exponent(rescaleMass);\n    #endif\n\n    float massTo = rescaledMass*mass;\n  #endif\n  #if defined(grid_output_motionFull) || defined(grid_output_motionBase)\n    #ifdef rescale_motion\n      float rescaledMotion = exponent(rescaleMotion);\n    #endif\n    #ifdef rescale_affine\n      float rescaledAffine = exponent(rescaleAffine);\n    #endif\n\n    vec2 motionTo = rescaledMotion*motion;\n    mat2 affineTo = rescaledAffine*affine;\n    vec2 massMotion = massTo*motionTo;\n    vec2 offset = toOffset(cellIndex);\n\n    vec2 cellDist =\n      toDistance(offset, cellAt, cellBase)/grid_stateShape.xy;\n  #endif\n  #if defined(grid_output_motionFull)\n    #ifdef rescale_stress\n      float rescaledStress = exponent(rescaleStress);\n    #endif\n\n    mat2 stressTo = rescaledStress*stress;\n  #endif\n\n  #ifdef grid_output_mass\n    grid_output_mass = (weight*massTo)/rescaledMass;\n  #endif\n  #ifdef grid_output_motionFull\n    grid_output_motionFull =\n      (weight*(massMotion+((stressTo+affineTo)*cellDist)))/rescaledMotion;\n  #endif\n  #ifdef grid_output_motionBase\n    grid_output_motionBase =\n      (weight*(massMotion+(affineTo*cellDist)))/rescaledMotion;\n  #endif\n}\n";var $c13211d9debf1cdf$exports={};$c13211d9debf1cdf$exports="/** Grid-to-screen fragment shader. */\n\n/** @todo Use a better setup than this, for tidier ongoing mapping tests. */\n#define test_off 0\n#define test_p2g 1\n#define test_draw 2\n#ifndef test\n  #define test test_off\n#endif\n\nprecision highp float;\n#define GLSLIFY 1\n\nstruct Kernel2 {\n  vec2 base;\n  vec2 diff;\n  // Only using `[i].xy` channels of each layer `i`; `vec2[3]` is tricky.\n  mat3 weights;\n};\n\ngrid_useSamples\ngrid_useReads_mass\n\n#ifdef grid_splits\n  uniform sampler2D grid_states[grid_splits];\n#else\n  uniform sampler2D grid_states;\n#endif\n\nuniform float grid_stepNow;\nuniform vec4 grid_stateShape;\n\nuniform vec2 range;\nuniform vec2 curve[4];\nuniform vec4 colorLo;\nuniform vec4 colorHi;\n\n#ifdef angleHSLA\n  uniform vec4 angleHSLA;\n#endif\n\nuniform vec2 aspect;\n\n#ifdef rescale_motion\n  uniform vec2 rescaleMotion;\n#else\n  const float rescaledMotion = 1.0;\n#endif\n\nvarying vec2 grid_uv;\n\nconst vec2 v1 = vec2(1);\nconst vec2 v0 = v1*0.0;\n\nfloat when_lt_1604150559(float x, float y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec2 when_lt_1604150559(vec2 x, vec2 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec3 when_lt_1604150559(vec3 x, vec3 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec4 when_lt_1604150559(vec4 x, vec4 y) {\n  return max(sign(y - x), 0.0);\n}\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\n#ifdef angleHSLA\n  float hue2rgb(float f1, float f2, float hue) {\n    if (hue < 0.0)\n        hue += 1.0;\n    else if (hue > 1.0)\n        hue -= 1.0;\n    float res;\n    if ((6.0 * hue) < 1.0)\n        res = f1 + (f2 - f1) * 6.0 * hue;\n    else if ((2.0 * hue) < 1.0)\n        res = f2;\n    else if ((3.0 * hue) < 2.0)\n        res = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n    else\n        res = f1;\n    return res;\n}\n\nvec3 hsl2rgb(vec3 hsl) {\n    vec3 rgb;\n    \n    if (hsl.y == 0.0) {\n        rgb = vec3(hsl.z); // Luminance\n    } else {\n        float f2;\n        \n        if (hsl.z < 0.5)\n            f2 = hsl.z * (1.0 + hsl.y);\n        else\n            f2 = hsl.z + hsl.y - hsl.y * hsl.z;\n            \n        float f1 = 2.0 * hsl.z - f2;\n        \n        rgb.r = hue2rgb(f1, f2, hsl.x + (1.0/3.0));\n        rgb.g = hue2rgb(f1, f2, hsl.x);\n        rgb.b = hue2rgb(f1, f2, hsl.x - (1.0/3.0));\n    }   \n    return rgb;\n}\n\nvec3 hsl2rgb(float h, float s, float l) {\n    return hsl2rgb(vec3(h, s, l));\n}\n\n  const float PI = 3.14159265359;\n\n#endif\n\n/**\n * Convenience to sample entries safely at their texel center.\n * Where `spreadUV` is for lookup ranges, `offsetUV` is for lookup queries.\n *\n * @see [`spreadUV`](./spread-uv.glsl)\n *\n * @param {vec2} `uv` UV texture sample coordinate, expect range `[0, 1]`.\n * @param {float|int|vec2|ivec2} `[size=1.0]` Texture's size, expect\n *   `[width, height]`, or if given a scalar interpret both as `side`.\n * @param {float|vec2} `[pad=0.5]` Texel `pad` to offset, expect range `[0, 1]`.\n *\n * @returns {vec2} The `uv` offset by `pad` to texel center, expect range\n *   `[0+pad, 1-pad]`.\n */\n\nvec2 offsetUV(vec2 uv, float size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, vec2 pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, int size, float pad) {\n  return offsetUV(uv, float(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, float pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, vec2 pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, float size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, vec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, int size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, ivec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv) { return offsetUV(uv, 1.0, 0.5); }\n\n/**\n * Quadratic weight kernel.\n *\n * @see [Equation 123, The Material Point Method for Simulating Continuum\n *   Materials (mpm.graphics)](https://drive.google.com/open?id=1rI4gsBH3BstH7EYQA451Pb56MrJ7hVsu&usp=drive_fs)\n * @see [Incremental MPM](https://github.com/nialltl/incremental_mpm/blob/master/Assets/3.%20MLS_MPM_Fluid_Multithreaded/MLS_MPM_Fluid_Multithreaded.cs#L337-L344)\n * @see [MLS-MPM-88](https://github.com/yuanming-hu/taichi_mpm/blob/master/mls-mpm88-explained.cpp#L151-L158)\n *\n * @todo Test more and ensure this is the equivalent lookup.\n */\n\nstruct Kernel3 {\n  vec3 base;\n  vec3 diff;\n  mat3 weights;\n};\n\n/**\n * The cell base for each kernel type.\n *\n * @note Tried implementing the same `int(at)` cast-based truncation logic as\n *   the original, but it led to the simulation exploding, probably because an\n *   array-based grid can't handle negative indices but a texture-based one can,\n *   and truncation must've led to a division by 0 somewhere.\n */\n\n#define createToBaseShort(f, vec) \\\nvec f(vec at) { \\\n  vec base; \\\n   \\\n  return f(at, base); \\\n}\n\n#ifdef kernelTypeCentre\n  #ifdef kernelBaseCast\n    #define createToBase(f, vec, ivec) \\\n    vec f(vec at, out vec base) { return (base = vec(ivec(at))); } \\\n    createToBaseShort(f, vec)\n  #else\n    #define createToBase(f, vec) \\\n    vec f(vec at, out vec base) { return (base = floor(at)); } \\\n    createToBaseShort(f, vec)\n  #endif\n#else\n  /**\n   * @todo Test if this is correct for negative numbers, seems to create gaps\n   *   between positive and negative quadrants.\n   */\n  #ifdef kernelBaseCast\n    #define createToBase(f, vec, ivec) \\\n    vec f(vec at, out vec base) { return (base = vec(ivec(at-0.5))); } \\\n    createToBaseShort(f, vec)\n  #else\n    #define createToBase(f, vec) \\\n    vec f(vec at, out vec base) { return (base = floor(at-0.5)); } \\\n    createToBaseShort(f, vec)\n  #endif\n#endif\n\n#ifdef kernelBaseCast\n  createToBase(toBase, float, int)\n  createToBase(toBase, vec2, ivec2)\n  createToBase(toBase, vec3, ivec3)\n#else\n  createToBase(toBase, float)\n  createToBase(toBase, vec2)\n  createToBase(toBase, vec3)\n#endif\n\n/** The cell base for each kernel type. */\n#define createToDiffShort(f, vec) \\\nvec f(vec at, vec base) { \\\n  vec diff; \\\n   \\\n  return f(at, base, diff); \\\n}\n\n#ifdef kernelTypeCentre\n  #define createToDiff(f, vec) \\\n  vec f(vec at, vec base, out vec diff) { return (diff = (at-base)-0.5); } \\\n  createToDiffShort(f, vec)\n#else\n  #define createToDiff(f, vec) \\\n  vec f(vec at, vec base, out vec diff) { return (diff = at-base); } \\\n  createToDiffShort(f, vec)\n#endif\n\ncreateToDiff(toDiff, float)\ncreateToDiff(toDiff, vec2)\ncreateToDiff(toDiff, vec3)\n\nvec2 toWeight(inout vec2 w, vec2 v) { return w = v; }\nvec2 toWeight(inout vec3 w, vec2 v) { return w.xy = v; }\nvec3 toWeight(inout vec3 w, vec3 v) { return w = v; }\n\n#ifdef kernelTypeCentre\n  #define createToWeightsMain(vec, diff) \\\n    vec w0 = 0.5-diff; \\\n    vec w1 = diff; \\\n    vec w2 = 0.5+diff;\n#else\n  #define createToWeightsMain(vec, diff) \\\n    vec w0 = 1.5-diff; \\\n    vec w1 = diff-1.0; \\\n    vec w2 = diff-0.5;\n#endif\n\n#define createToWeights(f, vec, mat) \\\n \\\nmat f(vec diff, out mat weights) { \\\n  createToWeightsMain(vec, diff) \\\n   \\\n  toWeight(weights[0], 0.5*(w0*w0)); \\\n  toWeight(weights[1], 0.75-(w1*w1)); \\\n  toWeight(weights[2], 0.5*(w2*w2)); \\\n   \\\n  return weights; \\\n} \\\n \\\nmat f(vec diff) { \\\n  mat weights; \\\n   \\\n  return f(diff, weights); \\\n}\n\ncreateToWeights(toWeights, vec2, mat3)\ncreateToWeights(toWeights, vec3, mat3)\n\n#define createToKernel(f, vec, mat, Kernel) \\\n \\\nKernel f(vec at, out vec base, out vec diff, out mat weights) { \\\n  return Kernel(base = toBase(at, base), \\\n    diff = toDiff(at, base, diff), \\\n    weights = toWeights(diff, weights)); \\\n} \\\n \\\nKernel f(vec at, out vec base, out vec diff) { \\\n  mat weights; \\\n   \\\n  return f(at, base, diff, weights); \\\n} \\\n \\\nKernel f(vec at, out vec base) { \\\n  vec diff; \\\n   \\\n  return f(at, base, diff); \\\n} \\\n \\\nKernel f(vec at, out vec base, out mat weights) { \\\n  vec diff; \\\n   \\\n  return f(at, base, diff, weights); \\\n} \\\n \\\nKernel f(vec at, out mat weights) { \\\n  vec base; \\\n   \\\n  return f(at, base, weights); \\\n} \\\n \\\nKernel f(vec at) { \\\n  vec base; \\\n   \\\n  return f(at, base); \\\n}\n\ncreateToKernel(toKernel, vec2, mat3, Kernel2)\ncreateToKernel(toKernel, vec3, mat3, Kernel3)\n\n/** The cell offset for each kernel type. */\n#define createToOffsetShort(f, vec) \\\nvec f(vec offset) { \\\n  vec to; \\\n   \\\n  return f(offset, to); \\\n}\n\n#ifdef kernelTypeCentre\n  #define createToOffset(f, vec) \\\n  vec f(in vec offset, out vec to) { return (to = offset-1.0); } \\\n  createToOffsetShort(f, vec)\n#else\n  #define createToOffset(f, vec) \\\n  vec f(in vec offset, out vec to) { return (to = offset); } \\\n  createToOffsetShort(f, vec)\n#endif\n\ncreateToOffset(toOffset, float)\ncreateToOffset(toOffset, vec2)\ncreateToOffset(toOffset, vec3)\n\n/**\n * Cubic Bézier interpolation, CSS-style.\n * Given p0, p1, p2, p3 as control points, and an input `x` value, find the\n * corresponding `y` value using the Bézier curve; note that this doesn't\n * directly use the usual `t` value as input for interpolation.\n *\n * @todo Split up and generalise.\n *\n * @see [Y-for-X in Pomax's guide](https://pomax.github.io/bezierinfo/#yforx)\n * @see [Finding Bézier roots and Newton-Raphson method in Pomax's guide](https://pomax.github.io/bezierinfo/#extremities)\n */\n\n// Code generated by `bezier-gen` - start:\n\nfloat bezier(float cp0, float cp1, float cp2, float t) {\n    float p0 = mix(cp0, cp1, t);\n    float p1 = mix(cp1, cp2, t);\n\n    return mix(p0, p1, t);\n}\n\nfloat bezier(float cp0, float cp1, float cp2, float cp3, float t) {\n    float p0 = mix(cp0, cp1, t);\n    float p1 = mix(cp1, cp2, t);\n    float p2 = mix(cp2, cp3, t);\n\n    p0 = mix(p0, p1, t);\n    p1 = mix(p1, p2, t);\n\n    return mix(p0, p1, t);\n}\n\nfloat bezier(float cp0, float cp1, float cp2, float cp3, float cp4, float t) {\n    float p0 = mix(cp0, cp1, t);\n    float p1 = mix(cp1, cp2, t);\n    float p2 = mix(cp2, cp3, t);\n    float p3 = mix(cp3, cp4, t);\n\n    p0 = mix(p0, p1, t);\n    p1 = mix(p1, p2, t);\n    p2 = mix(p2, p3, t);\n\n    p0 = mix(p0, p1, t);\n    p1 = mix(p1, p2, t);\n\n    return mix(p0, p1, t);\n}\n\n// Code generated by `bezier-gen` - end.\n\n// float bezier(float p0, float p1, float p2, float p3, float t) {\n//   float u = 1.0-t;\n\n//   return (3.0*u*u*t*p1)+(3.0*u*t*t*p2)+(t*t*t*p3);\n// }\n\n/** @todo Generalise to other orders. */\nfloat derivativeCubic(float p0, float p1, float p2, float p3, float t) {\n  float u = 1.0-t;\n\n  return (9.0*p1*u*u)+(6.0*(p2-p1)*u*t)+(3.0*p3*t*t);\n}\n\nfloat xToY(vec2 p0, vec2 p1, vec2 p2, vec2 p3, float x) {\n  float t = x;\n\n  // Netwon's method iteration.\n  for(int i = 0; i < 4; ++i) {\n    float xt = bezier(p0.x, p1.x, p2.x, p3.x, t);\n    float dtx = derivativeCubic(p0.x, p1.x, p2.x, p3.x, t);\n    float error = xt-x;\n\n    // Newton's iteration.\n    t = clamp(t-(error/dtx), 0.0, 1.0);\n  }\n\n  // Now that we have `t`, compute the corresponding `y` value.\n  return bezier(p0.y, p1.y, p2.y, p3.y, t);\n}\n\n#if defined(rescale_motion)\n  /** Exponential notation packed into a vector. */\nfloat exponent(vec2 basePower) { return basePower.s*pow(1e1, basePower.t); }\n\n#endif\n\nvoid main() {\n  #ifdef rescale_motion\n    float rescaledMotion = exponent(rescaleMotion);\n  #endif\n\n  vec2 motion = v0;\n  /** Seems the right range, by trial, versus `[0, grid_stateShape.xy-1]`. */\n  Kernel2 kernel = toKernel(grid_uv*grid_stateShape.xy);\n\n  for(int gx = 0; gx < kernelSize; ++gx) {\n    for(int gy = 0; gy < kernelSize; ++gy) {\n      #if test == test_p2g\n        // vec2 offset = toKernelOffset(vec2(gx, gy));\n        // vec2 offset = toKernelOffset(vec2(kernelSize)*0.5);\n        /** Range: `base` is `[0, grid_stateShape.xy-1.0]`, `st` is `[0, 1]`. */\n        // vec2 st = (kernel.base+offset)/(grid_stateShape.xy-1.0);\n        // vec2 st = kernel.base/(grid_stateShape.xy-1.0);\n        // vec2 st = kernel.base/grid_stateShape.xy;\n        // vec2 st = grid_uv;\n        vec2 st = floor((grid_uv*grid_stateShape.xy)-0.5)/grid_stateShape.xy;\n\n        // st = offsetUV(st, grid_stateShape.xy);\n        // gl_FragColor.rgba = vec4(st, 0, 1);\n        // return;\n        grid_tapState(st);\n        gl_FragColor.rgba = grid_data[0];\n\n        // vec4 dc = grid_data[0]-vec4(st, 0.5, 1);\n\n        // /** @todo With high scaling this is less accurate near axes cross. */\n        // gl_FragColor.rgba = mix(vec4(0, 1, 0, 1), vec4(1, 0, 0, 1),\n        //   clamp(dot(dc, dc)*1e3, 0.0, 1.0));\n        return;\n      #else\n        float weight = kernel.weights[gx].x*kernel.weights[gy].y;\n        vec2 offset = toOffset(vec2(gx, gy));\n        /** Range: `base` is `[0, grid_stateShape.xy-1.0]`, `st` is `[0, 1]`. */\n        vec2 st = (kernel.base+offset)/(grid_stateShape.xy-1.0);\n\n        st = offsetUV(st, grid_stateShape.xy);\n\n        #if grid_stepsPast > 1\n          for(int stepPast = 0; stepPast < grid_stepsPast; ++stepPast) {\n            float ago = float(stepPast)/float(grid_stepsPast);\n\n            grid_tapStateBy(offsetUV(st, grid_stateShape.xy), stepPast, 0);\n            // grid_tapStateBy(st, stepPast, 0);\n\n            motion += rescaledMotion*(1.0-ago)*weight*\n              grid_data[grid_reads_mass_motionFull].grid_channels_motionFull;\n              // grid_data[grid_reads_mass_motionFull].grid_channels_motionFull*\n              // grid_data[grid_reads_mass_mass].grid_channels_mass;\n              // vec2(grid_data[grid_reads_mass_mass].grid_channels_mass);\n          }\n        #else\n          grid_tapState(offsetUV(st, grid_stateShape.xy));\n          // grid_tapState(st);\n\n          motion += rescaledMotion*weight*\n            grid_data[grid_reads_mass_motionFull].grid_channels_motionFull;\n            // grid_data[grid_reads_mass_motionFull].grid_channels_motionFull*\n            // grid_data[grid_reads_mass_mass].grid_channels_mass;\n            // vec2(grid_data[grid_reads_mass_mass].grid_channels_mass);\n        #endif\n      #endif\n    }\n  }\n\n  // motion *= 1e9;\n\n  #ifdef paceLinear\n    float pace = length(motion);\n  #else\n    float pace = dot(motion, motion);\n  #endif\n\n  float at = clamp(map(pace, range.x, range.y, 0.0, 1.0), 0.0, 1.0);\n  float to = xToY(curve[0], curve[1], curve[2], curve[3], at);\n  // float to = at;\n  vec2 outside = when_lt_1604150559(grid_uv, v0)+when_lt_1604150559(v1, grid_uv);\n  float on = when_lt_1604150559(outside.x+outside.y, 0.5);\n  vec4 color = mix(colorLo, colorHi, clamp(to, 0.0, on));\n\n  #ifdef angleHSLA\n    float hue = map(atan(motion.y, motion.x), -PI, PI, 0.0, 1.0);\n    vec3 angleColor = hsl2rgb(fract(hue+angleHSLA.x), angleHSLA.y, angleHSLA.z);\n\n    color.rgb = mix(color.rgb, angleColor, angleHSLA.a*on);\n  #endif\n\n  // #if test != test_off\n  //   vec2 line = fract(grid_uv*grid_stateShape.xy);\n\n  //   // color = mix(color, 1.0-color, lt(min(line.x, line.y), 5e-2));\n  //   color = mix(color, vec4(1, 0, 0, 1), lt(min(line.x, line.y), 0.1));\n  // #endif\n\n  gl_FragColor = clamp(color, 0.0, 1.0);\n  gl_FragColor.rgb *= gl_FragColor.a;\n}\n";var $e1fb535a736cec8a$exports={};$e1fb535a736cec8a$exports="/** Points-to-screen vertex shader. */\n\nprecision highp float;\n#define GLSLIFY 1\n\n#define positionChannels points_channels_0\n#define massChannels points_channels_2\n\npoints_useSamples\npoints_useReads_position\n\nattribute float index;\n\n#ifdef points_splits\n  uniform sampler2D points_states[points_splits];\n#else\n  uniform sampler2D points_states;\n#endif\n\nuniform float points_stepNow;\nuniform vec4 points_stateShape;\n\nuniform float wideHi;\nuniform float wideLo;\nuniform vec2 widths;\nuniform vec4 colorHi;\nuniform vec4 colorLo;\n\n#ifdef colorImage\n  uniform sampler2D colorImage;\n  uniform vec2 colorBy;\n  uniform vec2 flip;\n  uniform vec4 offset;\n  uniform vec2 aspectImage;\n#endif\n\nuniform float dt;\nuniform vec2 size;\nuniform vec2 aspectScreen;\nuniform vec4 bounds;\nuniform float form;\n\n#ifdef rescale_mass\n  uniform vec2 rescaleMass;\n#else\n  const float rescaledMass = 1.0;\n#endif\n#ifdef rescale_position\n  uniform vec2 rescalePosition;\n#else\n  const float rescaledPosition = 1.0;\n#endif\n\nvarying float wide;\nvarying vec3 sphere;\nvarying vec4 color;\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nfloat when_neq_1604150559(float x, float y) {\n  return abs(sign(x - y));\n}\n\nvec2 when_neq_1604150559(vec2 x, vec2 y) {\n  return abs(sign(x - y));\n}\n\nvec3 when_neq_1604150559(vec3 x, vec3 y) {\n  return abs(sign(x - y));\n}\n\nvec4 when_neq_1604150559(vec4 x, vec4 y) {\n  return abs(sign(x - y));\n}\n\n#ifdef colorImage\n  float when_lt_529295689(float x, float y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec2 when_lt_529295689(vec2 x, vec2 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec3 when_lt_529295689(vec3 x, vec3 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec4 when_lt_529295689(vec4 x, vec4 y) {\n  return max(sign(y - x), 0.0);\n}\n\nfloat when_ge_2315452051(float x, float y) {\n  return 1.0 - when_lt_529295689(x, y);\n}\n\nvec2 when_ge_2315452051(vec2 x, vec2 y) {\n  return 1.0 - when_lt_529295689(x, y);\n}\n\nvec3 when_ge_2315452051(vec3 x, vec3 y) {\n  return 1.0 - when_lt_529295689(x, y);\n}\n\nvec4 when_ge_2315452051(vec4 x, vec4 y) {\n  return 1.0 - when_lt_529295689(x, y);\n}\n\n#endif\n\n/**\n * Convenience to turn a 1D entry index into a 2D texture `UV` for sampling.\n * Note that this does not wrap the y-axis, so if the `index` exceeds the range\n * `[0, (size.x*size.y)-1]`, the result y-axis will exceed the range `[0, 1]`.\n *\n * @see {@link util/remain-div.glsl!}\n *\n * @param {float|int} `index` 1D index, expect range `[0, (size.x*size.y)-1]`.\n * @param {float|int|vec2|ivec2} `size` Texture's size, expect\n *   `[width, height]`, or if given a scalar interpret both as `side`.\n *\n * @returns {vec2} 2D `UV` texture sample coordinate, expect range `[0, 1]`.\n */\n\n/**\n * Equivalent to a _remainder_ operator; same as `mod` for same-signed operands,\n * but different for differently-signed operands, like JavaScript's `%`\n * operator.\n * Reuses the truncated division, and returns both; as both are useful in\n * various places, e.g: index conversion.\n *\n * @see [GLSL modulo](https://www.shaderific.com/glsl-functions#modulo)\n * @see [JS modulo/remainder](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Remainder)\n *\n * @param {float|int} `x` The first remainder/divide operand, expect `x >= 0`.\n * @param {float|int} `y` The second remainder/divide operand, expect `y >= 0`.\n *\n * @returns {vec2|ivec2} The result as `[(remainder), (truncated division)]`;\n *   always a `vec2` if any operand is a `float`.\n */\n\nivec2 remainDiv(int x, int y) {\n  // Careful handling integer maths; decimals truncated, works like a\n  // _remainder_ operator, rather than `mod`.\n  int d = x/y;\n\n  return ivec2(x-(y*d), d);\n}\n\nvec2 remainDiv(float x, int y) {\n  int d = int(x)/y;\n\n  // Remainder; like `mod` but with truncated `d` not floored, reuses `d`.\n  // return vec2(mod(x, y), d);\n  return vec2(x-float(y*d), d);\n}\n\n/**\n * Assume higher accuracy is desired; if less computation with `int` is desired,\n * use `remainDiv(int(x), int(y))` or `vec2(remainDiv(int(x), int(y)))` instead.\n */\nvec2 remainDiv(float x, float y) { return remainDiv(x, int(y)); }\n\n/**\n * Assume higher accuracy is desired; if less computation with `int` is desired,\n * use `remainDiv(x, int(y))` or `vec2(remainDiv(x, int(y)))` instead.\n */\nvec2 remainDiv(int x, float y) { return remainDiv(float(x), y); }\n\nvec2 indexUV(float index, vec2 size) {\n  return remainDiv(index, size.x)/max(size-1.0, 1.0);\n}\n\nvec2 indexUV(int index, ivec2 size) {\n  return vec2(remainDiv(index, size.x))/max(vec2(size-1), 1.0);\n}\n\nvec2 indexUV(float index, ivec2 size) {\n  return remainDiv(index, size.x)/max(vec2(size-1), 1.0);\n}\n\nvec2 indexUV(int index, vec2 size) {\n  return remainDiv(index, size.x)/max(size-1.0, 1.0);\n}\n\nvec2 indexUV(float index, float size) {\n  return remainDiv(index, size)/max(size-1.0, 1.0);\n}\n\nvec2 indexUV(int index, float size) {\n  return remainDiv(index, size)/max(size-1.0, 1.0);\n}\n\nvec2 indexUV(float index, int size) {\n  return remainDiv(index, size)/max(float(size-1), 1.0);\n}\n\nvec2 indexUV(int index, int size) {\n  return vec2(remainDiv(index, size))/max(float(size-1), 1.0);\n}\n\n/**\n * Convenience to sample entries safely at their texel center.\n * Where `spreadUV` is for lookup ranges, `offsetUV` is for lookup queries.\n *\n * @see [`spreadUV`](./spread-uv.glsl)\n *\n * @param {vec2} `uv` UV texture sample coordinate, expect range `[0, 1]`.\n * @param {float|int|vec2|ivec2} `[size=1.0]` Texture's size, expect\n *   `[width, height]`, or if given a scalar interpret both as `side`.\n * @param {float|vec2} `[pad=0.5]` Texel `pad` to offset, expect range `[0, 1]`.\n *\n * @returns {vec2} The `uv` offset by `pad` to texel center, expect range\n *   `[0+pad, 1-pad]`.\n */\n\nvec2 offsetUV(vec2 uv, float size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, vec2 pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, int size, float pad) {\n  return offsetUV(uv, float(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, float pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, vec2 pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, float size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, vec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, int size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, ivec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv) { return offsetUV(uv, 1.0, 0.5); }\n\n#if defined(rescale_mass) || defined(rescale_position)\n  /** Exponential notation packed into a vector. */\nfloat exponent(vec2 basePower) { return basePower.s*pow(1e1, basePower.t); }\n\n#endif\n\n#if points_stepsPast > 1\n  #define indexFormsStates\n  #ifdef indexFormsStates\n    /**\n * The step and entry indexes corresponding to the number of entries and steps\n * for pairs of elements (e.g: lines linking each index's steps); as detailed in\n * the `indexForms` `JS` `function`.\n * Given the vertex index and number of steps; iterates entries-then-steps.\n *\n * @see {@link index-forms}\n * @see {@link util/remain-div.glsl!}\n *\n * @param {float|int} `index` The index of a vertex; expects simple sequential\n *   index attribute.\n * @param {float|int} `states` How many steps of state each entry has.\n * @param {float|int} [`form`] How many steps of state each form covers.\n *\n * @returns {vec2|ivec2} The step and entry index, respectively, to look up the\n *   correct data to draw the given `form` along each entry's steps of state;\n *   always a `vec2` if any operand is a `float`, an `ivec2` if all are `int`;\n *   iterates with `index` by entries-then-steps.\n */\n\n// Careful handling integer maths - decimals truncated.\nivec2 indexForms_1(int index, int states, int form) {\n  int f = form-1;\n  ivec2 stepEntry = remainDiv(index, (states-f)*form);\n\n  stepEntry.s = (stepEntry.s+f)/form;\n\n  return stepEntry;\n}\n\nvec2 indexForms_1(float index, float states, float form) {\n  vec2 stepEntry = remainDiv(index/form, states-form+1.0);\n\n  stepEntry.s = ceil(stepEntry.s);\n\n  return stepEntry;\n}\n\n// Mixed-type overloads assume higher accuracy is desired; if less computation\n// with `int` is desired, use `indexForms(int(index), int(states), int(form))`\n// or `vec2(indexForms(int(index), int(states), int(form)))` instead.\n\nvec2 indexForms_1(int index, float states, float form) {\n  return indexForms_1(float(index), states, form);\n}\n\nvec2 indexForms_1(float index, int states, float form) {\n  return indexForms_1(index, float(states), form);\n}\n\nvec2 indexForms_1(float index, float states, int form) {\n  return indexForms_1(index, states, float(form));\n}\n\nvec2 indexForms_1(float index, int states, int form) {\n  return indexForms_1(index, float(states), float(form));\n}\n\nvec2 indexForms_1(int index, float states, int form) {\n  return indexForms_1(float(index), states, float(form));\n}\n\nvec2 indexForms_1(int index, int states, float form) {\n  return indexForms_1(float(index), float(states), form);\n}\n\n// Expects pairs by default, though also works for single points and possibly\n// useful for other forms.\n// Mixed-type overloads assume higher accuracy is desired; if less computation\n// with `int` is desired, use `indexForms(int(index), int(states))` or\n// `vec2(indexForms(int(index), int(states)))` instead.\n\nivec2 indexForms_1(int index, int states) {\n  return indexForms_1(index, states, 2);\n}\n\nvec2 indexForms_1(float index, float states) {\n  return indexForms_1(index, states, 2.0);\n}\n\nvec2 indexForms_1(int index, float states) {\n  return indexForms_1(float(index), states, 2.0);\n}\n\nvec2 indexForms_1(float index, int states) {\n  return indexForms_1(index, float(states), 2.0);\n}\n\n  #else\n    /**\n * The step and entry indexes corresponding to the number of entries and steps\n * for pairs of elements (e.g: lines linking each index's steps); as detailed in\n * the `indexForms` `JS` `function`.\n * Given the vertex index and number of entries; iterates steps-then-entries.\n *\n * Works out as 2 `remainDiv`:\n * `[(index%form)+floor(floor(index/form)/count), floor(index/form)%count]`\n * `[indexForm.s+floor(indexForm.t/count), indexForm.t%count]`\n * `[indexForm.s+stepEntry.t, stepEntry.s]`\n *\n * @see {@link index-forms}\n * @see {@link util/remain-div.glsl!}\n *\n * @param {float|int} `index` The index of a vertex; expects simple sequential\n *   index attribute.\n * @param {float|int} `count` How many entries are in each step of state.\n * @param {float|int} [`form`] How many steps of state each form covers.\n *\n * @returns {vec2|ivec2} The step and entry index, respectively, to look up the\n *   correct data to draw the given `form` along each entry's steps of state;\n *   always a `vec2` if any operand is a `float`, an `ivec2` if all are `int`;\n *   iterates with `index` by steps-then-entries.\n */\n\n// Careful handling integer maths - decimals truncated.\nivec2 indexForms_0(int index, int count, int form) {\n  ivec2 indexForm = remainDiv(index, form);\n  ivec2 stepEntry = remainDiv(indexForm.t, count).ts;\n\n  stepEntry.s += indexForm.s;\n\n  return stepEntry;\n}\n\nvec2 indexForms_0(float index, float count, float form) {\n  vec2 indexForm = remainDiv(index, form);\n  vec2 stepEntry = remainDiv(indexForm.t, count).ts;\n\n  stepEntry.s += indexForm.s;\n\n  return stepEntry;\n}\n\n// Mixed-type overloads assume higher accuracy is desired; if less computation\n// with `int` is desired, use `indexForms(int(index), int(count), int(form))` or\n// `vec2(indexForms(int(index), int(count), int(form)))` instead.\n\nvec2 indexForms_0(int index, float count, float form) {\n  return indexForms_0(float(index), count, form);\n}\n\nvec2 indexForms_0(float index, int count, float form) {\n  return indexForms_0(index, float(count), form);\n}\n\nvec2 indexForms_0(float index, float count, int form) {\n  return indexForms_0(index, count, float(form));\n}\n\nvec2 indexForms_0(float index, int count, int form) {\n  return indexForms_0(index, float(count), float(form));\n}\n\nvec2 indexForms_0(int index, float count, int form) {\n  return indexForms_0(float(index), count, float(form));\n}\n\nvec2 indexForms_0(int index, int count, float form) {\n  return indexForms_0(float(index), float(count), form);\n}\n\n// Expects pairs by default, though also works for single points and possibly\n// useful for other forms.\n// Mixed-type overloads assume higher accuracy is desired; if less computation\n// with `int` is desired, use `indexForms(int(index), int(count))` or\n// `vec2(indexForms(int(index), int(count)))` instead.\n\nivec2 indexForms_0(int index, int count) {\n  return indexForms_0(index, count, 2);\n}\n\nvec2 indexForms_0(float index, float count) {\n  return indexForms_0(index, count, 2.0);\n}\n\nvec2 indexForms_0(int index, float count) {\n  return indexForms_0(float(index), count, 2.0);\n}\n\nvec2 indexForms_0(float index, int count) {\n  return indexForms_0(index, float(count), 2.0);\n}\n\n  #endif\n#endif\n\nconst vec2 v1 = vec2(1);\nconst vec2 v0 = v1*0.0;\nconst vec4 hidden = vec4(0, 0, 0, -1);\n\n#ifdef colorImage\n  const float colorByBase = 1.0;\n  const float colorByImage = 2.0;\n#endif\n\nvoid main() {\n  #if points_stepsPast > 1\n    // If multiple steps are given, find past step and entry.\n    // Lookups mostly equivalent; input and result iteration order differ.\n    #ifdef indexFormsStates\n      vec2 stepEntry = indexForms_1(index, points_stepsPast, form);\n    #else\n      vec2 stepEntry = indexForms_0(index, points_entries, form);\n    #endif\n\n    float stepPast = stepEntry.s;\n    float entry = stepEntry.t;\n  #else\n    // If only 1 step is given, past step and entry are known.\n    float stepPast = 0.0;\n    float entry = index;\n  #endif\n\n  vec2 st =\n    offsetUV(indexUV(entry, points_stateShape.xy), points_stateShape.xy);\n  // vec2 st = indexUV(entry, points_stateShape.xy);\n\n  #if points_stepsPast > 1\n    points_tapStateBy(st, stepPast, 0);\n  #else\n    points_tapState(st);\n  #endif\n\n  #ifdef rescale_mass\n    float rescaledMass = exponent(rescaleMass);\n  #endif\n  #ifdef rescale_position\n    float rescaledPosition = exponent(rescalePosition);\n  #endif\n\n  float mass = rescaledMass*\n    points_data[points_reads_position_mass].massChannels;\n\n  vec2 position = rescaledPosition*\n    points_data[points_reads_position_position].positionChannels;\n\n  float show = when_neq_1604150559(mass, 0.0);\n  vec2 boundSize = bounds.zw-bounds.xy;\n  vec2 to = (position/max(boundSize.x, boundSize.y))*2.0;\n  vec4 screen = mix(hidden, vec4(to, 0, 1), show);\n\n  screen.xy *= aspectScreen;\n  gl_Position = screen;\n\n  float ago = stepPast/max(float(points_stepsPast-1), 1.0);\n\n  color = mix(colorHi, colorLo, ago);\n\n  #ifdef colorImage\n    vec2 pq = ((fract(st*flip)*(aspectImage/aspectScreen))/offset.zw)-offset.xy;\n    vec4 colorPixel = texture2D(colorImage, pq);\n    float colorAt = colorBy.x;\n\n    colorAt = mix(colorAt, (1.0-color.a)+colorBy.x, when_ge_2315452051(colorBy.y, colorByBase));\n    colorAt = mix(colorAt, colorPixel.a+colorBy.x, when_ge_2315452051(colorBy.y, colorByImage));\n    color = mix(color, colorPixel, clamp(colorAt, 0.0, 1.0));\n  #endif\n\n  color *= show;\n\n  wide = mix(wideHi, wideLo, ago)*show;\n\n  float pointSize = gl_PointSize = 0.5*clamp(wide/screen.w, widths.s, widths.t);\n\n  /**\n   * Convert vertex position to `gl_FragCoord` window-space.\n   * @see [SO](https://stackoverflow.com/a/7158573)\n   * @see [SO](https://stackoverflow.com/a/54237532/716898)\n   * @todo Why does the correct size here seem to be half the radius?\n   */\n  sphere = vec3(size*map(screen.xy/screen.w, -v1, v1, v0, v1), pointSize*0.5);\n}\n";var $905f0ee97c45a563$exports={};$905f0ee97c45a563$exports="/** Points-to-screen fragment shader. */\n\nprecision highp float;\n#define GLSLIFY 1\n\nvarying float wide;\nvarying vec3 sphere;\nvarying vec4 color;\n\nfloat when_gt_1540259130(float x, float y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec2 when_gt_1540259130(vec2 x, vec2 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec3 when_gt_1540259130(vec3 x, vec3 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec4 when_gt_1540259130(vec4 x, vec4 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvoid main() {\n  float r = sphere.p;\n  float r2 = r*r;\n  vec2 cf = gl_FragCoord.xy-sphere.xy;\n  float cfl2 = dot(cf, cf);\n  float isWide = when_gt_1540259130(wide, 1.0);\n\n  #ifdef useDiscard\n    if(isWide*cfl2 > r2) { discard; }\n  #endif\n\n  float fade = max(r2-(isWide*cfl2), 0.0);\n\n  #ifdef lengthLinear\n    fade = sqrt(fade)/r;\n  #else\n    fade = fade/r2;\n  #endif\n\n  gl_FragColor = color*fade;\n  gl_FragColor.rgb *= gl_FragColor.a;\n}\n";const{keys:$c6e61e3321a7075c$var$keys,assign:$c6e61e3321a7075c$var$assign}=Object,{floor:$c6e61e3321a7075c$var$floor,min:$c6e61e3321a7075c$var$min,max:$c6e61e3321a7075c$var$max,abs:$c6e61e3321a7075c$var$abs,random:$c6e61e3321a7075c$var$random,sign:$c6e61e3321a7075c$var$sign,sin:$c6e61e3321a7075c$var$sin}=Math,{GRAV_ACCEL:$c6e61e3321a7075c$var$g}=$a6a489719cf81c22$exports.MKS,$c6e61e3321a7075c$var$cache={},$c6e61e3321a7075c$export$5d97924d29f48e83=$c34a44976d3d9d2f$export$5d97924d29f48e83,$c6e61e3321a7075c$export$ac0cd3cc21f80dfc=$c34a44976d3d9d2f$export$ac0cd3cc21f80dfc,$c6e61e3321a7075c$export$fdb75c5ac32869de=$c34a44976d3d9d2f$export$fdb75c5ac32869de,$c6e61e3321a7075c$export$bc4be2352d4c92cc=()=>["angle_instanced_arrays"],$c6e61e3321a7075c$export$cc3e2d3244e01b7f=$c6e61e3321a7075c$export$5d97924d29f48e83,$c6e61e3321a7075c$export$918e5821fc7288cd=()=>[...$c6e61e3321a7075c$var$cache.extensionsFloat??=$c6e61e3321a7075c$export$ac0cd3cc21f80dfc(),...$c6e61e3321a7075c$var$cache.extensionsDrawBuffers??=$c6e61e3321a7075c$export$fdb75c5ac32869de(),...$c6e61e3321a7075c$var$cache.extensionsInstances??=$c6e61e3321a7075c$export$bc4be2352d4c92cc()];function $c6e61e3321a7075c$export$82ee245e4549d21(e,t={}){let r=t.values=[],n=t.index={},i=t.alias=[];return(t.fields=e).forEach((e,t)=>i[n[t]=r.push(e)-1]=t),t}function $c6e61e3321a7075c$export$bd2891254e1e5b30(e,t,r={}){let n=$c0826d7b05d29ce3$export$1aad3af825e3305b(r.state=e);if(r.macros??=$9ef2de025ba1725a$export$d38b14fb9031108e(e),!t)return r;for(let e in n){let r=n[e];n[e]=(e,n,i)=>r(e,t(e,n,i),i)}return r}const $c6e61e3321a7075c$export$47b243153dce5032={stepNow:0,passNow:0,bound:1},$c6e61e3321a7075c$export$9f9ef40fe2e7f9e0={stepNow:0,passNow:0,bound:0,maps:{buffersMax:0}};function $c6e61e3321a7075c$export$48f580ce092b95a(e,t={}){console.log("mpm",t);let{command:r=e,buffer:n,elements:i,clear:a,hasExtension:o,now:s,limits:p}=t.api=e,{pointSizeDims:d,lineWidthDims:l}=p,c=($c6e61e3321a7075c$var$cache.extensionsInstances??=$c6e61e3321a7075c$export$bc4be2352d4c92cc()).every(o);t.support={hasInstances:c};let u=t.vertex=[[1,1],[1,0],[0,0],[0,1]],f=t.quad=[[0,1,2],[2,3,0]],m=t.timer?.step??1e3/30;t.timer=$76fc39aad9006ea9$export$9dc4ecf953986f04({to:t,now:m?void 0:()=>1e3*s(),period:1e6,...t.timer,step:m||"-"}),t.g=$c6e61e3321a7075c$var$assign([0,-1e9,100*$c6e61e3321a7075c$var$g],t.g);let g=t.rescale={mass:[1,0],position:[1,0],motion:[1,0],affine:[1,0],deform:[1,0],stress:[1,0],...t.rescale};t.head={to:t,test:"",kernelSize:3,kernelType:"",kernelBase:"",rescales:$c6e61e3321a7075c$var$keys(g),glsl(e=t.head){let{test:r,kernelType:n,kernelSize:i,kernelBase:a,rescales:o,to:s}=e,{rescale:p}=s;return(r?`#define test ${r}
`:"")+(i?`#define kernelSize ${i}
`:"")+(n?`#define kernelType${n}
`:"")+(a?`#define kernelBase${a}
`:"")+(0,$j3ERp.reduce)((e,t)=>{let[r,n]=p[t];return e+(r*10**n==1?"":`#define rescale_${t}
`)},o,"")+`
`},...t.head};let h=t.grid={to:t,frag:$parcel$interopDefault($1349b8dbe392a352$exports),detail:90,limit:1e9,bounds:[-1,-1,1,1],boundsIn:[1,1,-1,-1],boundsHit:1,on:!0,...t.grid},{detail:y,limit:v,bounds:b}=h;$4dca6ea416ca7312$export$1f214a01989f466a(null,b,v);let _=h.fields=$c6e61e3321a7075c$export$82ee245e4549d21(new Map().set("mass",1).set("motionFull",2).set("motionBase",2)),O="grid_",M=[],{index:F,values:S,alias:T}=_,{mass:R,motionFull:x,motionBase:w}=F;M[x]=[x,R],M[w]=[w,R];let k={values:S,alias:T,derives:M},E=h.gpgpu?.steps??2,C=h.gpgpu=$91cae31a339c057f$export$2e2bcd8739ae039(e,{to:t,pre:O,maps:k,stepNow:0,steps:E,stepMax:E,side:y,clearPass:!0,macros:{vert:0},frag:(e,{to:{grid:t,head:r}})=>r.glsl(r)+t.frag,uniforms:{boundsIn:(e,t)=>t.to.grid.boundsIn,boundsHit:(e,t)=>t.to.grid.boundsHit,dt:(e,t)=>t.to.timer.dt,g:(e,t)=>t.to.g,rescaleMass:(e,t)=>t.to.rescale.mass,rescaleMotion:(e,t)=>t.to.rescale.motion},...h.gpgpu}),A=C.merge;h.step=(e=h)=>{let t=e.onStep?.(e)??e,{on:r,gpgpu:n}=t;return r&&n.step(n),t};let B=(t.points={to:t}).fields=$c6e61e3321a7075c$export$82ee245e4549d21(new Map().set("position",2).set("motion",2).set("mass",1).set("affine",4).set("deform",4).set("stress",4)),L=t.gridToPoints={to:t,frag:$parcel$interopDefault($795e385a4f8b0c98$exports),mass:1,volume:5e-4,volumeSplit:[1e-6,-.001],motionAdjust:.97,positionAdjusts:[0,1],youngMod:5e5,poissonRatio:.3,bulkMod:null,shearMod:null,frictionAngle:$a6dc0cacc0318c9b$export$29e4e862bebba87f(40),materialFriction:null,speedClamp:[1,1e9],boundsClamp:!0,spawnOn:{any:!0,out:!0,slow:!1,centre:!1},wander:[-1e-5,.01,1e-6],on:!0,...t.gridToPoints};L.volume??=(()=>{let{volume:e,volumeScale:t}=L;if(null!=e)return e;let[r,n]=h.gpgpu.size.shape;return t/r*(t/n)})();let{index:D,values:I,alias:G}=B,{position:P,motion:z,mass:N,affine:W,deform:U,stress:j}=D,H=[];H[P]=[P,z,N],H[z]=[z,P,N],H[N]=[N],H[W]=[P,N],H[U]=[U,N],H[j]=[N];let V={values:I,derives:H,alias:G},K="points_",$=$c6e61e3321a7075c$export$bd2891254e1e5b30({...$c6e61e3321a7075c$export$47b243153dce5032,pre:O,steps:E,merge:A,macros:{output:0},maps:$82eaf3e5ff5bc05d$export$798cdecdcbbf9755({...k,...$c6e61e3321a7075c$export$47b243153dce5032.maps,derives:[[x,w]]})},(e,t)=>t.to.grid.gpgpu);L.link={grid:$};let Y=L.gpgpu?.steps??2,{size:X,merge:q,bound:J}=L.gpgpu=$91cae31a339c057f$export$2e2bcd8739ae039(e,{to:t,pre:K,maps:V,stepNow:0,steps:Y,stepMax:Y,scale:8,macros:{vert:0},frag:(e,{to:{gridToPoints:{frag:t,link:r},head:n}})=>n.glsl(n)+r.grid.macros+t,uniforms:{...$.state.uniforms,mass:(e,t)=>t.to.gridToPoints.mass,volume:(e,t)=>t.to.gridToPoints.volume,volumeSplit:(e,t)=>t.to.gridToPoints.volumeSplit,motionAdjust:(e,t)=>t.to.gridToPoints.motionAdjust,positionAdjusts:(e,t)=>t.to.gridToPoints.positionAdjusts,bulkMod(e,{to:{gridToPoints:t}}){let{bulkMod:r,youngMod:n,poissonRatio:i}=t;return r??n/(3*(1-2*i))},shearMod(e,{to:{gridToPoints:t}}){let{shearMod:r,youngMod:n,poissonRatio:i}=t;return r??n/(2*(1+i))},materialFriction(e,{to:{gridToPoints:t}}){let{materialFriction:r,frictionAngle:n}=t;if(null!=r)return r;let i=$c6e61e3321a7075c$var$sin(n);return 1.633*i/(3-i)},speedClamp:(e,t)=>t.to.gridToPoints.speedClamp,boundsClamp:(e,t)=>+(t.to.gridToPoints.boundsClamp||0),spawnOnAny:(e,t)=>+(t.to.gridToPoints.spawnOn.any||0),spawnOnOut:(e,t)=>+(t.to.gridToPoints.spawnOn.out||0),spawnOnSlow:(e,t)=>+(t.to.gridToPoints.spawnOn.slow||0),spawnOnCentre:(e,t)=>+(t.to.gridToPoints.spawnOn.centre||0),wander:(e,t)=>t.to.gridToPoints.wander,dt:(e,t)=>t.to.timer.dt,bounds:(e,t)=>t.to.grid.bounds,chaos:(e,t)=>t.to.chaos,rescaleMass:(e,t)=>t.to.rescale.mass,rescalePosition:(e,t)=>t.to.rescale.position,rescaleMotion:(e,t)=>t.to.rescale.motion,rescaleAffine:(e,t)=>t.to.rescale.affine,rescaleDeform:(e,t)=>t.to.rescale.deform,rescaleStress:(e,t)=>t.to.rescale.stress},...L.gpgpu}),{entries:Z}=X;L.step=(e=L)=>{let t=e.onStep?.(e)??e,{on:r,gpgpu:n}=t;return r&&n.step(n),t};let Q=t.pointsToGrid={to:t,vert:$parcel$interopDefault($533fe5e22af384fc$exports),frag:$parcel$interopDefault($fab7b7106a68c78b$exports),stretch:1,turn:1,on:!0,blend:{enable:!0,func:{src:1,dst:1}},depth:{enable:!1},...t.pointsToGrid},{[R]:ee,[x]:et,[w]:er}=k.valueToPass,en=Q.size={},ei=en.splats=(Q.splats=new Set().add(ee).add(et).add(er)).size,ea=en.instances=Z*ei,eo=$c6e61e3321a7075c$export$bd2891254e1e5b30({...$c6e61e3321a7075c$export$47b243153dce5032,pre:K,steps:Y,merge:q,macros:{output:0},maps:$82eaf3e5ff5bc05d$export$798cdecdcbbf9755({...V,...$c6e61e3321a7075c$export$47b243153dce5032.maps,derives:[[P,z,N,W,j]]})},(e,t)=>t.to.gridToPoints.gpgpu),es=$c6e61e3321a7075c$export$bd2891254e1e5b30({...$c6e61e3321a7075c$export$47b243153dce5032,pre:O,steps:E,merge:A,macros:{samples:0,taps:0},maps:$82eaf3e5ff5bc05d$export$798cdecdcbbf9755({...k,...$c6e61e3321a7075c$export$47b243153dce5032.maps,derives:null})},(e,t)=>t.to.grid.gpgpu);Q.link={points:eo,grid:es};let ep=Q.quads??=d[1]<3,ed=Q.instanced??=c&&ep,el=Q.batch??=!ed&&ei>1,ec=Q.order??=ed?"point-splat":"splat-point",eu=Q.form??=ep?f:null,ef=en.forms=eu?.length??1,em=en.formVertexes=eu?.[0]?.length??1,eg=Q.formSource??=ep?u:[[.5,.5]],eh=en.formSources=eg.length;en.pointVertexes=ef*em;let ey=en.formSourcesSplats=eh*ei,ev=en.instancesSources=ea*eh;Q.pass=r(Q.pipeline={vert:(e,{vert:t,quads:r,link:{points:n,grid:i},to:{head:a}})=>a.glsl(a)+(r?"#define points_grid_quads\n\n":"")+n.macros+i.macros+t,frag:(e,{frag:t,quads:r,link:n,to:{head:i}})=>i.glsl(i)+(r?"#define points_grid_quads\n\n":"")+n.grid.macros+t,primitive:(e,t)=>t.quads?"triangles":"points",attributes:{vertex:ep?n(Q.vertex=ed||el?eg:(0,$jegOU.map)((e,t)=>$dee57f889e3b703d$export$4997ffc0176396a6(t,eg),$22ee496980731f5f$export$d02631cccf789723(ev),0)):Q.vertex={constant:eg},index:ed?{...Q.index="splat-point"===ec?{buffer:(0,$jegOU.map)((e,t)=>t,$22ee496980731f5f$export$d02631cccf789723(Z),0),divisor:ei}:{buffer:(0,$jegOU.map)((e,t)=>t%Z,$22ee496980731f5f$export$d02631cccf789723(ea),0),divisor:1},buffer:n(Q.index.buffer)}:el?"splat-point"===ec&&((e,t,r)=>(Q.index??=[])[r]??={constant:$c6e61e3321a7075c$var$floor(r/t.splats.size)}):"splat-point"===ec&&n(Q.index=(0,$jegOU.map)((e,t)=>$c6e61e3321a7075c$var$floor(t/ey),$22ee496980731f5f$export$d02631cccf789723(ev),0)),splat:ed?{...Q.splat="splat-point"===ec?{buffer:(0,$jegOU.map)((e,t)=>t%ei,$22ee496980731f5f$export$d02631cccf789723(ea),0),divisor:1}:{buffer:(0,$jegOU.map)((e,t)=>t,$22ee496980731f5f$export$d02631cccf789723(ei),0),divisor:Z},buffer:n(Q.splat.buffer)}:el?"splat-point"===ec&&((e,t,r)=>(Q.splat??=[])[r]??={constant:r%t.splats.size}):"splat-point"===ec&&n(Q.splat=(0,$jegOU.map)((e,t)=>t%ey,$22ee496980731f5f$export$d02631cccf789723(ev),0))},uniforms:{...eo.state.uniforms,...es.state.uniforms,stretch:(e,t)=>t.stretch,turn:(e,t)=>t.turn,bounds:(e,t)=>t.to.grid.bounds,rescaleMotion:(e,t)=>t.to.rescale.motion,rescaleMass:(e,t)=>t.to.rescale.mass,rescaleAffine:(e,t)=>t.to.rescale.affine,rescaleStress:(e,t)=>t.to.rescale.stress,loop:(e,t)=>t.to.timer.loop},blend:{enable:(e,t)=>t.blend.enable,func:{srcRGB:(e,{blend:{func:{src:t,srcRGB:r}}})=>r??t,srcAlpha:(e,{blend:{func:{src:t,srcAlpha:r}}})=>r??t,dstRGB:(e,{blend:{func:{dst:t,dstRGB:r}}})=>r??t,dstAlpha:(e,{blend:{func:{dst:t,dstAlpha:r}}})=>r??t}},depth:{enable:(e,t)=>t.depth.enable},elements:eu?i(Q.elements=ed||el?eu:(0,$jegOU.map)((e,t)=>$183a030ef048306e$export$37b75d0026f96b8d([],$dee57f889e3b703d$export$4997ffc0176396a6(t,eu),$c6e61e3321a7075c$var$floor(t/ef)*eh),$22ee496980731f5f$export$d02631cccf789723(ea*ef),0)):Q.elements=null,count:(e,{instanced:t,batch:r,size:{pointVertexes:n,instances:i}})=>n*(t||r?1:i),instances:(e,{instanced:t,size:r})=>t?r.instances:1,framebuffer:(e,{to:t,framebuffer:r=$13c03cc1b86f8a58$export$d86e3abd7686c23f(t.grid.gpgpu)})=>r?.framebuffer}),Q.step=(e=Q)=>{let t=e.onStep?.(e)??e,{on:r,batch:n,pass:i,size:a,to:o}=t;if(!r)return t;let{gpgpu:s,fields:p}=o.grid,d=t;return n&&$22ee496980731f5f$export$d02631cccf789723(d=t.batchStates??=[],t,0,d.length=a.instances),i(d),s.merge?.update?.(s),t};let eb=t.screen={to:t,size:[1,1],aspect:[1,1],clears:{color:[0,0,0,0],depth:1},clear:(e=eb)=>a(e.clears)},e_=t.gridToScreen={to:t,frag:$parcel$interopDefault($c13211d9debf1cdf$exports),paceLinear:!1,ranges:[[0,1e10],[0,1e5]],curves:[(0,$jegOU.map)((e,t,r)=>$22ee496980731f5f$export$d02631cccf789723(2,t/(r.length-1)),$22ee496980731f5f$export$d02631cccf789723(4),0),(0,$jegOU.map)((e,t,r)=>$22ee496980731f5f$export$d02631cccf789723(2,t/(r.length-1)),$22ee496980731f5f$export$d02631cccf789723(4),0)],colorHi:[1,1,1,.15],colorLo:[0,0,0,0],angleHSLA:$1c292cfdfd890a6f$export$8f4a7c0bb78e6ea8("hsla(0deg, 80%, 70%, 0.5)").buf,on:!0,...t.gridToScreen},eO=$c6e61e3321a7075c$export$bd2891254e1e5b30({...$c6e61e3321a7075c$export$9f9ef40fe2e7f9e0,bound:+!A,pre:O,steps:E,merge:A,macros:{output:0},maps:$82eaf3e5ff5bc05d$export$798cdecdcbbf9755({...k,...$c6e61e3321a7075c$export$9f9ef40fe2e7f9e0.maps,derives:[[x,R]]})},(e,t)=>t.to.grid.gpgpu);e_.link={grid:eO},e_.pass=r(e_.pipeline={vert:(e,{link:t,to:{head:r,grid:n}})=>r.glsl(r)+t.grid.macros+n.gpgpu.vert,frag:(e,{frag:t,link:r,to:{head:n},angleHSLA:i,paceLinear:a})=>n.glsl(n)+r.grid.macros+(i?.[3]?"#define angleHSLA angleHSLA\n\n":"")+(a?"#define paceLinear\n\n":"")+t,attributes:{[O+"position"]:C.positions},uniforms:{...eO.state.uniforms,angleHSLA:(e,t)=>t.angleHSLA,range:(e,{ranges:t,paceLinear:r})=>t[+r],...(0,$j3ERp.reduce)((e,t,r)=>(e[`curve[${r}]`]=(e,{curves:t,paceLinear:n})=>t[+n][r],e),e_.curves[0],{}),colorHi:(e,t)=>t.colorHi,colorLo:(e,t)=>t.colorLo,aspect:(e,t)=>t.to.screen.aspect,rescaleMotion:(e,t)=>t.to.rescale.motion},blend:{enable:!0,func:{src:1,dst:"one minus src alpha"}},depth:{enable:!1},count:C.count,framebuffer:(e,t)=>t.framebuffer}),e_.draw=(e=e_)=>{let t=e.onDraw?.(e)??e,{on:r,pass:n}=t;return r&&n(t),t};let eM=t.pointsToScreen={to:t,vert:$parcel$interopDefault($e1fb535a736cec8a$exports),frag:$parcel$interopDefault($905f0ee97c45a563$exports),form:1,colorHi:[1,1,1,.5],colorLo:[0,0,0,0],colorImage:null,colorBy:[0,0],flip:[1,-1],offset:[0,0,0,0],aspectImage:[1,1],useDiscard:!1,lengthLinear:!1,wideHi:[.004,4e-6],wideLo:[.002,2e-6],widths:[,d,l],primitives:[,"points","lines"],blend:{enable:!0,func:{src:1,dst:1}},depth:{enable:!1},count:null,on:!0,...t.pointsToScreen},eF=+!q,eS=Y-eF,eT=$c6e61e3321a7075c$export$bd2891254e1e5b30({...$c6e61e3321a7075c$export$9f9ef40fe2e7f9e0,bound:eF,pre:K,steps:Y,merge:q,macros:{output:0},maps:$82eaf3e5ff5bc05d$export$798cdecdcbbf9755({...V,...$c6e61e3321a7075c$export$9f9ef40fe2e7f9e0.maps,derives:[[P,N]]})},(e,t)=>t.to.gridToPoints.gpgpu);eM.link={points:eT};let eR=eM.counts=(0,$jegOU.map)((e,t)=>t&&$60b0df58ad9a2936$export$2e2bcd8739ae039(eS,t,Z),$22ee496980731f5f$export$d02631cccf789723(3),0);eM.pass=r(eM.pipeline={vert:(e,{vert:t,colorImage:r,link:n,to:{head:i}})=>i.glsl(i)+(r?"#define colorImage colorImage\n\n":"")+n.points.macros+t,frag:(e,{frag:t,link:r,to:{head:n},useDiscard:i,lengthLinear:a})=>n.glsl(n)+r.points.macros+(i?"#define useDiscard\n\n":"")+(a?"#define lengthLinear\n\n":"")+t,primitive:(e,{form:t,primitives:r})=>r[t],attributes:{index:$c7ad1ff0eaa996fa$export$87ed20f81f3c66ff($c6e61e3321a7075c$var$max(...eR))},uniforms:{...eT.state.uniforms,form:(e,t)=>t.form,colorHi:(e,t)=>t.colorHi,colorLo:(e,t)=>t.colorLo,colorImage:(e,t)=>t.colorImage,colorBy:(e,t)=>t.colorBy,flip:(e,t)=>t.flip,offset:(e,t)=>t.offset,aspectImage:(e,t)=>t.aspectImage,wideHi:(e,{wideHi:t,lengthLinear:r,widths:n,form:i,to:a})=>(0,$bYNp4.clamp)(t[+r]*$c6e61e3321a7075c$var$min(...a.screen.size),...n[i]),wideLo:(e,{wideLo:t,lengthLinear:r,widths:n,form:i,to:a})=>(0,$bYNp4.clamp)(t[+r]*$c6e61e3321a7075c$var$min(...a.screen.size),...n[i]),widths:(e,{widths:t,form:r})=>t[r],size:(e,t)=>t.to.screen.size,aspectScreen:(e,t)=>t.to.screen.aspect,dt:(e,t)=>t.to.timer.dt,bounds:(e,t)=>t.to.grid.bounds,rescaleMass:(e,t)=>t.to.rescale.mass,rescalePosition:(e,t)=>t.to.rescale.position},lineWidth:(e,{wideHi:t,lengthLinear:r,widths:n,to:i})=>(0,$bYNp4.clamp)(t[+r]*$c6e61e3321a7075c$var$min(...i.screen.size),...n[2]),blend:{enable:(e,t)=>t.blend.enable,func:{srcRGB:(e,{blend:{func:{src:t,srcRGB:r}}})=>r??t,srcAlpha:(e,{blend:{func:{src:t,srcAlpha:r}}})=>r??t,dstRGB:(e,{blend:{func:{dst:t,dstRGB:r}}})=>r??t,dstAlpha:(e,{blend:{func:{dst:t,dstAlpha:r}}})=>r??t}},depth:{enable:(e,t)=>t.depth.enable},count:(e,{count:t,counts:r,form:n})=>t??r[n],framebuffer:(e,t)=>t.framebuffer}),eM.draw=(e=eM)=>{let t=e.onDraw?.(e)??e,{on:r,pass:n}=t;return r&&n(t),t},t.uses={tick:!0,clear:!0,update:!0,draw:!0,post:!0,log:!1,...t.uses},t.linksBy??=1,t.passes??=6,t.passAt=0,t.tick=(e=t)=>{let r=e.onTick?.(e)??e,{uses:n,timer:i}=r;if(!n.tick)return r;let{time:a,period:o}=$76fc39aad9006ea9$export$9dc4ecf953986f04(i);return i.loop=$c6e61e3321a7075c$var$abs((a+o)%(2*o)-o),r},t.clear=(e=t)=>{let r=e.onClear?.(e)??e,{uses:n,screen:i}=r;return n.clear&&i.clear(i),r};let ex=(e,t,r)=>console.log(e+"."+t,e+"-"+r?._framebuffer?.id);return t.update=(e=t)=>{let r=e.onUpdate?.(e)??e,{uses:n,pointsToGrid:i,grid:a,gridToPoints:o,linksBy:s}=r,{update:p,log:d}=n;if(!p)return r;let{step:l,pipeline:c}=i,{step:u,gpgpu:f}=a,{pipeline:m,clear:g}=f,{step:h,gpgpu:y}=o,{pipeline:v}=y;return r.chaos=$c6e61e3321a7075c$var$random(),g(f),d&&ex("g","clear",$13c03cc1b86f8a58$export$d86e3abd7686c23f(f)?.framebuffer),l(i),d&&ex("pg","step",c.framebuffer(0,i)),u(a),d&&ex("g","step",m.framebuffer(0,f)),s&&f.stepBy(f,s),d&&ex("g","stepBy",m.framebuffer(0,f)),h(o),d&&ex("gp","step",v.framebuffer(0,y)),s&&y.stepBy(y,s),d&&ex("gp","stepBy",v.framebuffer(0,y)),r},t.reset=(e=t)=>{let r=e.onReset?.(e)??e,{gridToPoints:n,update:i}=r,{gpgpu:a}=n,o=a.clearPass;return a.clearPass??=n.clears,n.clears=a.clear(a).clearPass,a.clearPass=o,i(r),r},t.draw=(e=t)=>{let r=e.onDraw?.(e)??e,{uses:n,gridToScreen:i,pointsToScreen:a}=r;return n.draw&&(i.draw(i),a.draw(a)),r},t.post=(e=t)=>{let r=e.onPost?.(e)??e,{uses:n,grid:i,gridToPoints:a,linksBy:o}=r;if(!n.post)return r;if(o){let e=i.gpgpu,t=a.gpgpu;e.stepBy(e,-o),t.stepBy(t,-o)}return r},t.pass=(e=t)=>{let r=e.onPass?.(e)??e,{tick:n,clear:i,update:a,draw:o,post:s,uses:{log:p}}=r;return p&&console.groupCollapsed(Date.now()),n(r),i(r),a(r),o(r),s(r),p&&console.groupEnd(),r},t.step=(e=t)=>{let r=e.onStep?.(e)??e,{passes:n,pass:i,timer:a,tick:o,clear:s,update:p,draw:d,post:l,uses:c}=r;if(1===n)return i(r);let{log:u}=c,{time:f}=a,{time:m,dt:g}=o(r).timer,h=a.dt=g/n;for(u&&console.groupCollapsed(Date.now()),a.time=f,s(r),r.passAt=0;r.passAt<n;++r.passAt)a.time+=h,p(r);return a.time=m,a.dt=g,r.passAt=0,d(r),l(r),u&&console.groupEnd(),r},t.frame=()=>t.step(),t}var $79abe6b84db31140$exports={};!function(e,t){$79abe6b84db31140$exports=t()}(0,function(){var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var r=Object.keys(t),n=0;n<r.length;++n)e[r[n]]=t[r[n]];return e},r="\n";function n(e){return"undefined"!=typeof atob?atob(e):"base64:"+e}function i(e){var t=Error("(regl) "+e);throw console.error(t),t}function a(e,t){e||i(t)}function o(e){return e?": "+e:""}function s(e,t,r){e in t||i("unknown parameter ("+e+")"+o(r)+". possible values: "+Object.keys(t).join())}function p(t,r){e(t)||i("invalid parameter type"+o(r)+". must be a typed array")}function d(e,t){switch(t){case"number":return"number"==typeof e;case"object":return"object"==typeof e;case"string":return"string"==typeof e;case"boolean":return"boolean"==typeof e;case"function":return"function"==typeof e;case"undefined":return void 0===e;case"symbol":return"symbol"==typeof e}}function l(e,t,r){d(e,t)||i("invalid parameter type"+o(r)+". expected "+t+", got "+typeof e)}function c(e,t){e>=0&&(0|e)===e||i("invalid parameter type, ("+e+")"+o(t)+". must be a nonnegative integer")}function u(e,t,r){0>t.indexOf(e)&&i("invalid value"+o(r)+". must be one of: "+t)}var f=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function m(e){Object.keys(e).forEach(function(e){0>f.indexOf(e)&&i('invalid regl constructor argument "'+e+'". must be one of '+f)})}function g(e,t){for(e+="";e.length<t;)e=" "+e;return e}function h(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function y(e,t){this.number=e,this.line=t,this.errors=[]}function v(e,t,r){this.file=e,this.line=t,this.message=r}function b(){var e=Error(),t=(e.stack||e).toString(),r=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(r)return r[1];var n=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return n?n[1]:"unknown"}function _(){var e=Error(),t=(e.stack||e).toString(),r=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(r)return r[1];var n=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return n?n[1]:"unknown"}function O(e,t){var r=e.split("\n"),i=1,a=0,o={unknown:new h,0:new h};o.unknown.name=o[0].name=t||b(),o.unknown.lines.push(new y(0,""));for(var s=0;s<r.length;++s){var p=r[s],d=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(p);if(d)switch(d[1]){case"line":var l=/(\d+)(\s+\d+)?/.exec(d[2]);l&&(i=0|l[1],l[2]&&((a=0|l[2])in o||(o[a]=new h)));break;case"define":var c=/SHADER_NAME(_B64)?\s+(.*)$/.exec(d[2]);c&&(o[a].name=c[1]?n(c[2]):c[2])}o[a].lines.push(new y(i++,p))}return Object.keys(o).forEach(function(e){var t=o[e];t.lines.forEach(function(e){t.index[e.number]=e})}),o}function M(e){var t=[];return e.split("\n").forEach(function(e){if(!(e.length<5)){var r=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);r?t.push(new v(0|r[1],0|r[2],r[3].trim())):e.length>0&&t.push(new v("unknown",0,e))}}),t}function F(e,t){t.forEach(function(t){var r=e[t.file];if(r){var n=r.index[t.line];if(n){n.errors.push(t),r.hasErrors=!0;return}}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)})}function S(e,t,n,i,o){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(t),p=i===e.FRAGMENT_SHADER?"fragment":"vertex";C(n,"string",p+" shader source must be a string",o);var d=O(n,o);F(d,M(s)),Object.keys(d).forEach(function(e){var t=d[e];if(t.hasErrors){var n=[""],i=[""];a("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach(function(e){if(e.errors.length>0){a(g(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),a(e.line+r,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach(function(n){var i=n.message,o=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(o){var s=o[1];i=o[2],"assign"===s&&(s="="),t=Math.max(e.line.indexOf(s,t),0)}else t=0;a(g("| ",6)),a(g("^^^",t+3)+r,"font-weight:bold"),a(g("| ",6)),a(i+r,"font-weight:bold")}),a(g("| ",6)+r)}else a(g(e.number,4)+"|  "),a(e.line+r,"color:red")}),"undefined"==typeof document||window.chrome?console.log(n.join("")):(i[0]=n.join("%c"),console.log.apply(console,i))}function a(e,t){n.push(e),i.push(t||"")}}),a.raise("Error compiling "+p+" shader, "+d[0].name)}}function T(e,t,n,i,o){if(!e.getProgramParameter(t,e.LINK_STATUS)){var s=e.getProgramInfoLog(t),p=O(n,o),d='Error linking program with vertex shader, "'+O(i,o)[0].name+'", and fragment shader "'+p[0].name+'"';"undefined"!=typeof document?console.log("%c"+d+r+"%c"+s,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(d+r+s),a.raise(d)}}function R(e){e._commandRef=b()}function x(e,t,r,n){function i(e){return e?n.id(e):0}function a(e,t){Object.keys(t).forEach(function(t){e[n.id(t)]=!0})}R(e),e._fragId=i(e.static.frag),e._vertId=i(e.static.vert);var o=e._uniformSet={};a(o,t.static),a(o,t.dynamic);var s=e._attributeSet={};a(s,r.static),a(s,r.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic}function w(e,t){var r=_();i(e+" in command "+(t||b())+("unknown"===r?"":" called from "+r))}function k(e,t,r){e||w(t,r||b())}function E(e,t,r,n){e in t||w("unknown parameter ("+e+")"+o(r)+". possible values: "+Object.keys(t).join(),n||b())}function C(e,t,r,n){d(e,t)||w("invalid parameter type"+o(r)+". expected "+t+", got "+typeof e,n||b())}function A(e){e()}function B(e,t,r){e.texture?u(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):u(e.renderbuffer._renderbuffer.format,r,"unsupported renderbuffer format for attachment")}var L=33071,D=9728,I=9984,G=9985,P=9986,z=9987,N=5121,W=5122,U=5123,j=5124,H=5125,V=5126,K=32819,$=32820,Y=33635,X=34042,q=36193,J={};function Z(e,t){return e===$||e===K||e===Y?2:e===X?4:J[e]*t}function Q(e){return!(e&e-1)&&!!e}function ee(e,t,r){var n,i=t.width,o=t.height,s=t.channels;a(i>0&&i<=r.maxTextureSize&&o>0&&o<=r.maxTextureSize,"invalid texture shape"),(e.wrapS!==L||e.wrapT!==L)&&a(Q(i)&&Q(o),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==i&&1!==o&&a(e.minFilter!==I&&e.minFilter!==P&&e.minFilter!==G&&e.minFilter!==z,"min filter requires mipmap"):(a(Q(i)&&Q(o),"texture must be a square power of 2 to support mipmapping"),a(t.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),t.type===V&&(0>r.extensions.indexOf("oes_texture_float_linear")&&a(e.minFilter===D&&e.magFilter===D,"filter not supported, must enable oes_texture_float_linear"),a(!e.genMipmaps,"mipmap generation not supported with float textures"));var p=t.images;for(n=0;n<16;++n)if(p[n]){var d=i>>n,l=o>>n;a(t.mipmask&1<<n,"missing mipmap data");var c=p[n];if(a(c.width===d&&c.height===l,"invalid shape for mip images"),a(c.format===t.format&&c.internalformat===t.internalformat&&c.type===t.type,"incompatible type for mip image"),c.compressed);else if(c.data){var u=Math.ceil(Z(c.type,s)*d/c.unpackAlignment)*c.unpackAlignment;a(c.data.byteLength===u*l,"invalid data for image, buffer size is inconsistent with image format")}else c.element||c.copy}else e.genMipmaps||a((t.mipmask&1<<n)==0,"extra mipmap data");t.compressed&&a(!e.genMipmaps,"mipmap generation for compressed images not supported")}function et(e,t,r,n){var i=e.width,o=e.height,s=e.channels;a(i>0&&i<=n.maxTextureSize&&o>0&&o<=n.maxTextureSize,"invalid texture shape"),a(i===o,"cube map must be square"),a(t.wrapS===L&&t.wrapT===L,"wrap mode not supported by cube map");for(var p=0;p<r.length;++p){var d=r[p];a(d.width===i&&d.height===o,"inconsistent cube map face shape"),t.genMipmaps&&(a(!d.compressed,"can not generate mipmap for compressed textures"),a(1===d.mipmask,"can not specify mipmaps and generate mipmaps"));for(var l=d.images,c=0;c<16;++c){var u=l[c];if(u){var f=i>>c,m=o>>c;a(d.mipmask&1<<c,"missing mipmap data"),a(u.width===f&&u.height===m,"invalid shape for mip images"),a(u.format===e.format&&u.internalformat===e.internalformat&&u.type===e.type,"incompatible type for mip image"),u.compressed||(u.data?a(u.data.byteLength===f*m*Math.max(Z(u.type,s),u.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):u.element||u.copy)}}}}J[5120]=J[N]=1,J[W]=J[U]=J[q]=J[Y]=J[K]=J[$]=2,J[j]=J[H]=J[V]=J[X]=4;var er=t(a,{optional:A,raise:i,commandRaise:w,command:k,parameter:s,commandParameter:E,constructor:m,type:l,commandType:C,isTypedArray:p,nni:c,oneOf:u,shaderError:S,linkError:T,callSite:_,saveCommandRef:R,saveDrawInfo:x,framebufferFormat:B,guessCommand:b,texture2D:ee,textureCube:et}),en=0,ei=0,ea=5,eo=6;function es(e,t){this.id=en++,this.type=e,this.data=t}function ep(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function ed(e){if(0===e.length)return[];var t=e.charAt(0),r=e.charAt(e.length-1);if(e.length>1&&t===r&&('"'===t||"'"===t))return['"'+ep(e.substr(1,e.length-2))+'"'];var n=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(n)return ed(e.substr(0,n.index)).concat(ed(n[1])).concat(ed(e.substr(n.index+n[0].length)));var i=e.split(".");if(1===i.length)return['"'+ep(e)+'"'];for(var a=[],o=0;o<i.length;++o)a=a.concat(ed(i[o]));return a}function el(e){return"["+ed(e).join("][")+"]"}function ec(e,t){return new es(e,el(t+""))}function eu(e){return"function"==typeof e&&!e._reglType||e instanceof es}function ef(e,t){return"function"==typeof e?new es(ei,e):"number"==typeof e||"boolean"==typeof e?new es(ea,e):Array.isArray(e)?new es(eo,e.map(function(e,r){return ef(e,t+"["+r+"]")})):e instanceof es?e:void er(!1,"invalid option type in uniform "+t)}var em={DynamicVariable:es,define:ec,isDynamic:eu,unbox:ef},eg={next:"function"==typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"==typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},eh="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function ey(){var e={"":0},t=[""];return{id:function(r){var n=e[r];return n||(n=e[r]=t.length,t.push(r)),n},str:function(e){return t[e]}}}function ev(e,r,n){var i,a=document.createElement("canvas");function o(){var t=window.innerWidth,r=window.innerHeight;if(e!==document.body){var i=a.getBoundingClientRect();t=i.right-i.left,r=i.bottom-i.top}a.width=n*t,a.height=n*r}function s(){i?i.disconnect():window.removeEventListener("resize",o),e.removeChild(a)}return t(a.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),e.appendChild(a),e===document.body&&(a.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"==typeof ResizeObserver?(i=new ResizeObserver(function(){setTimeout(o)})).observe(e):window.addEventListener("resize",o,!1),o(),{canvas:a,onDestroy:s}}function eb(e,t){function r(r){try{return e.getContext(r,t)}catch(e){return null}}return r("webgl")||r("experimental-webgl")||r("webgl-experimental")}function e_(e){return"string"==typeof e.nodeName&&"function"==typeof e.appendChild&&"function"==typeof e.getBoundingClientRect}function eO(e){return"function"==typeof e.drawArrays||"function"==typeof e.drawElements}function eM(e){return"string"==typeof e?e.split():(er(Array.isArray(e),"invalid extension array"),e)}function eF(e){return"string"==typeof e?(er("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function eS(e){var t,r,n,i,a=e||{},o={},s=[],p=[],d="undefined"==typeof window?1:window.devicePixelRatio,l=!1,c=function(e){e&&er.raise(e)},u=function(){};if("string"==typeof a?(er("undefined"!=typeof document,"selector queries only supported in DOM environments"),er(t=document.querySelector(a),"invalid query string for element")):"object"==typeof a?e_(a)?t=a:eO(a)?n=(i=a).canvas:(er.constructor(a),"gl"in a?i=a.gl:"canvas"in a?n=eF(a.canvas):"container"in a&&(r=eF(a.container)),"attributes"in a&&(o=a.attributes,er.type(o,"object","invalid context attributes")),"extensions"in a&&(s=eM(a.extensions)),"optionalExtensions"in a&&(p=eM(a.optionalExtensions)),"onDone"in a&&(er.type(a.onDone,"function","invalid or missing onDone callback"),c=a.onDone),"profile"in a&&(l=!!a.profile),"pixelRatio"in a&&er((d=+a.pixelRatio)>0,"invalid pixel ratio")):er.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?n=t:r=t),!i){if(!n){er("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var f=ev(r||document.body,c,d);if(!f)return null;n=f.canvas,u=f.onDestroy}void 0===o.premultipliedAlpha&&(o.premultipliedAlpha=!0),i=eb(n,o)}return i?{gl:i,canvas:n,container:r,extensions:s,optionalExtensions:p,pixelRatio:d,profile:l,onDone:c,onDestroy:u}:(u(),c("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function eT(e,t){var r={};function n(t){er.type(t,"string","extension name must be string");var n,i=t.toLowerCase();try{n=r[i]=e.getExtension(i)}catch(e){}return!!n}for(var i=0;i<t.extensions.length;++i){var a=t.extensions[i];if(!n(a))return t.onDestroy(),t.onDone('"'+a+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(n),{extensions:r,restore:function(){Object.keys(r).forEach(function(e){if(r[e]&&!n(e))throw Error("(regl): error restoring extension "+e)})}}}function eR(e,t){for(var r=Array(e),n=0;n<e;++n)r[n]=t(n);return r}var ex=5120,ew=5121,ek=5122,eE=5123,eC=5124,eA=5125,eB=5126;function eL(e){for(var t=16;t<=0x10000000;t*=16)if(e<=t)return t;return 0}function eD(e){var t,r;return t=(e>65535)<<4,e>>>=t,r=(e>255)<<3,e>>>=r,t|=r,r=(e>15)<<2,e>>>=r,t|=r,r=(e>3)<<1,e>>>=r,(t|=r)|e>>1}function eI(){var e=eR(8,function(){return[]});function t(t){var r=eL(t),n=e[eD(r)>>2];return n.length>0?n.pop():new ArrayBuffer(r)}function r(t){e[eD(t.byteLength)>>2].push(t)}function n(e,r){var n=null;switch(e){case ex:n=new Int8Array(t(r),0,r);break;case ew:n=new Uint8Array(t(r),0,r);break;case ek:n=new Int16Array(t(2*r),0,r);break;case eE:n=new Uint16Array(t(2*r),0,r);break;case eC:n=new Int32Array(t(4*r),0,r);break;case eA:n=new Uint32Array(t(4*r),0,r);break;case eB:n=new Float32Array(t(4*r),0,r);break;default:return null}return n.length!==r?n.subarray(0,r):n}function i(e){r(e.buffer)}return{alloc:t,free:r,allocType:n,freeType:i}}var eG=eI();eG.zero=eI();var eP=3408,ez=3410,eN=3411,eW=3412,eU=3413,ej=3414,eH=3415,eV=33901,eK=33902,e$=3379,eY=3386,eX=34921,eq=36347,eJ=36348,eZ=35661,eQ=35660,e0=34930,e1=36349,e2=34076,e3=34024,e4=7936,e6=7937,e5=7938,e8=35724,e7=34047,e9=36063,te=34852,tt=3553,tr=34067,tn=34069,ti=33984,ta=6408,to=5126,ts=5121,tp=36160,td=36053,tl=36064,tc=16384,tu=function(e,t){var r=1;t.ext_texture_filter_anisotropic&&(r=e.getParameter(e7));var n=1,i=1;t.webgl_draw_buffers&&(n=e.getParameter(te),i=e.getParameter(e9));var a=!!t.oes_texture_float;if(a){var o=e.createTexture();e.bindTexture(tt,o),e.texImage2D(tt,0,ta,1,1,0,ta,to,null);var s=e.createFramebuffer();if(e.bindFramebuffer(tp,s),e.framebufferTexture2D(tp,tl,tt,o,0),e.bindTexture(tt,null),e.checkFramebufferStatus(tp)!==td)a=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(tc);var p=eG.allocType(to,4);e.readPixels(0,0,1,1,ta,to,p),e.getError()?a=!1:(e.deleteFramebuffer(s),e.deleteTexture(o),a=1===p[0]),eG.freeType(p)}}var d="undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),l=!0;if(!d){var c=e.createTexture(),u=eG.allocType(ts,36);e.activeTexture(ti),e.bindTexture(tr,c),e.texImage2D(tn,0,ta,3,3,0,ta,ts,u),eG.freeType(u),e.bindTexture(tr,null),e.deleteTexture(c),l=!e.getError()}return{colorBits:[e.getParameter(ez),e.getParameter(eN),e.getParameter(eW),e.getParameter(eU)],depthBits:e.getParameter(ej),stencilBits:e.getParameter(eH),subpixelBits:e.getParameter(eP),extensions:Object.keys(t).filter(function(e){return!!t[e]}),maxAnisotropic:r,maxDrawbuffers:n,maxColorAttachments:i,pointSizeDims:e.getParameter(eV),lineWidthDims:e.getParameter(eK),maxViewportDims:e.getParameter(eY),maxCombinedTextureUnits:e.getParameter(eZ),maxCubeMapSize:e.getParameter(e2),maxRenderbufferSize:e.getParameter(e3),maxTextureUnits:e.getParameter(e0),maxTextureSize:e.getParameter(e$),maxAttributes:e.getParameter(eX),maxVertexUniforms:e.getParameter(eq),maxVertexTextureUnits:e.getParameter(eQ),maxVaryingVectors:e.getParameter(eJ),maxFragmentUniforms:e.getParameter(e1),glsl:e.getParameter(e8),renderer:e.getParameter(e6),vendor:e.getParameter(e4),version:e.getParameter(e5),readFloat:a,npotTextureCube:l}};function tf(t){return!!t&&"object"==typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var tm=function(e){return Object.keys(e).map(function(t){return e[t]})},tg={shape:tO,flatten:t_};function th(e,t,r){for(var n=0;n<t;++n)r[n]=e[n]}function ty(e,t,r,n){for(var i=0,a=0;a<t;++a)for(var o=e[a],s=0;s<r;++s)n[i++]=o[s]}function tv(e,t,r,n,i,a){for(var o=a,s=0;s<t;++s)for(var p=e[s],d=0;d<r;++d)for(var l=p[d],c=0;c<n;++c)i[o++]=l[c]}function tb(e,t,r,n,i){for(var a=1,o=r+1;o<t.length;++o)a*=t[o];var s=t[r];if(t.length-r==4){var p=t[r+1],d=t[r+2],l=t[r+3];for(o=0;o<s;++o)tv(e[o],p,d,l,n,i),i+=a}else for(o=0;o<s;++o)tb(e[o],t,r+1,n,i),i+=a}function t_(e,t,r,n){var i=1;if(t.length)for(var a=0;a<t.length;++a)i*=t[a];else i=0;var o=n||eG.allocType(r,i);switch(t.length){case 0:break;case 1:th(e,t[0],o);break;case 2:ty(e,t[0],t[1],o);break;case 3:tv(e,t[0],t[1],t[2],o,0);break;default:tb(e,t,0,o,0)}return o}function tO(e){for(var t=[],r=e;r.length;r=r[0])t.push(r.length);return t}var tM={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},tF={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},tS={dynamic:35048,stream:35040,static:35044},tT=tg.flatten,tR=tg.shape,tx=35044,tw=35040,tk=5121,tE=5126,tC=[];function tA(e){return 0|tM[Object.prototype.toString.call(e)]}function tB(e,t){for(var r=0;r<t.length;++r)e[r]=t[r]}function tL(e,t,r,n,i,a,o){for(var s=0,p=0;p<r;++p)for(var d=0;d<n;++d)e[s++]=t[i*p+a*d+o]}function tD(t,r,n,i){var a=0,o={};function s(e){this.id=a++,this.buffer=t.createBuffer(),this.type=e,this.usage=tx,this.byteLength=0,this.dimension=1,this.dtype=tk,this.persistentData=null,n.profile&&(this.stats={size:0})}s.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){f(this)};var p=[];function d(e,t){var r=p.pop();return r||(r=new s(e)),r.bind(),u(r,t,tw,0,1,!1),r}function l(e){p.push(e)}function c(e,r,n){e.byteLength=r.byteLength,t.bufferData(e.type,r,n)}function u(t,r,n,i,a,o){if(t.usage=n,Array.isArray(r)){if(t.dtype=i||tE,r.length>0)if(Array.isArray(r[0])){for(var s,p=tR(r),d=1,l=1;l<p.length;++l)d*=p[l];t.dimension=d,s=tT(r,p,t.dtype),c(t,s,n),o?t.persistentData=s:eG.freeType(s)}else if("number"==typeof r[0]){t.dimension=a;var u=eG.allocType(t.dtype,r.length);tB(u,r),c(t,u,n),o?t.persistentData=u:eG.freeType(u)}else e(r[0])?(t.dimension=r[0].length,t.dtype=i||tA(r[0])||tE,s=tT(r,[r.length,r[0].length],t.dtype),c(t,s,n),o?t.persistentData=s:eG.freeType(s)):er.raise("invalid buffer data")}else if(e(r))t.dtype=i||tA(r),t.dimension=a,c(t,r,n),o&&(t.persistentData=new Uint8Array(new Uint8Array(r.buffer)));else if(tf(r)){p=r.shape;var f=r.stride,m=r.offset,g=0,h=0,y=0,v=0;1===p.length?(g=p[0],h=1,y=f[0],v=0):2===p.length?(g=p[0],h=p[1],y=f[0],v=f[1]):er.raise("invalid shape"),t.dtype=i||tA(r.data)||tE,t.dimension=h;var b=eG.allocType(t.dtype,g*h);tL(b,r.data,g,h,y,v,m),c(t,b,n),o?t.persistentData=b:eG.freeType(b)}else r instanceof ArrayBuffer?(t.dtype=tk,t.dimension=a,c(t,r,n),o&&(t.persistentData=new Uint8Array(new Uint8Array(r)))):er.raise("invalid buffer data")}function f(e){r.bufferCount--,i(e);var n=e.buffer;er(n,"buffer must not be deleted already"),t.deleteBuffer(n),e.buffer=null,delete o[e.id]}function m(i,a,p,d){r.bufferCount++;var l=new s(a);function c(r){var i=tx,a=null,o=0,s=0,p=1;return Array.isArray(r)||e(r)||tf(r)||r instanceof ArrayBuffer?a=r:"number"==typeof r?o=0|r:r&&(er.type(r,"object","buffer arguments must be an object, a number or an array"),"data"in r&&(er(null===a||Array.isArray(a)||e(a)||tf(a),"invalid data for buffer"),a=r.data),"usage"in r&&(er.parameter(r.usage,tS,"invalid buffer usage"),i=tS[r.usage]),"type"in r&&(er.parameter(r.type,tF,"invalid buffer type"),s=tF[r.type]),"dimension"in r&&(er.type(r.dimension,"number","invalid dimension"),p=0|r.dimension),"length"in r&&(er.nni(o,"buffer length must be a nonnegative integer"),o=0|r.length)),l.bind(),a?u(l,a,i,s,p,d):(o&&t.bufferData(l.type,o,i),l.dtype=s||tk,l.usage=i,l.dimension=p,l.byteLength=o),n.profile&&(l.stats.size=l.byteLength*tC[l.dtype]),c}function m(e,r){er(r+e.byteLength<=l.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+r+" to a buffer of size "+l.byteLength),t.bufferSubData(l.type,r,e)}function g(t,r){var n,i=0|(r||0);if(l.bind(),e(t)||t instanceof ArrayBuffer)m(t,i);else if(Array.isArray(t)){if(t.length>0)if("number"==typeof t[0]){var a=eG.allocType(l.dtype,t.length);tB(a,t),m(a,i),eG.freeType(a)}else if(Array.isArray(t[0])||e(t[0])){n=tR(t);var o=tT(t,n,l.dtype);m(o,i),eG.freeType(o)}else er.raise("invalid buffer data")}else if(tf(t)){n=t.shape;var s=t.stride,p=0,d=0,u=0,f=0;1===n.length?(p=n[0],d=1,u=s[0],f=0):2===n.length?(p=n[0],d=n[1],u=s[0],f=s[1]):er.raise("invalid shape");var g=Array.isArray(t.data)?l.dtype:tA(t.data),h=eG.allocType(g,p*d);tL(h,t.data,p,d,u,f,t.offset),m(h,i),eG.freeType(h)}else er.raise("invalid data for buffer subdata");return c}return o[l.id]=l,p||c(i),c._reglType="buffer",c._buffer=l,c.subdata=g,n.profile&&(c.stats=l.stats),c.destroy=function(){f(l)},c}function g(){tm(o).forEach(function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)})}return n.profile&&(r.getTotalBufferSize=function(){var e=0;return Object.keys(o).forEach(function(t){e+=o[t].stats.size}),e}),{create:m,createStream:d,destroyStream:l,clear:function(){tm(o).forEach(f),p.forEach(f)},getBuffer:function(e){return e&&e._buffer instanceof s?e._buffer:null},restore:g,_initBuffer:u}}tC[5120]=1,tC[5122]=2,tC[5124]=4,tC[5121]=1,tC[5123]=2,tC[5125]=4,tC[5126]=4;var tI={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},tG=0,tP=1,tz=4,tN=5120,tW=5121,tU=5122,tj=5123,tH=5124,tV=5125,tK=34963,t$=35040,tY=35044;function tX(t,r,n,i){var a={},o=0,s={uint8:tW,uint16:tj};function p(e){this.id=o++,a[this.id]=this,this.buffer=e,this.primType=tz,this.vertCount=0,this.type=0}r.oes_element_index_uint&&(s.uint32=tV),p.prototype.bind=function(){this.buffer.bind()};var d=[];function l(i,a,o,s,p,d,l){if(i.buffer.bind(),a){var c,u=l;!l&&(!e(a)||tf(a)&&!e(a.data))&&(u=r.oes_element_index_uint?tV:tj),n._initBuffer(i.buffer,a,o,u,3)}else t.bufferData(tK,d,o),i.buffer.dtype=c||tW,i.buffer.usage=o,i.buffer.dimension=3,i.buffer.byteLength=d;if(c=l,!l){switch(i.buffer.dtype){case tW:case tN:c=tW;break;case tj:case tU:c=tj;break;case tV:case tH:c=tV;break;default:er.raise("unsupported type for element array")}i.buffer.dtype=c}i.type=c,er(c!==tV||!!r.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var f=p;f<0&&(f=i.buffer.byteLength,c===tj?f>>=1:c===tV&&(f>>=2)),i.vertCount=f;var m=s;if(s<0){m=tz;var g=i.buffer.dimension;1===g&&(m=tG),2===g&&(m=tP),3===g&&(m=tz)}i.primType=m}function c(e){i.elementsCount--,er(null!==e.buffer,"must not double destroy elements"),delete a[e.id],e.buffer.destroy(),e.buffer=null}return{create:function(t,r){var a=n.create(null,tK,!0),o=new p(a._buffer);function d(t){if(t)if("number"==typeof t)a(t),o.primType=tz,o.vertCount=0|t,o.type=tW;else{var r=null,n=tY,i=-1,p=-1,c=0,u=0;Array.isArray(t)||e(t)||tf(t)?r=t:(er.type(t,"object","invalid arguments for elements"),"data"in t&&er(Array.isArray(r=t.data)||e(r)||tf(r),"invalid data for element buffer"),"usage"in t&&(er.parameter(t.usage,tS,"invalid element buffer usage"),n=tS[t.usage]),"primitive"in t&&(er.parameter(t.primitive,tI,"invalid element buffer primitive"),i=tI[t.primitive]),"count"in t&&(er("number"==typeof t.count&&t.count>=0,"invalid vertex count for elements"),p=0|t.count),"type"in t&&(er.parameter(t.type,s,"invalid buffer type"),u=s[t.type]),"length"in t?c=0|t.length:(c=p,u===tj||u===tU?c*=2:(u===tV||u===tH)&&(c*=4))),l(o,r,n,i,p,c,u)}else a(),o.primType=tz,o.vertCount=0,o.type=tW;return d}return i.elementsCount++,d(t),d._reglType="elements",d._elements=o,d.subdata=function(e,t){return a.subdata(e,t),d},d.destroy=function(){c(o)},d},createStream:function(e){var t=d.pop();return t||(t=new p(n.create(null,tK,!0,!1)._buffer)),l(t,e,t$,-1,-1,0,0),t},destroyStream:function(e){d.push(e)},getElements:function(e){return"function"==typeof e&&e._elements instanceof p?e._elements:null},clear:function(){tm(a).forEach(c)}}}var tq=new Float32Array(1),tJ=new Uint32Array(tq.buffer),tZ=5123;function tQ(e){for(var t=eG.allocType(tZ,e.length),r=0;r<e.length;++r)if(isNaN(e[r]))t[r]=65535;else if(e[r]===1/0)t[r]=31744;else if(e[r]===-1/0)t[r]=64512;else{tq[0]=e[r];var n=tJ[0],i=n>>>31<<15,a=(n<<1>>>24)-127,o=n>>13&1023;if(a<-24)t[r]=i;else if(a<-14){var s=-14-a;t[r]=i+(o+1024>>s)}else a>15?t[r]=i+31744:t[r]=i+(a+15<<10)+o}return t}function t0(t){return Array.isArray(t)||e(t)}var t1=function(e){return!(e&e-1)&&!!e},t2=34467,t3=3553,t4=34067,t6=34069,t5=6408,t8=6406,t7=6407,t9=6409,re=6410,rt=32854,rr=32855,rn=36194,ri=32819,ra=32820,ro=33635,rs=34042,rp=6402,rd=34041,rl=35904,rc=35906,ru=36193,rf=33776,rm=33777,rg=33778,rh=33779,ry=35986,rv=35987,rb=34798,r_=35840,rO=35841,rM=35842,rF=35843,rS=36196,rT=5121,rR=5123,rx=5125,rw=5126,rk=10242,rE=10243,rC=10497,rA=33071,rB=33648,rL=10240,rD=10241,rI=9728,rG=9729,rP=9984,rz=9985,rN=9986,rW=9987,rU=33170,rj=4352,rH=4353,rV=4354,rK=34046,r$=3317,rY=37440,rX=37441,rq=37443,rJ=37444,rZ=33984,rQ=[9984,9986,9985,9987],r0=[0,6409,6410,6407,6408],r1={};function r2(e){return"[object "+e+"]"}r1[6409]=r1[t8]=r1[rp]=1,r1[rd]=r1[re]=2,r1[t7]=r1[rl]=3,r1[t5]=r1[rc]=4;var r3=r2("HTMLCanvasElement"),r4=r2("OffscreenCanvas"),r6=r2("CanvasRenderingContext2D"),r5=r2("ImageBitmap"),r8=r2("HTMLImageElement"),r7=r2("HTMLVideoElement"),r9=Object.keys(tM).concat([r3,r4,r6,r5,r8,r7]),ne=[];ne[rT]=1,ne[rw]=4,ne[ru]=2,ne[rR]=2,ne[rx]=4;var nt=[];function nr(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])}function nn(e){return!!Array.isArray(e)&&0!==e.length&&!!t0(e[0])}function ni(e){return Object.prototype.toString.call(e)}function na(e){return ni(e)===r3}function no(e){return ni(e)===r4}function ns(e){return ni(e)===r6}function np(e){return ni(e)===r5}function nd(e){return ni(e)===r8}function nl(e){return ni(e)===r7}function nc(e){if(!e)return!1;var t=ni(e);return r9.indexOf(t)>=0||nr(e)||nn(e)||tf(e)}function nu(e){return 0|tM[Object.prototype.toString.call(e)]}function nf(e,t){var r=t.length;switch(e.type){case rT:case rR:case rx:case rw:var n=eG.allocType(e.type,r);n.set(t),e.data=n;break;case ru:e.data=tQ(t);break;default:er.raise("unsupported texture type, must specify a typed array")}}function nm(e,t){return eG.allocType(e.type===ru?rw:e.type,t)}function ng(e,t){e.type===ru?(e.data=tQ(t),eG.freeType(t)):e.data=t}function nh(e,t,r,n,i,a){for(var o=e.width,s=e.height,p=e.channels,d=nm(e,o*s*p),l=0,c=0;c<s;++c)for(var u=0;u<o;++u)for(var f=0;f<p;++f)d[l++]=t[r*u+n*c+i*f+a];ng(e,d)}function ny(e,t,r,n,i,a){var o;if(o=void 0!==nt[e]?nt[e]:r1[e]*ne[t],a&&(o*=6),!i)return o*r*n;for(var s=0,p=r;p>=1;)s+=o*p*p,p/=2;return s}function nv(r,n,i,a,o,s,p){var d={"don't care":rj,"dont care":rj,nice:rV,fast:rH},l={repeat:rC,clamp:rA,mirror:rB},c={nearest:rI,linear:rG},u=t({mipmap:rW,"nearest mipmap nearest":rP,"linear mipmap nearest":rz,"nearest mipmap linear":rN,"linear mipmap linear":rW},c),f={none:0,browser:rJ},m={uint8:rT,rgba4:ri,rgb565:ro,"rgb5 a1":ra},g={alpha:t8,luminance:t9,"luminance alpha":re,rgb:t7,rgba:t5,rgba4:rt,"rgb5 a1":rr,rgb565:rn},h={};n.ext_srgb&&(g.srgb=rl,g.srgba=rc),n.oes_texture_float&&(m.float32=m.float=rw),n.oes_texture_half_float&&(m.float16=m["half float"]=ru),n.webgl_depth_texture&&(t(g,{depth:rp,"depth stencil":rd}),t(m,{uint16:rR,uint32:rx,"depth stencil":rs})),n.webgl_compressed_texture_s3tc&&t(h,{"rgb s3tc dxt1":rf,"rgba s3tc dxt1":rm,"rgba s3tc dxt3":rg,"rgba s3tc dxt5":rh}),n.webgl_compressed_texture_atc&&t(h,{"rgb atc":ry,"rgba atc explicit alpha":rv,"rgba atc interpolated alpha":rb}),n.webgl_compressed_texture_pvrtc&&t(h,{"rgb pvrtc 4bppv1":r_,"rgb pvrtc 2bppv1":rO,"rgba pvrtc 4bppv1":rM,"rgba pvrtc 2bppv1":rF}),n.webgl_compressed_texture_etc1&&(h["rgb etc1"]=rS);var y=Array.prototype.slice.call(r.getParameter(t2));Object.keys(h).forEach(function(e){var t=h[e];y.indexOf(t)>=0&&(g[e]=t)});var v=Object.keys(g);i.textureFormats=v;var b=[];Object.keys(g).forEach(function(e){b[g[e]]=e});var _=[];Object.keys(m).forEach(function(e){_[m[e]]=e});var O=[];Object.keys(c).forEach(function(e){O[c[e]]=e});var M=[];Object.keys(u).forEach(function(e){M[u[e]]=e});var F=[];Object.keys(l).forEach(function(e){F[l[e]]=e});var S=v.reduce(function(e,t){var r=g[t];return r===t9||r===t8||r===t9||r===re||r===rp||r===rd||n.ext_srgb&&(r===rl||r===rc)?e[r]=r:r===rr||t.indexOf("rgba")>=0?e[r]=t5:e[r]=t7,e},{});function T(){this.internalformat=t5,this.format=t5,this.type=rT,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=rJ,this.width=0,this.height=0,this.channels=0}function R(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function x(e,t){if("object"==typeof t&&t){if("premultiplyAlpha"in t&&(er.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(er.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(er.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(er.parameter(t.colorSpace,f,"invalid colorSpace"),e.colorSpace=f[t.colorSpace]),"type"in t){var r=t.type;er(n.oes_texture_float||"float"!==r&&"float32"!==r,"you must enable the OES_texture_float extension in order to use floating point textures."),er(n.oes_texture_half_float||"half float"!==r&&"float16"!==r,"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),er(n.webgl_depth_texture||"uint16"!==r&&"uint32"!==r&&"depth stencil"!==r,"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),er.parameter(r,m,"invalid texture type"),e.type=m[r]}var a=e.width,o=e.height,s=e.channels,p=!1;"shape"in t?(er(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),a=t.shape[0],o=t.shape[1],3===t.shape.length&&(er((s=t.shape[2])>0&&s<=4,"invalid number of channels"),p=!0),er(a>=0&&a<=i.maxTextureSize,"invalid width"),er(o>=0&&o<=i.maxTextureSize,"invalid height")):("radius"in t&&er((a=o=t.radius)>=0&&a<=i.maxTextureSize,"invalid radius"),"width"in t&&er((a=t.width)>=0&&a<=i.maxTextureSize,"invalid width"),"height"in t&&er((o=t.height)>=0&&o<=i.maxTextureSize,"invalid height"),"channels"in t&&(er((s=t.channels)>0&&s<=4,"invalid number of channels"),p=!0)),e.width=0|a,e.height=0|o,e.channels=0|s;var d=!1;if("format"in t){var l=t.format;er(n.webgl_depth_texture||"depth"!==l&&"depth stencil"!==l,"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),er.parameter(l,g,"invalid texture format");var c=e.internalformat=g[l];e.format=S[c],l in m&&!("type"in t)&&(e.type=m[l]),l in h&&(e.compressed=!0),d=!0}!p&&d?e.channels=r1[e.format]:p&&!d?e.channels!==r0[e.format]&&(e.format=e.internalformat=r0[e.channels]):d&&p&&er(e.channels===r1[e.format],"number of channels inconsistent with specified format")}}function w(e){r.pixelStorei(rY,e.flipY),r.pixelStorei(rX,e.premultiplyAlpha),r.pixelStorei(rq,e.colorSpace),r.pixelStorei(r$,e.unpackAlignment)}function k(){T.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function E(t,r){var n=null;if(nc(r)?n=r:r&&(er.type(r,"object","invalid pixel data type"),x(t,r),"x"in r&&(t.xOffset=0|r.x),"y"in r&&(t.yOffset=0|r.y),nc(r.data)&&(n=r.data)),er(!t.compressed||n instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),r.copy){er(!n,"can not specify copy and data field for the same texture");var a=o.viewportWidth,s=o.viewportHeight;t.width=t.width||a-t.xOffset,t.height=t.height||s-t.yOffset,t.needsCopy=!0,er(t.xOffset>=0&&t.xOffset<a&&t.yOffset>=0&&t.yOffset<s&&t.width>0&&t.width<=a&&t.height>0&&t.height<=s,"copy texture read out of bounds")}else if(n){if(e(n))t.channels=t.channels||4,t.data=n,"type"in r||t.type!==rT||(t.type=nu(n));else if(nr(n))t.channels=t.channels||4,nf(t,n),t.alignment=1,t.needsFree=!0;else if(tf(n)){var p,d,l,c,u,f,m=n.data;Array.isArray(m)||t.type!==rT||(t.type=nu(m));var g=n.shape,h=n.stride;3===g.length?(l=g[2],f=h[2]):(er(2===g.length,"invalid ndarray pixel data, must be 2 or 3D"),l=1,f=1),p=g[0],d=g[1],c=h[0],u=h[1],t.alignment=1,t.width=p,t.height=d,t.channels=l,t.format=t.internalformat=r0[l],t.needsFree=!0,nh(t,m,c,u,f,n.offset)}else if(na(n)||no(n)||ns(n))na(n)||no(n)?t.element=n:t.element=n.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(np(n))t.element=n,t.width=n.width,t.height=n.height,t.channels=4;else if(nd(n))t.element=n,t.width=n.naturalWidth,t.height=n.naturalHeight,t.channels=4;else if(nl(n))t.element=n,t.width=n.videoWidth,t.height=n.videoHeight,t.channels=4;else if(nn(n)){var y=t.width||n[0].length,v=t.height||n.length,b=t.channels;b=t0(n[0][0])?b||n[0][0].length:b||1;for(var _=tg.shape(n),O=1,M=0;M<_.length;++M)O*=_[M];var F=nm(t,O);tg.flatten(n,_,"",F),ng(t,F),t.alignment=1,t.width=y,t.height=v,t.channels=b,t.format=t.internalformat=r0[b],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===rw?er(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===ru&&er(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function C(e,t,n){var i=e.element,o=e.data,s=e.internalformat,p=e.format,d=e.type,l=e.width,c=e.height;w(e),i?r.texImage2D(t,n,p,p,d,i):e.compressed?r.compressedTexImage2D(t,n,s,l,c,0,o):e.needsCopy?(a(),r.copyTexImage2D(t,n,p,e.xOffset,e.yOffset,l,c,0)):r.texImage2D(t,n,p,l,c,0,p,d,o||null)}function A(e,t,n,i,o){var s=e.element,p=e.data,d=e.internalformat,l=e.format,c=e.type,u=e.width,f=e.height;w(e),s?r.texSubImage2D(t,o,n,i,l,c,s):e.compressed?r.compressedTexSubImage2D(t,o,n,i,d,u,f,p):e.needsCopy?(a(),r.copyTexSubImage2D(t,o,n,i,e.xOffset,e.yOffset,u,f)):r.texSubImage2D(t,o,n,i,u,f,l,c,p)}var B=[];function L(){return B.pop()||new k}function D(e){e.needsFree&&eG.freeType(e.data),k.call(e),B.push(e)}function I(){T.call(this),this.genMipmaps=!1,this.mipmapHint=rj,this.mipmask=0,this.images=Array(16)}function G(e,t,r){var n=e.images[0]=L();e.mipmask=1,n.width=e.width=t,n.height=e.height=r,n.channels=e.channels=4}function P(e,t){var r=null;if(nc(t))R(r=e.images[0]=L(),e),E(r,t),e.mipmask=1;else if(x(e,t),Array.isArray(t.mipmap))for(var n=t.mipmap,i=0;i<n.length;++i)R(r=e.images[i]=L(),e),r.width>>=i,r.height>>=i,E(r,n[i]),e.mipmask|=1<<i;else R(r=e.images[0]=L(),e),E(r,t),e.mipmask=1;R(e,e.images[0]),e.compressed&&(e.internalformat===rf||e.internalformat===rm||e.internalformat===rg||e.internalformat===rh)&&er(e.width%4==0&&e.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function z(e,t){for(var r=e.images,n=0;n<r.length;++n){if(!r[n])return;C(r[n],t,n)}}var N=[];function W(){var e=N.pop()||new I;T.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function U(e){for(var t=e.images,r=0;r<t.length;++r)t[r]&&D(t[r]),t[r]=null;N.push(e)}function j(){this.minFilter=rI,this.magFilter=rI,this.wrapS=rA,this.wrapT=rA,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=rj}function H(e,t){if("min"in t){var r=t.min;er.parameter(r,u),e.minFilter=u[r],!(rQ.indexOf(e.minFilter)>=0)||"faces"in t||(e.genMipmaps=!0)}if("mag"in t){var n=t.mag;er.parameter(n,c),e.magFilter=c[n]}var a=e.wrapS,o=e.wrapT;if("wrap"in t){var s=t.wrap;"string"==typeof s?(er.parameter(s,l),a=o=l[s]):Array.isArray(s)&&(er.parameter(s[0],l),er.parameter(s[1],l),a=l[s[0]],o=l[s[1]])}else{if("wrapS"in t){var p=t.wrapS;er.parameter(p,l),a=l[p]}if("wrapT"in t){var f=t.wrapT;er.parameter(f,l),o=l[f]}}if(e.wrapS=a,e.wrapT=o,"anisotropic"in t){var m=t.anisotropic;er("number"==typeof m&&m>=1&&m<=i.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var g=!1;switch(typeof t.mipmap){case"string":er.parameter(t.mipmap,d,"invalid mipmap hint"),e.mipmapHint=d[t.mipmap],e.genMipmaps=!0,g=!0;break;case"boolean":g=e.genMipmaps=t.mipmap;break;case"object":er(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,g=!0;break;default:er.raise("invalid mipmap type")}!g||"min"in t||(e.minFilter=rP)}}function V(e,t){r.texParameteri(t,rD,e.minFilter),r.texParameteri(t,rL,e.magFilter),r.texParameteri(t,rk,e.wrapS),r.texParameteri(t,rE,e.wrapT),n.ext_texture_filter_anisotropic&&r.texParameteri(t,rK,e.anisotropic),e.genMipmaps&&(r.hint(rU,e.mipmapHint),r.generateMipmap(t))}var K=0,$={},Y=i.maxTextureUnits,X=Array(Y).map(function(){return null});function q(e){T.call(this),this.mipmask=0,this.internalformat=t5,this.id=K++,this.refCount=1,this.target=e,this.texture=r.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new j,p.profile&&(this.stats={size:0})}function J(e){r.activeTexture(rZ),r.bindTexture(e.target,e.texture)}function Z(){var e=X[0];e?r.bindTexture(e.target,e.texture):r.bindTexture(t3,null)}function Q(e){var t=e.texture;er(t,"must not double destroy texture");var n=e.unit,i=e.target;n>=0&&(r.activeTexture(rZ+n),r.bindTexture(i,null),X[n]=null),r.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete $[e.id],s.textureCount--}function ee(e,t){var n=new q(t3);function a(e,t){var r=n.texInfo;j.call(r);var o=W();return"number"==typeof e?"number"==typeof t?G(o,0|e,0|t):G(o,0|e,0|e):e?(er.type(e,"object","invalid arguments to regl.texture"),H(r,e),P(o,e)):G(o,1,1),r.genMipmaps&&(o.mipmask=(o.width<<1)-1),n.mipmask=o.mipmask,R(n,o),er.texture2D(r,o,i),n.internalformat=o.internalformat,a.width=o.width,a.height=o.height,J(n),z(o,t3),V(r,t3),Z(),U(o),p.profile&&(n.stats.size=ny(n.internalformat,n.type,o.width,o.height,r.genMipmaps,!1)),a.format=b[n.internalformat],a.type=_[n.type],a.mag=O[r.magFilter],a.min=M[r.minFilter],a.wrapS=F[r.wrapS],a.wrapT=F[r.wrapT],a}function o(e,t,r,i){er(!!e,"must specify image data");var o=0|t,s=0|r,p=0|i,d=L();return R(d,n),d.width=0,d.height=0,E(d,e),d.width=d.width||(n.width>>p)-o,d.height=d.height||(n.height>>p)-s,er(n.type===d.type&&n.format===d.format&&n.internalformat===d.internalformat,"incompatible format for texture.subimage"),er(o>=0&&s>=0&&o+d.width<=n.width&&s+d.height<=n.height,"texture.subimage write out of bounds"),er(n.mipmask&1<<p,"missing mipmap data"),er(d.data||d.element||d.needsCopy,"missing image data"),J(n),A(d,t3,o,s,p),Z(),D(d),a}function d(e,t){var i=0|e,o=0|t||i;if(i===n.width&&o===n.height)return a;a.width=n.width=i,a.height=n.height=o,J(n);for(var s=0;n.mipmask>>s;++s){var d=i>>s,l=o>>s;if(!d||!l)break;r.texImage2D(t3,s,n.format,d,l,0,n.format,n.type,null)}return Z(),p.profile&&(n.stats.size=ny(n.internalformat,n.type,i,o,!1,!1)),a}return $[n.id]=n,s.textureCount++,a(e,t),a.subimage=o,a.resize=d,a._reglType="texture2d",a._texture=n,p.profile&&(a.stats=n.stats),a.destroy=function(){n.decRef()},a}function et(e,t,n,a,o,d){var l=new q(t4);$[l.id]=l,s.cubeCount++;var c=Array(6);function u(e,t,r,n,a,o){var s,d=l.texInfo;for(j.call(d),s=0;s<6;++s)c[s]=W();if("number"!=typeof e&&e)if("object"==typeof e)if(t)P(c[0],e),P(c[1],t),P(c[2],r),P(c[3],n),P(c[4],a),P(c[5],o);else if(H(d,e),x(l,e),"faces"in e){var f=e.faces;for(er(Array.isArray(f)&&6===f.length,"cube faces must be a length 6 array"),s=0;s<6;++s)er("object"==typeof f[s]&&!!f[s],"invalid input for cube map face"),R(c[s],l),P(c[s],f[s])}else for(s=0;s<6;++s)P(c[s],e);else er.raise("invalid arguments to cube map");else{var m=0|e||1;for(s=0;s<6;++s)G(c[s],m,m)}for(R(l,c[0]),er.optional(function(){i.npotTextureCube||er(t1(l.width)&&t1(l.height),"your browser does not support non power or two texture dimensions")}),d.genMipmaps?l.mipmask=(c[0].width<<1)-1:l.mipmask=c[0].mipmask,er.textureCube(l,d,c,i),l.internalformat=c[0].internalformat,u.width=c[0].width,u.height=c[0].height,J(l),s=0;s<6;++s)z(c[s],t6+s);for(V(d,t4),Z(),p.profile&&(l.stats.size=ny(l.internalformat,l.type,u.width,u.height,d.genMipmaps,!0)),u.format=b[l.internalformat],u.type=_[l.type],u.mag=O[d.magFilter],u.min=M[d.minFilter],u.wrapS=F[d.wrapS],u.wrapT=F[d.wrapT],s=0;s<6;++s)U(c[s]);return u}function f(e,t,r,n,i){er(!!t,"must specify image data"),er("number"==typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var a=0|r,o=0|n,s=0|i,p=L();return R(p,l),p.width=0,p.height=0,E(p,t),p.width=p.width||(l.width>>s)-a,p.height=p.height||(l.height>>s)-o,er(l.type===p.type&&l.format===p.format&&l.internalformat===p.internalformat,"incompatible format for texture.subimage"),er(a>=0&&o>=0&&a+p.width<=l.width&&o+p.height<=l.height,"texture.subimage write out of bounds"),er(l.mipmask&1<<s,"missing mipmap data"),er(p.data||p.element||p.needsCopy,"missing image data"),J(l),A(p,t6+e,a,o,s),Z(),D(p),u}function m(e){var t=0|e;if(t!==l.width){u.width=l.width=t,u.height=l.height=t,J(l);for(var n=0;n<6;++n)for(var i=0;l.mipmask>>i;++i)r.texImage2D(t6+n,i,l.format,t>>i,t>>i,0,l.format,l.type,null);return Z(),p.profile&&(l.stats.size=ny(l.internalformat,l.type,u.width,u.height,!1,!0)),u}}return u(e,t,n,a,o,d),u.subimage=f,u.resize=m,u._reglType="textureCube",u._texture=l,p.profile&&(u.stats=l.stats),u.destroy=function(){l.decRef()},u}function en(){for(var e=0;e<Y;++e)r.activeTexture(rZ+e),r.bindTexture(t3,null),X[e]=null;tm($).forEach(Q),s.cubeCount=0,s.textureCount=0}return t(q.prototype,{bind:function(){var e=this;e.bindCount+=1;var t=e.unit;if(t<0){for(var n=0;n<Y;++n){var i=X[n];if(i){if(i.bindCount>0)continue;i.unit=-1}X[n]=e,t=n;break}t>=Y&&er.raise("insufficient number of texture units"),p.profile&&s.maxTextureUnits<t+1&&(s.maxTextureUnits=t+1),e.unit=t,r.activeTexture(rZ+t),r.bindTexture(e.target,e.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Q(this)}}),p.profile&&(s.getTotalTextureSize=function(){var e=0;return Object.keys($).forEach(function(t){e+=$[t].stats.size}),e}),{create2D:ee,createCube:et,clear:en,getTexture:function(e){return null},restore:function(){for(var e=0;e<Y;++e){var t=X[e];t&&(t.bindCount=0,t.unit=-1,X[e]=null)}tm($).forEach(function(e){e.texture=r.createTexture(),r.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if((e.mipmask&1<<t)!=0)if(e.target===t3)r.texImage2D(t3,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var n=0;n<6;++n)r.texImage2D(t6+n,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);V(e.texInfo,e.target)})},refresh:function(){for(var e=0;e<Y;++e){var t=X[e];t&&(t.bindCount=0,t.unit=-1,X[e]=null),r.activeTexture(rZ+e),r.bindTexture(t3,null),r.bindTexture(t4,null)}}}}nt[rt]=2,nt[rr]=2,nt[rn]=2,nt[rd]=4,nt[rf]=.5,nt[rm]=.5,nt[rg]=1,nt[rh]=1,nt[ry]=.5,nt[rv]=1,nt[rb]=1,nt[r_]=.5,nt[rO]=.25,nt[rM]=.5,nt[rF]=.25,nt[rS]=.5;var nb=36161,n_=32854,nO=32855,nM=36194,nF=33189,nS=36168,nT=34041,nR=35907,nx=34836,nw=34842,nk=34843,nE=[];function nC(e,t,r){return nE[e]*t*r}nE[32854]=2,nE[nO]=2,nE[nM]=2,nE[nF]=2,nE[nS]=1,nE[nT]=4,nE[nR]=4,nE[nx]=16,nE[nw]=8,nE[nk]=6;var nA=function(e,t,r,n,i){var a={rgba4:n_,rgb565:nM,"rgb5 a1":nO,depth:nF,stencil:nS,"depth stencil":nT};t.ext_srgb&&(a.srgba=nR),t.ext_color_buffer_half_float&&(a.rgba16f=nw,a.rgb16f=nk),t.webgl_color_buffer_float&&(a.rgba32f=nx);var o=[];Object.keys(a).forEach(function(e){o[a[e]]=e});var s=0,p={};function d(e){this.id=s++,this.refCount=1,this.renderbuffer=e,this.format=n_,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function l(t){var r=t.renderbuffer;er(r,"must not double destroy renderbuffer"),e.bindRenderbuffer(nb,null),e.deleteRenderbuffer(r),t.renderbuffer=null,t.refCount=0,delete p[t.id],n.renderbufferCount--}function c(t,s){var l=new d(e.createRenderbuffer());function c(t,n){var s=0,p=0,d=n_;if("object"==typeof t&&t){var u=t;if("shape"in u){var f=u.shape;er(Array.isArray(f)&&f.length>=2,"invalid renderbuffer shape"),s=0|f[0],p=0|f[1]}else"radius"in u&&(s=p=0|u.radius),"width"in u&&(s=0|u.width),"height"in u&&(p=0|u.height);"format"in u&&(er.parameter(u.format,a,"invalid renderbuffer format"),d=a[u.format])}else"number"==typeof t?(s=0|t,p="number"==typeof n?0|n:s):t?er.raise("invalid arguments to renderbuffer constructor"):s=p=1;if(er(s>0&&p>0&&s<=r.maxRenderbufferSize&&p<=r.maxRenderbufferSize,"invalid renderbuffer size"),s!==l.width||p!==l.height||d!==l.format)return c.width=l.width=s,c.height=l.height=p,l.format=d,e.bindRenderbuffer(nb,l.renderbuffer),e.renderbufferStorage(nb,d,s,p),er(0===e.getError(),"invalid render buffer format"),i.profile&&(l.stats.size=nC(l.format,l.width,l.height)),c.format=o[l.format],c}function u(t,n){var a=0|t,o=0|n||a;return a===l.width&&o===l.height||(er(a>0&&o>0&&a<=r.maxRenderbufferSize&&o<=r.maxRenderbufferSize,"invalid renderbuffer size"),c.width=l.width=a,c.height=l.height=o,e.bindRenderbuffer(nb,l.renderbuffer),e.renderbufferStorage(nb,l.format,a,o),er(0===e.getError(),"invalid render buffer format"),i.profile&&(l.stats.size=nC(l.format,l.width,l.height))),c}return p[l.id]=l,n.renderbufferCount++,c(t,s),c.resize=u,c._reglType="renderbuffer",c._renderbuffer=l,i.profile&&(c.stats=l.stats),c.destroy=function(){l.decRef()},c}return d.prototype.decRef=function(){--this.refCount<=0&&l(this)},i.profile&&(n.getTotalRenderbufferSize=function(){var e=0;return Object.keys(p).forEach(function(t){e+=p[t].stats.size}),e}),{create:c,clear:function(){tm(p).forEach(l)},restore:function(){tm(p).forEach(function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(nb,t.renderbuffer),e.renderbufferStorage(nb,t.format,t.width,t.height)}),e.bindRenderbuffer(nb,null)}}},nB=36160,nL=36161,nD=3553,nI=34069,nG=36064,nP=36096,nz=36128,nN=33306,nW=36053,nU=36054,nj=36055,nH=36057,nV=36061,nK=36193,n$=5121,nY=5126,nX=6407,nq=6402,nJ=[6407,6408],nZ=[];nZ[6408]=4,nZ[nX]=3;var nQ=[];nQ[n$]=1,nQ[nY]=4,nQ[nK]=2;var n0=33189,n1=36168,n2=34041,n3=[32854,32855,36194,35907,34842,34843,34836],n4={};function n6(e,r,n,i,a,o){var s={cur:null,next:null,dirty:!1,setFBO:null},p=["rgba"],d=["rgba4","rgb565","rgb5 a1"];r.ext_srgb&&d.push("srgba"),r.ext_color_buffer_half_float&&d.push("rgba16f","rgb16f"),r.webgl_color_buffer_float&&d.push("rgba32f");var l=["uint8"];function c(e,t,r){this.target=e,this.texture=t,this.renderbuffer=r;var n=0,i=0;t?(n=t.width,i=t.height):r&&(n=r.width,i=r.height),this.width=n,this.height=i}function u(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function f(e,t,r){if(e)if(e.texture){var n=e.texture._texture,i=Math.max(1,n.width),a=Math.max(1,n.height);er(i===t&&a===r,"inconsistent width/height for supplied texture"),n.refCount+=1}else{var o=e.renderbuffer._renderbuffer;er(o.width===t&&o.height===r,"inconsistent width/height for renderbuffer"),o.refCount+=1}}function m(t,r){r&&(r.texture?e.framebufferTexture2D(nB,t,r.target,r.texture._texture.texture,0):e.framebufferRenderbuffer(nB,t,nL,r.renderbuffer._renderbuffer.renderbuffer))}function g(e){var t=nD,r=null,n=null,i=e;"object"==typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),er.type(i,"function","invalid attachment data");var a=i._reglType;return"texture2d"===a?(r=i,er(t===nD)):"textureCube"===a?(r=i,er(t>=nI&&t<nI+6,"invalid cube map target")):"renderbuffer"===a?(n=i,t=nL):er.raise("invalid regl object for attachment"),new c(t,r,n)}function h(e,t,r,n,o){if(r){var s=i.create2D({width:e,height:t,format:n,type:o});return s._texture.refCount=0,new c(nD,s,null)}var p=a.create({width:e,height:t,format:n});return p._renderbuffer.refCount=0,new c(nL,null,p)}function y(e){return e&&(e.texture||e.renderbuffer)}function v(e,t,r){e&&(e.texture?e.texture.resize(t,r):e.renderbuffer&&e.renderbuffer.resize(t,r),e.width=t,e.height=r)}r.oes_texture_half_float&&l.push("half float","float16"),r.oes_texture_float&&l.push("float","float32");var b=0,_={};function O(){this.id=b++,_[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function M(e){e.colorAttachments.forEach(u),u(e.depthAttachment),u(e.stencilAttachment),u(e.depthStencilAttachment)}function F(t){var r=t.framebuffer;er(r,"must not double destroy framebuffer"),e.deleteFramebuffer(r),t.framebuffer=null,o.framebufferCount--,delete _[t.id]}function S(t){e.bindFramebuffer(nB,t.framebuffer);var r,i=t.colorAttachments;for(r=0;r<i.length;++r)m(nG+r,i[r]);for(r=i.length;r<n.maxColorAttachments;++r)e.framebufferTexture2D(nB,nG+r,nD,null,0);e.framebufferTexture2D(nB,nN,nD,null,0),e.framebufferTexture2D(nB,nP,nD,null,0),e.framebufferTexture2D(nB,nz,nD,null,0),m(nP,t.depthAttachment),m(nz,t.stencilAttachment),m(nN,t.depthStencilAttachment);var a=e.checkFramebufferStatus(nB);e.isContextLost()||a===nW||er.raise("framebuffer configuration not supported, status = "+n4[a]),e.bindFramebuffer(nB,s.next?s.next.framebuffer:null),s.cur=s.next,e.getError()}function T(e,i){var a=new O;function c(e,t){er(s.next!==a,"can not update framebuffer which is currently in use");var i,o=0,u=0,m=!0,v=!0,b=null,_=!0,O="rgba",F="uint8",T=1,R=null,x=null,w=null,k=!1;if("number"==typeof e)o=0|e,u=0|t||o;else if(e){er.type(e,"object","invalid arguments for framebuffer");var E=e;if("shape"in E){var C=E.shape;er(Array.isArray(C)&&C.length>=2,"invalid shape for framebuffer"),o=C[0],u=C[1]}else"radius"in E&&(o=u=E.radius),"width"in E&&(o=E.width),"height"in E&&(u=E.height);("color"in E||"colors"in E)&&Array.isArray(b=E.color||E.colors)&&er(1===b.length||r.webgl_draw_buffers,"multiple render targets not supported"),!b&&("colorCount"in E&&er((T=0|E.colorCount)>0,"invalid color buffer count"),"colorTexture"in E&&(_=!!E.colorTexture,O="rgba4"),"colorType"in E&&(F=E.colorType,_?(er(r.oes_texture_float||"float"!==F&&"float32"!==F,"you must enable OES_texture_float in order to use floating point framebuffer objects"),er(r.oes_texture_half_float||"half float"!==F&&"float16"!==F,"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===F||"float16"===F?(er(r.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),O="rgba16f"):("float"===F||"float32"===F)&&(er(r.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),O="rgba32f"),er.oneOf(F,l,"invalid color type")),"colorFormat"in E&&(O=E.colorFormat,p.indexOf(O)>=0?_=!0:d.indexOf(O)>=0?_=!1:er.optional(function(){_?er.oneOf(E.colorFormat,p,"invalid color format for texture"):er.oneOf(E.colorFormat,d,"invalid color format for renderbuffer")}))),("depthTexture"in E||"depthStencilTexture"in E)&&er(!(k=!!(E.depthTexture||E.depthStencilTexture))||r.webgl_depth_texture,"webgl_depth_texture extension not supported"),"depth"in E&&("boolean"==typeof E.depth?m=E.depth:(R=E.depth,v=!1)),"stencil"in E&&("boolean"==typeof E.stencil?v=E.stencil:(x=E.stencil,m=!1)),"depthStencil"in E&&("boolean"==typeof E.depthStencil?m=v=E.depthStencil:(w=E.depthStencil,m=!1,v=!1))}else o=u=1;var A=null,B=null,L=null,D=null;if(Array.isArray(b))A=b.map(g);else if(b)A=[g(b)];else for(i=0,A=Array(T);i<T;++i)A[i]=h(o,u,_,O,F);er(r.webgl_draw_buffers||A.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),er(A.length<=n.maxColorAttachments,"too many color attachments, not supported"),o=o||A[0].width,u=u||A[0].height,R?B=g(R):m&&!v&&(B=h(o,u,k,"depth","uint32")),x?L=g(x):v&&!m&&(L=h(o,u,!1,"stencil","uint8")),w?D=g(w):!R&&!x&&v&&m&&(D=h(o,u,k,"depth stencil","depth stencil")),er(!!R+!!x+!!w<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var I=null;for(i=0;i<A.length;++i)if(f(A[i],o,u),er(!A[i]||A[i].texture&&nJ.indexOf(A[i].texture._texture.format)>=0||A[i].renderbuffer&&n3.indexOf(A[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),A[i]&&A[i].texture){var G=nZ[A[i].texture._texture.format]*nQ[A[i].texture._texture.type];null===I?I=G:er(I===G,"all color attachments much have the same number of bits per pixel.")}return f(B,o,u),er(!B||B.texture&&B.texture._texture.format===nq||B.renderbuffer&&B.renderbuffer._renderbuffer.format===n0,"invalid depth attachment for framebuffer object"),f(L,o,u),er(!L||L.renderbuffer&&L.renderbuffer._renderbuffer.format===n1,"invalid stencil attachment for framebuffer object"),f(D,o,u),er(!D||D.texture&&D.texture._texture.format===n2||D.renderbuffer&&D.renderbuffer._renderbuffer.format===n2,"invalid depth-stencil attachment for framebuffer object"),M(a),a.width=o,a.height=u,a.colorAttachments=A,a.depthAttachment=B,a.stencilAttachment=L,a.depthStencilAttachment=D,c.color=A.map(y),c.depth=y(B),c.stencil=y(L),c.depthStencil=y(D),c.width=a.width,c.height=a.height,S(a),c}function u(e,t){er(s.next!==a,"can not resize a framebuffer which is currently in use");var r=Math.max(0|e,1),n=Math.max(0|t||r,1);if(r===a.width&&n===a.height)return c;for(var i=a.colorAttachments,o=0;o<i.length;++o)v(i[o],r,n);return v(a.depthAttachment,r,n),v(a.stencilAttachment,r,n),v(a.depthStencilAttachment,r,n),a.width=c.width=r,a.height=c.height=n,S(a),c}return o.framebufferCount++,c(e,i),t(c,{resize:u,_reglType:"framebuffer",_framebuffer:a,destroy:function(){F(a),M(a)},use:function(e){s.setFBO({framebuffer:c},e)}})}function R(e){var a=Array(6);function o(e){er(0>a.indexOf(s.next),"can not update framebuffer which is currently in use");var n,d,c={color:null},u=0,f=null,m="rgba",g="uint8",h=1;if("number"==typeof e)u=0|e;else if(e){er.type(e,"object","invalid arguments for framebuffer");var y=e;if("shape"in y){var v=y.shape;er(Array.isArray(v)&&v.length>=2,"invalid shape for framebuffer"),er(v[0]===v[1],"cube framebuffer must be square"),u=v[0]}else"radius"in y&&(u=0|y.radius),"width"in y?(u=0|y.width,"height"in y&&er(y.height===u,"must be square")):"height"in y&&(u=0|y.height);("color"in y||"colors"in y)&&Array.isArray(f=y.color||y.colors)&&er(1===f.length||r.webgl_draw_buffers,"multiple render targets not supported"),!f&&("colorCount"in y&&er((h=0|y.colorCount)>0,"invalid color buffer count"),"colorType"in y&&(er.oneOf(y.colorType,l,"invalid color type"),g=y.colorType),"colorFormat"in y&&(m=y.colorFormat,er.oneOf(y.colorFormat,p,"invalid color format for texture"))),"depth"in y&&(c.depth=y.depth),"stencil"in y&&(c.stencil=y.stencil),"depthStencil"in y&&(c.depthStencil=y.depthStencil)}else u=1;if(f)if(Array.isArray(f))for(n=0,d=[];n<f.length;++n)d[n]=f[n];else d=[f];else{d=Array(h);var b={radius:u,format:m,type:g};for(n=0;n<h;++n)d[n]=i.createCube(b)}for(n=0,c.color=Array(d.length);n<d.length;++n){var _=d[n];er("function"==typeof _&&"textureCube"===_._reglType,"invalid cube map"),u=u||_.width,er(_.width===u&&_.height===u,"invalid cube map shape"),c.color[n]={target:nI,data:d[n]}}for(n=0;n<6;++n){for(var O=0;O<d.length;++O)c.color[O].target=nI+n;n>0&&(c.depth=a[0].depth,c.stencil=a[0].stencil,c.depthStencil=a[0].depthStencil),a[n]?a[n](c):a[n]=T(c)}return t(o,{width:u,height:u,color:d})}function d(e){var t,r=0|e;if(er(r>0&&r<=n.maxCubeMapSize,"invalid radius for cube fbo"),r===o.width)return o;var i=o.color;for(t=0;t<i.length;++t)i[t].resize(r);for(t=0;t<6;++t)a[t].resize(r);return o.width=o.height=r,o}return o(e),t(o,{faces:a,resize:d,_reglType:"framebufferCube",destroy:function(){a.forEach(function(e){e.destroy()})}})}function x(){s.cur=null,s.next=null,s.dirty=!0,tm(_).forEach(function(t){t.framebuffer=e.createFramebuffer(),S(t)})}return t(s,{getFramebuffer:function(e){if("function"==typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof O)return t}return null},create:T,createCube:R,clear:function(){tm(_).forEach(F)},restore:x})}n4[nW]="complete",n4[nU]="incomplete attachment",n4[nH]="incomplete dimensions",n4[nj]="incomplete, missing attachment",n4[nV]="unsupported";var n5=5126,n8=34962,n7=34963,n9=["attributes","elements","offset","count","primitive","instances"];function ie(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=n5,this.offset=0,this.stride=0,this.divisor=0}function it(t,r,n,i,a,o,s){for(var p=n.maxAttributes,d=Array(p),l=0;l<p;++l)d[l]=new ie;var c=0,u={},f={Record:ie,scope:{},state:d,currentVAO:null,targetVAO:null,restore:g()?M:function(){},createVAO:F,getVAO:y,destroyBuffer:m,setVAO:g()?v:b,clear:g()?_:function(){}};function m(e){for(var r=0;r<d.length;++r){var n=d[r];n.buffer===e&&(t.disableVertexAttribArray(r),n.buffer=null)}}function g(){return r.oes_vertex_array_object}function h(){return r.angle_instanced_arrays}function y(e){return"function"==typeof e&&e._vao?e._vao:null}function v(e){if(e!==f.currentVAO){var t=g();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),f.currentVAO=e}}function b(e){if(e!==f.currentVAO){if(e)e.bindAttrs();else{for(var r=h(),n=0;n<d.length;++n){var i=d[n];i.buffer?(t.enableVertexAttribArray(n),i.buffer.bind(),t.vertexAttribPointer(n,i.size,i.type,i.normalized,i.stride,i.offfset),r&&i.divisor&&r.vertexAttribDivisorANGLE(n,i.divisor)):(t.disableVertexAttribArray(n),t.vertexAttrib4f(n,i.x,i.y,i.z,i.w))}s.elements?t.bindBuffer(n7,s.elements.buffer.buffer):t.bindBuffer(n7,null)}f.currentVAO=e}}function _(){tm(u).forEach(function(e){e.destroy()})}function O(){this.id=++c,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var e=g();e?this.vao=e.createVertexArrayOES():this.vao=null,u[this.id]=this,this.buffers=[]}function M(){g()&&tm(u).forEach(function(e){e.refresh()})}function F(t){var n=new O;function s(t){if(Array.isArray(t))u=t,n.elements&&n.ownsElements&&n.elements.destroy(),n.elements=null,n.ownsElements=!1,n.offset=0,n.count=0,n.instances=-1,n.primitive=4;else{if(er("object"==typeof t,"invalid arguments for create vao"),er("attributes"in t,"must specify attributes for vao"),t.elements){var i=t.elements;n.ownsElements?("function"==typeof i&&"elements"===i._reglType?n.elements.destroy():n.elements(i),n.ownsElements=!1):o.getElements(t.elements)?(n.elements=t.elements,n.ownsElements=!1):(n.elements=o.create(t.elements),n.ownsElements=!0)}else n.elements=null,n.ownsElements=!1;u=t.attributes,n.offset=0,n.count=-1,n.instances=-1,n.primitive=4,n.elements&&(n.count=n.elements._elements.vertCount,n.primitive=n.elements._elements.primType),"offset"in t&&(n.offset=0|t.offset),"count"in t&&(n.count=0|t.count),"instances"in t&&(n.instances=0|t.instances),"primitive"in t&&(er(t.primitive in tI,"bad primitive type: "+t.primitive),n.primitive=tI[t.primitive]),er.optional(()=>{for(var e=Object.keys(t),r=0;r<e.length;++r)er(n9.indexOf(e[r])>=0,'invalid option for vao: "'+e[r]+'" valid options are '+n9)}),er(Array.isArray(u),"attributes must be an array")}er(u.length<p,"too many attributes"),er(u.length>0,"must specify at least one attribute");var d={},l=n.attributes;l.length=u.length;for(var c=0;c<u.length;++c){var u,f,m=u[c],g=l[c]=new ie,h=m.data||m;Array.isArray(h)||e(h)||tf(h)?(n.buffers[c]&&(f=n.buffers[c],e(h)&&f._buffer.byteLength>=h.byteLength?f.subdata(h):(f.destroy(),n.buffers[c]=null)),n.buffers[c]||(f=n.buffers[c]=a.create(m,n8,!1,!0)),g.buffer=a.getBuffer(f),g.size=0|g.buffer.dimension,g.normalized=!1,g.type=g.buffer.dtype,g.offset=0,g.stride=0,g.divisor=0,g.state=1,d[c]=1):a.getBuffer(m)?(g.buffer=a.getBuffer(m),g.size=0|g.buffer.dimension,g.normalized=!1,g.type=g.buffer.dtype,g.offset=0,g.stride=0,g.divisor=0,g.state=1):a.getBuffer(m.buffer)?(g.buffer=a.getBuffer(m.buffer),g.size=0|(+m.size||g.buffer.dimension),g.normalized=!!m.normalized,"type"in m?(er.parameter(m.type,tF,"invalid buffer type"),g.type=tF[m.type]):g.type=g.buffer.dtype,g.offset=0|(m.offset||0),g.stride=0|(m.stride||0),g.divisor=0|(m.divisor||0),g.state=1,er(g.size>=1&&g.size<=4,"size must be between 1 and 4"),er(g.offset>=0,"invalid offset"),er(g.stride>=0&&g.stride<=255,"stride must be between 0 and 255"),er(g.divisor>=0,"divisor must be positive"),er(!g.divisor||!!r.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in m?(er(c>0,"first attribute must not be a constant"),g.x=+m.x||0,g.y=+m.y||0,g.z=+m.z||0,g.w=+m.w||0,g.state=2):er(!1,"invalid attribute spec for location "+c)}for(var y=0;y<n.buffers.length;++y)!d[y]&&n.buffers[y]&&(n.buffers[y].destroy(),n.buffers[y]=null);return n.refresh(),s}return i.vaoCount+=1,s.destroy=function(){for(var e=0;e<n.buffers.length;++e)n.buffers[e]&&n.buffers[e].destroy();n.buffers.length=0,n.ownsElements&&(n.elements.destroy(),n.elements=null,n.ownsElements=!1),n.destroy()},s._vao=n,s._reglType="vao",s(t)}return O.prototype.bindAttrs=function(){for(var e=h(),r=this.attributes,n=0;n<r.length;++n){var i=r[n];i.buffer?(t.enableVertexAttribArray(n),t.bindBuffer(n8,i.buffer.buffer),t.vertexAttribPointer(n,i.size,i.type,i.normalized,i.stride,i.offset),e&&i.divisor&&e.vertexAttribDivisorANGLE(n,i.divisor)):(t.disableVertexAttribArray(n),t.vertexAttrib4f(n,i.x,i.y,i.z,i.w))}for(var a=r.length;a<p;++a)t.disableVertexAttribArray(a);var s=o.getElements(this.elements);s?t.bindBuffer(n7,s.buffer.buffer):t.bindBuffer(n7,null)},O.prototype.refresh=function(){var e=g();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),f.currentVAO=null,e.bindVertexArrayOES(null))},O.prototype.destroy=function(){if(this.vao){var e=g();this===f.currentVAO&&(f.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),u[this.id]&&(delete u[this.id],i.vaoCount-=1)},f}var ir=35632,ii=35633,ia=35718,io=35721;function is(e,r,n,i){var a={},o={};function s(e,t,r,n){this.name=e,this.id=t,this.location=r,this.info=n}function p(e,t){for(var r=0;r<e.length;++r)if(e[r].id===t.id){e[r].location=t.location;return}e.push(t)}function d(t,n,i){var s=t===ir?a:o,p=s[n];if(!p){var d=r.str(n);p=e.createShader(t),e.shaderSource(p,d),e.compileShader(p),er.shaderError(e,p,d,t,i),s[n]=p}return p}var l={},c=[],u=0;function f(e,t){this.id=u++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function m(t,n,a){var o,l,c=d(ir,t.fragId),u=d(ii,t.vertId),f=t.program=e.createProgram();if(e.attachShader(f,c),e.attachShader(f,u),a)for(o=0;o<a.length;++o){var m=a[o];e.bindAttribLocation(f,m[0],m[1])}e.linkProgram(f),er.linkError(e,f,r.str(t.fragId),r.str(t.vertId),n);var g=e.getProgramParameter(f,ia);i.profile&&(t.stats.uniformsCount=g);var h=t.uniforms;for(o=0;o<g;++o)if(l=e.getActiveUniform(f,o))if(l.size>1)for(var y=0;y<l.size;++y){var v=l.name.replace("[0]","["+y+"]");p(h,new s(v,r.id(v),e.getUniformLocation(f,v),l))}else p(h,new s(l.name,r.id(l.name),e.getUniformLocation(f,l.name),l));var b=e.getProgramParameter(f,io);i.profile&&(t.stats.attributesCount=b);var _=t.attributes;for(o=0;o<b;++o)(l=e.getActiveAttrib(f,o))&&p(_,new s(l.name,r.id(l.name),e.getAttribLocation(f,l.name),l))}return i.profile&&(n.getMaxUniformsCount=function(){var e=0;return c.forEach(function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)}),e},n.getMaxAttributesCount=function(){var e=0;return c.forEach(function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)}),e}),{clear:function(){var t=e.deleteShader.bind(e);tm(a).forEach(t),a={},tm(o).forEach(t),o={},c.forEach(function(t){e.deleteProgram(t.program)}),c.length=0,l={},n.shaderCount=0},program:function(r,i,s,p){er.command(r>=0,"missing vertex shader",s),er.command(i>=0,"missing fragment shader",s);var d=l[i];d||(d=l[i]={});var u=d[r];if(u&&(u.refCount++,!p))return u;var g=new f(i,r);return n.shaderCount++,m(g,s,p),u||(d[r]=g),c.push(g),t(g,{destroy:function(){if(g.refCount--,g.refCount<=0){e.deleteProgram(g.program);var t=c.indexOf(g);c.splice(t,1),n.shaderCount--}d[g.vertId].refCount<=0&&(e.deleteShader(o[g.vertId]),delete o[g.vertId],delete l[g.fragId][g.vertId]),Object.keys(l[g.fragId]).length||(e.deleteShader(a[g.fragId]),delete a[g.fragId],delete l[g.fragId])}})},restore:function(){a={},o={};for(var e=0;e<c.length;++e)m(c[e],null,c[e].attributes.map(function(e){return[e.location,e.name]}))},shader:d,frag:-1,vert:-1}}var ip=6408,id=5121,il=3333,ic=5126;function iu(t,r,n,i,a,o,s){function p(p){null===r.next?(er(a.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),d=id):(er(null!==r.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),d=r.next.colorAttachments[0].texture._texture.type,er.optional(function(){o.oes_texture_float?(er(d===id||d===ic,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),d===ic&&er(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):er(d===id,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var d,l=0,c=0,u=i.framebufferWidth,f=i.framebufferHeight,m=null;e(p)?m=p:p&&(er.type(p,"object","invalid arguments to regl.read()"),l=0|p.x,c=0|p.y,er(l>=0&&l<i.framebufferWidth,"invalid x offset for regl.read"),er(c>=0&&c<i.framebufferHeight,"invalid y offset for regl.read"),u=0|(p.width||i.framebufferWidth-l),f=0|(p.height||i.framebufferHeight-c),m=p.data||null),m&&(d===id?er(m instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):d===ic&&er(m instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),er(u>0&&u+l<=i.framebufferWidth,"invalid width for read pixels"),er(f>0&&f+c<=i.framebufferHeight,"invalid height for read pixels"),n();var g=u*f*4;return m||(d===id?m=new Uint8Array(g):d===ic&&(m=m||new Float32Array(g))),er.isTypedArray(m,"data buffer for regl.read() must be a typedarray"),er(m.byteLength>=g,"data buffer for regl.read() too small"),t.pixelStorei(il,4),t.readPixels(l,c,u,f,ip,d,m),m}function d(e){var t;return r.setFBO({framebuffer:e.framebuffer},function(){t=p(e)}),t}return function(e){return e&&"framebuffer"in e?d(e):p(e)}}function im(e){return Array.prototype.slice.call(e)}function ig(e){return im(e).join("")}function ih(){var e=0,r=[],n=[];function i(t){for(var i=0;i<n.length;++i)if(n[i]===t)return r[i];var a="g"+e++;return r.push(a),n.push(t),a}function a(){var r=[],n=[];return t(function(){r.push.apply(r,im(arguments))},{def:function(){var t="v"+e++;return n.push(t),arguments.length>0&&(r.push(t,"="),r.push.apply(r,im(arguments)),r.push(";")),t},toString:function(){return ig([n.length>0?"var "+n.join(",")+";":"",ig(r)])}})}function o(){var e=a(),r=a(),n=e.toString,i=r.toString;function o(t,n){r(t,n,"=",e.def(t,n),";")}return t(function(){e.apply(e,im(arguments))},{def:e.def,entry:e,exit:r,save:o,set:function(t,r,n){o(t,r),e(t,r,"=",n,";")},toString:function(){return n()+i()}})}function s(){var e=ig(arguments),r=o(),n=o(),i=r.toString,a=n.toString;return t(r,{then:function(){return r.apply(r,im(arguments)),this},else:function(){return n.apply(n,im(arguments)),this},toString:function(){var t=a();return t&&(t="else{"+t+"}"),ig(["if(",e,"){",i(),"}",t])}})}var p=a(),d={};function l(){var e=['"use strict";',p,"return {"];Object.keys(d).forEach(function(t){e.push('"',t,'":',d[t].toString(),",")}),e.push("}");var t=ig(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,r.concat(t)).apply(null,n)}return{global:p,link:i,block:a,proc:function(e,r){var n=[];function i(){var e="a"+n.length;return n.push(e),e}r=r||0;for(var a=0;a<r;++a)i();var s=o(),p=s.toString;return d[e]=t(s,{arg:i,toString:function(){return ig(["function(",n.join(),"){",p(),"}"])}})},scope:o,cond:s,compile:l}}var iy="xyzw".split(""),iv=5121,ib=1,i_=2,iO=0,iM=1,iF=2,iS=3,iT=4,iR=5,ix=6,iw="dither",ik="blend.enable",iE="blend.color",iC="blend.equation",iA="blend.func",iB="depth.enable",iL="depth.func",iD="depth.range",iI="depth.mask",iG="colorMask",iP="cull.enable",iz="cull.face",iN="frontFace",iW="lineWidth",iU="polygonOffset.enable",ij="polygonOffset.offset",iH="sample.alpha",iV="sample.enable",iK="sample.coverage",i$="stencil.enable",iY="stencil.mask",iX="stencil.func",iq="stencil.opFront",iJ="stencil.opBack",iZ="scissor.enable",iQ="scissor.box",i0="viewport",i1="profile",i2="framebuffer",i3="vert",i4="frag",i6="elements",i5="primitive",i8="count",i7="offset",i9="instances",ae="vao",at="Width",ar="Height",an=i2+at,ai=i2+ar,aa=i0+at,ao=i0+ar,as="drawingBuffer",ap=as+at,ad=as+ar,al=[iA,iC,iX,iq,iJ,iK,i0,iQ,ij],ac=34962,au=34963,af=3553,am=34067,ag=2884,ah=3042,ay=3024,av=2960,ab=2929,a_=3089,aO=32823,aM=32926,aF=32928,aS=5126,aT=35664,aR=35665,ax=35666,aw=5124,ak=35667,aE=35668,aC=35669,aA=35670,aB=35671,aL=35672,aD=35673,aI=35674,aG=35675,aP=35676,az=35678,aN=35680,aW=4,aU=1028,aj=1029,aH=2304,aV=2305,aK=32775,a$=32776,aY=519,aX=7680,aq=0,aJ=1,aZ=32774,aQ=513,a0=36160,a1=36064,a2={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},a3=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],a4={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},a6={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},a5={frag:35632,vert:35633},a8={cw:2304,ccw:2305};function a7(t){return Array.isArray(t)||e(t)||tf(t)}function a9(e){return e.sort(function(e,t){return e===i0?-1:t===i0?1:e<t?-1:1})}function oe(e,t,r,n){this.thisDep=e,this.contextDep=t,this.propDep=r,this.append=n}function ot(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function or(e){return new oe(!1,!1,!1,e)}function on(e,t){var r=e.type;if(r===iO){var n=e.data.length;return new oe(!0,n>=1,n>=2,t)}if(r===iT){var i=e.data;return new oe(i.thisDep,i.contextDep,i.propDep,t)}if(r===iR)return new oe(!1,!1,!1,t);if(r!==ix)return new oe(r===iS,r===iF,r===iM,t);for(var a=!1,o=!1,s=!1,p=0;p<e.data.length;++p){var d=e.data[p];if(d.type===iM)s=!0;else if(d.type===iF)o=!0;else if(d.type===iS)a=!0;else if(d.type===iO){a=!0;var l=d.data;l>=1&&(o=!0),l>=2&&(s=!0)}else d.type===iT&&(a=a||d.data.thisDep,o=o||d.data.contextDep,s=s||d.data.propDep)}return new oe(a,o,s,t)}var oi=new oe(!1,!1,!1,function(){});function oa(e,r,n,i,a,o,s,p,d,l,c,u,f,m,g){var h=l.Record,y={add:32774,subtract:32778,"reverse subtract":32779};n.ext_blend_minmax&&(y.min=aK,y.max=a$);var v=n.angle_instanced_arrays,b=n.webgl_draw_buffers,_=n.oes_vertex_array_object,O={dirty:!0,profile:g.profile},M={},F=[],S={},T={};function R(e){return e.replace(".","_")}function x(e,t,r){var n=R(e);F.push(e),M[n]=O[n]=!!r,S[n]=t}function w(e,t,r){var n=R(e);F.push(e),Array.isArray(r)?(O[n]=r.slice(),M[n]=r.slice()):O[n]=M[n]=r,T[n]=t}x(iw,ay),x(ik,ah),w(iE,"blendColor",[0,0,0,0]),w(iC,"blendEquationSeparate",[aZ,aZ]),w(iA,"blendFuncSeparate",[aJ,aq,aJ,aq]),x(iB,ab,!0),w(iL,"depthFunc",aQ),w(iD,"depthRange",[0,1]),w(iI,"depthMask",!0),w(iG,iG,[!0,!0,!0,!0]),x(iP,ag),w(iz,"cullFace",aj),w(iN,iN,aV),w(iW,iW,1),x(iU,aO),w(ij,"polygonOffset",[0,0]),x(iH,aM),x(iV,aF),w(iK,"sampleCoverage",[1,!1]),x(i$,av),w(iY,"stencilMask",-1),w(iX,"stencilFunc",[aY,0,-1]),w(iq,"stencilOpSeparate",[aU,aX,aX,aX]),w(iJ,"stencilOpSeparate",[aj,aX,aX,aX]),x(iZ,a_),w(iQ,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),w(i0,i0,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var k={gl:e,context:f,strings:r,next:M,current:O,draw:u,elements:o,buffer:a,shader:c,attributes:l.state,vao:l,uniforms:d,framebuffer:p,extensions:n,timer:m,isBufferArgs:a7},E={primTypes:tI,compareFuncs:a4,blendFuncs:a2,blendEquations:y,stencilOps:a6,glTypes:tF,orientationType:a8};er.optional(function(){k.isArrayLike=t0}),b&&(E.backBuffer=[aj],E.drawBuffer=eR(i.maxDrawbuffers,function(e){return 0===e?[0]:eR(e,function(e){return a1+e})}));var C=0;function A(){var e=ih(),t=e.link,n=e.global;e.id=C++,e.batchId="0";var i=t(k),a=e.shared={props:"a0"};Object.keys(k).forEach(function(e){a[e]=n.def(i,".",e)}),er.optional(function(){e.CHECK=t(er),e.commandStr=er.guessCommand(),e.command=t(e.commandStr),e.assert=function(e,r,n){e("if(!(",r,"))",this.CHECK,".commandRaise(",t(n),",",this.command,");")},E.invalidBlendCombinations=a3});var o=e.next={},s=e.current={};Object.keys(T).forEach(function(e){Array.isArray(O[e])&&(o[e]=n.def(a.next,".",e),s[e]=n.def(a.current,".",e))});var p=e.constants={};Object.keys(E).forEach(function(e){p[e]=n.def(JSON.stringify(E[e]))}),e.invoke=function(r,n){switch(n.type){case iO:var i=["this",a.context,a.props,e.batchId];return r.def(t(n.data),".call(",i.slice(0,Math.max(n.data.length+1,4)),")");case iM:return r.def(a.props,n.data);case iF:return r.def(a.context,n.data);case iS:return r.def("this",n.data);case iT:return n.data.append(e,r),n.data.ref;case iR:return n.data.toString();case ix:return n.data.map(function(t){return e.invoke(r,t)})}},e.attribCache={};var d={};return e.scopeAttrib=function(e){var n=r.id(e);if(n in d)return d[n];var i=l.scope[n];return i||(i=l.scope[n]=new h),d[n]=t(i)},e}function B(e){var t,r=e.static,n=e.dynamic;if(i1 in r){var i=!!r[i1];(t=or(function(e,t){return i})).enable=i}else if(i1 in n){var a=n[i1];t=on(a,function(e,t){return e.invoke(t,a)})}return t}function L(e,t){var r=e.static,n=e.dynamic;if(i2 in r){var i=r[i2];return i?(i=p.getFramebuffer(i),er.command(i,"invalid framebuffer object"),or(function(e,t){var r=e.link(i),n=e.shared;t.set(n.framebuffer,".next",r);var a=n.context;return t.set(a,"."+an,r+".width"),t.set(a,"."+ai,r+".height"),r})):or(function(e,t){var r=e.shared;t.set(r.framebuffer,".next","null");var n=r.context;return t.set(n,"."+an,n+"."+ap),t.set(n,"."+ai,n+"."+ad),"null"})}if(!(i2 in n))return null;var a=n[i2];return on(a,function(e,t){var r=e.invoke(t,a),n=e.shared,i=n.framebuffer,o=t.def(i,".getFramebuffer(",r,")");er.optional(function(){e.assert(t,"!"+r+"||"+o,"invalid framebuffer object")}),t.set(i,".next",o);var s=n.context;return t.set(s,"."+an,o+"?"+o+".width:"+s+"."+ap),t.set(s,"."+ai,o+"?"+o+".height:"+s+"."+ad),o})}function D(e,t,r){var n=e.static,i=e.dynamic;function a(e){if(e in n){var a,o,s=n[e];er.commandType(s,"object","invalid "+e,r.commandStr);var p=!0,d=0|s.x,l=0|s.y;return"width"in s?(a=0|s.width,er.command(a>=0,"invalid "+e,r.commandStr)):p=!1,"height"in s?(o=0|s.height,er.command(o>=0,"invalid "+e,r.commandStr)):p=!1,new oe(!p&&t&&t.thisDep,!p&&t&&t.contextDep,!p&&t&&t.propDep,function(e,t){var r=e.shared.context,n=a;"width"in s||(n=t.def(r,".",an,"-",d));var i=o;return"height"in s||(i=t.def(r,".",ai,"-",l)),[d,l,n,i]})}if(e in i){var c=i[e],u=on(c,function(t,r){var n=t.invoke(r,c);er.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e)});var i=t.shared.context,a=r.def(n,".x|0"),o=r.def(n,".y|0"),s=r.def('"width" in ',n,"?",n,".width|0:","(",i,".",an,"-",a,")"),p=r.def('"height" in ',n,"?",n,".height|0:","(",i,".",ai,"-",o,")");return er.optional(function(){t.assert(r,s+">=0&&"+p+">=0","invalid "+e)}),[a,o,s,p]});return t&&(u.thisDep=u.thisDep||t.thisDep,u.contextDep=u.contextDep||t.contextDep,u.propDep=u.propDep||t.propDep),u}return t?new oe(t.thisDep,t.contextDep,t.propDep,function(e,t){var r=e.shared.context;return[0,0,t.def(r,".",an),t.def(r,".",ai)]}):null}var o=a(i0);if(o){var s=o;o=new oe(o.thisDep,o.contextDep,o.propDep,function(e,t){var r=s.append(e,t),n=e.shared.context;return t.set(n,"."+aa,r[2]),t.set(n,"."+ao,r[3]),r})}return{viewport:o,scissor_box:a(iQ)}}function I(e,t){var r=e.static;if("string"==typeof r[i4]&&"string"==typeof r[i3]){if(Object.keys(t.dynamic).length>0)return null;var n=t.static,i=Object.keys(n);if(i.length>0&&"number"==typeof n[i[0]]){for(var a=[],o=0;o<i.length;++o)er("number"==typeof n[i[o]],"must specify all vertex attribute locations when using vaos"),a.push([0|n[i[o]],i[o]]);return a}}return null}function G(e,t,n){var i,a=e.static,o=e.dynamic;function s(e){if(e in a){var t=r.id(a[e]);er.optional(function(){c.shader(a5[e],t,er.guessCommand())});var n=or(function(){return t});return n.id=t,n}if(e in o){var i=o[e];return on(i,function(t,r){var n=t.invoke(r,i),a=r.def(t.shared.strings,".id(",n,")");return er.optional(function(){r(t.shared.shader,".shader(",a5[e],",",a,",",t.command,");")}),a})}return null}var p=s(i4),d=s(i3),l=null;return ot(p)&&ot(d)?(l=c.program(d.id,p.id,null,n),i=or(function(e,t){return e.link(l)})):i=new oe(p&&p.thisDep||d&&d.thisDep,p&&p.contextDep||d&&d.contextDep,p&&p.propDep||d&&d.propDep,function(e,t){var r,n,i=e.shared.shader;r=p?p.append(e,t):t.def(i,".",i4),n=d?d.append(e,t):t.def(i,".",i3);var a=i+".program("+n+","+r;return er.optional(function(){a+=","+e.command}),t.def(a+")")}),{frag:p,vert:d,progVar:i,program:l}}function P(e,t){var r=e.static,n=e.dynamic,i={},a=!1,s=function(){if(ae in r){var e=r[ae];return null!==e&&null===l.getVAO(e)&&(e=l.createVAO(e)),a=!0,i.vao=e,or(function(t){var r=l.getVAO(e);return r?t.link(r):"null"})}if(ae in n){a=!0;var t=n[ae];return on(t,function(e,r){var n=e.invoke(r,t);return r.def(e.shared.vao+".getVAO("+n+")")})}return null}(),p=!1,d=function(){if(i6 in r){var e=r[i6];if(i.elements=e,a7(e)){var d=i.elements=o.create(e,!0);e=o.getElements(d),p=!0}else e&&(e=o.getElements(e),p=!0,er.command(e,"invalid elements",t.commandStr));var l=or(function(t,r){if(e){var n=t.link(e);return t.ELEMENTS=n,n}return t.ELEMENTS=null,null});return l.value=e,l}if(i6 in n){p=!0;var c=n[i6];return on(c,function(e,t){var r=e.shared,n=r.isBufferArgs,i=r.elements,a=e.invoke(t,c),o=t.def("null"),s=t.def(n,"(",a,")"),p=e.cond(s).then(o,"=",i,".createStream(",a,");").else(o,"=",i,".getElements(",a,");");return er.optional(function(){e.assert(p.else,"!"+a+"||"+o,"invalid elements")}),t.entry(p),t.exit(e.cond(s).then(i,".destroyStream(",o,");")),e.ELEMENTS=o,o})}return a?new oe(s.thisDep,s.contextDep,s.propDep,function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.elements+".getElements("+e.shared.vao+".currentVAO.elements):null")}):null}();function c(){if(i5 in r){var e=r[i5];return i.primitive=e,er.commandParameter(e,tI,"invalid primitve",t.commandStr),or(function(t,r){return tI[e]})}if(i5 in n){var o=n[i5];return on(o,function(e,t){var r=e.constants.primTypes,n=e.invoke(t,o);return er.optional(function(){e.assert(t,n+" in "+r,"invalid primitive, must be one of "+Object.keys(tI))}),t.def(r,"[",n,"]")})}if(p)if(!ot(d))return new oe(d.thisDep,d.contextDep,d.propDep,function(e,t){var r=e.ELEMENTS;return t.def(r,"?",r,".primType:",aW)});else if(d.value)return or(function(e,t){return t.def(e.ELEMENTS,".primType")});else return or(function(){return aW});return a?new oe(s.thisDep,s.contextDep,s.propDep,function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.primitive:"+aW)}):null}function u(e,o){if(e in r){var d=0|r[e];return o?i.offset=d:i.instances=d,er.command(!o||d>=0,"invalid "+e,t.commandStr),or(function(e,t){return o&&(e.OFFSET=d),d})}if(e in n){var l=n[e];return on(l,function(t,r){var n=t.invoke(r,l);return o&&(t.OFFSET=n,er.optional(function(){t.assert(r,n+">=0","invalid "+e)})),n})}if(o){if(p)return or(function(e,t){return e.OFFSET=0,0});else if(a)return new oe(s.thisDep,s.contextDep,s.propDep,function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.offset:0")})}else if(a)return new oe(s.thisDep,s.contextDep,s.propDep,function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.instances:-1")});return null}var f=u(i7,!0);function m(){if(i8 in r){var e=0|r[i8];return i.count=e,er.command("number"==typeof e&&e>=0,"invalid vertex count",t.commandStr),or(function(){return e})}if(i8 in n){var o=n[i8];return on(o,function(e,t){var r=e.invoke(t,o);return er.optional(function(){e.assert(t,"typeof "+r+'==="number"&&'+r+">=0&&"+r+"===("+r+"|0)","invalid vertex count")}),r})}if(p)if(ot(d))if(d)if(f)return new oe(f.thisDep,f.contextDep,f.propDep,function(e,t){var r=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return er.optional(function(){e.assert(t,r+">=0","invalid vertex offset/element buffer too small")}),r});else return or(function(e,t){return t.def(e.ELEMENTS,".vertCount")});else{var l=or(function(){return -1});return er.optional(function(){l.MISSING=!0}),l}else{var c=new oe(d.thisDep||f.thisDep,d.contextDep||f.contextDep,d.propDep||f.propDep,function(e,t){var r=e.ELEMENTS;return e.OFFSET?t.def(r,"?",r,".vertCount-",e.OFFSET,":-1"):t.def(r,"?",r,".vertCount:-1")});return er.optional(function(){c.DYNAMIC=!0}),c}return a?new oe(s.thisDep,s.contextDep,s.propDep,function(e,t){return t.def(e.shared.vao,".currentVAO?",e.shared.vao,".currentVAO.count:-1")}):null}return{elements:d,primitive:c(),count:m(),instances:u(i9,!1),offset:f,vao:s,vaoActive:a,elementsActive:p,static:i}}function z(e,t){var r=e.static,n=e.dynamic,a={};return F.forEach(function(e){var o=R(e);function s(t,i){if(e in r){var s=t(r[e]);a[o]=or(function(){return s})}else if(e in n){var p=n[e];a[o]=on(p,function(e,t){return i(e,t,e.invoke(t,p))})}}switch(e){case iP:case ik:case iw:case i$:case iB:case iZ:case iU:case iH:case iV:case iI:return s(function(r){return er.commandType(r,"boolean",e,t.commandStr),r},function(t,r,n){return er.optional(function(){t.assert(r,"typeof "+n+'==="boolean"',"invalid flag "+e,t.commandStr)}),n});case iL:return s(function(r){return er.commandParameter(r,a4,"invalid "+e,t.commandStr),a4[r]},function(t,r,n){var i=t.constants.compareFuncs;return er.optional(function(){t.assert(r,n+" in "+i,"invalid "+e+", must be one of "+Object.keys(a4))}),r.def(i,"[",n,"]")});case iD:return s(function(e){return er.command(t0(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e},function(e,t,r){return er.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===2&&typeof "+r+'[0]==="number"&&typeof '+r+'[1]==="number"&&'+r+"[0]<="+r+"[1]","depth range must be a 2d array")}),[t.def("+",r,"[0]"),t.def("+",r,"[1]")]});case iA:return s(function(e){er.commandType(e,"object","blend.func",t.commandStr);var r="srcRGB"in e?e.srcRGB:e.src,n="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,a="dstAlpha"in e?e.dstAlpha:e.dst;return er.commandParameter(r,a2,o+".srcRGB",t.commandStr),er.commandParameter(n,a2,o+".srcAlpha",t.commandStr),er.commandParameter(i,a2,o+".dstRGB",t.commandStr),er.commandParameter(a,a2,o+".dstAlpha",t.commandStr),er.command(-1===a3.indexOf(r+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+r+", "+i+")",t.commandStr),[a2[r],a2[i],a2[n],a2[a]]},function(t,r,n){var i=t.constants.blendFuncs;function a(a,o){var s=r.def('"',a,o,'" in ',n,"?",n,".",a,o,":",n,".",a);return er.optional(function(){t.assert(r,s+" in "+i,"invalid "+e+"."+a+o+", must be one of "+Object.keys(a2))}),s}er.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid blend func, must be an object")});var o=a("src","RGB"),s=a("dst","RGB");er.optional(function(){var e=t.constants.invalidBlendCombinations;t.assert(r,e+".indexOf("+o+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var p=r.def(i,"[",o,"]"),d=r.def(i,"[",a("src","Alpha"),"]");return[p,r.def(i,"[",s,"]"),d,r.def(i,"[",a("dst","Alpha"),"]")]});case iC:return s(function(r){return"string"==typeof r?(er.commandParameter(r,y,"invalid "+e,t.commandStr),[y[r],y[r]]):"object"==typeof r?(er.commandParameter(r.rgb,y,e+".rgb",t.commandStr),er.commandParameter(r.alpha,y,e+".alpha",t.commandStr),[y[r.rgb],y[r.alpha]]):void er.commandRaise("invalid blend.equation",t.commandStr)},function(t,r,n){var i=t.constants.blendEquations,a=r.def(),o=r.def(),s=t.cond("typeof ",n,'==="string"');return er.optional(function(){function r(e,r,n){t.assert(e,n+" in "+i,"invalid "+r+", must be one of "+Object.keys(y))}r(s.then,e,n),t.assert(s.else,n+"&&typeof "+n+'==="object"',"invalid "+e),r(s.else,e+".rgb",n+".rgb"),r(s.else,e+".alpha",n+".alpha")}),s.then(a,"=",o,"=",i,"[",n,"];"),s.else(a,"=",i,"[",n,".rgb];",o,"=",i,"[",n,".alpha];"),r(s),[a,o]});case iE:return s(function(e){return er.command(t0(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),eR(4,function(t){return+e[t]})},function(e,t,r){return er.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===4","blend.color must be a 4d array")}),eR(4,function(e){return t.def("+",r,"[",e,"]")})});case iY:return s(function(e){return er.commandType(e,"number",o,t.commandStr),0|e},function(e,t,r){return er.optional(function(){e.assert(t,"typeof "+r+'==="number"',"invalid stencil.mask")}),t.def(r,"|0")});case iX:return s(function(r){er.commandType(r,"object",o,t.commandStr);var n=r.cmp||"keep",i=r.ref||0,a="mask"in r?r.mask:-1;return er.commandParameter(n,a4,e+".cmp",t.commandStr),er.commandType(i,"number",e+".ref",t.commandStr),er.commandType(a,"number",e+".mask",t.commandStr),[a4[n],i,a]},function(e,t,r){var n=e.constants.compareFuncs;return er.optional(function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(r+"&&typeof ",r,'==="object"'),i('!("cmp" in ',r,")||(",r,".cmp in ",n,")")}),[t.def('"cmp" in ',r,"?",n,"[",r,".cmp]",":",aX),t.def(r,".ref|0"),t.def('"mask" in ',r,"?",r,".mask|0:-1")]});case iq:case iJ:return s(function(r){er.commandType(r,"object",o,t.commandStr);var n=r.fail||"keep",i=r.zfail||"keep",a=r.zpass||"keep";return er.commandParameter(n,a6,e+".fail",t.commandStr),er.commandParameter(i,a6,e+".zfail",t.commandStr),er.commandParameter(a,a6,e+".zpass",t.commandStr),[e===iJ?aj:aU,a6[n],a6[i],a6[a]]},function(t,r,n){var i=t.constants.stencilOps;function a(a){return er.optional(function(){t.assert(r,'!("'+a+'" in '+n+")||("+n+"."+a+" in "+i+")","invalid "+e+"."+a+", must be one of "+Object.keys(a6))}),r.def('"',a,'" in ',n,"?",i,"[",n,".",a,"]:",aX)}return er.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e)}),[e===iJ?aj:aU,a("fail"),a("zfail"),a("zpass")]});case ij:return s(function(e){er.commandType(e,"object",o,t.commandStr);var r=0|e.factor,n=0|e.units;return er.commandType(r,"number",o+".factor",t.commandStr),er.commandType(n,"number",o+".units",t.commandStr),[r,n]},function(t,r,n){return er.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e)}),[r.def(n,".factor|0"),r.def(n,".units|0")]});case iz:return s(function(e){var r=0;return"front"===e?r=aU:"back"===e&&(r=aj),er.command(!!r,o,t.commandStr),r},function(e,t,r){return er.optional(function(){e.assert(t,r+'==="front"||'+r+'==="back"',"invalid cull.face")}),t.def(r,'==="front"?',aU,":",aj)});case iW:return s(function(e){return er.command("number"==typeof e&&e>=i.lineWidthDims[0]&&e<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],t.commandStr),e},function(e,t,r){return er.optional(function(){e.assert(t,"typeof "+r+'==="number"&&'+r+">="+i.lineWidthDims[0]+"&&"+r+"<="+i.lineWidthDims[1],"invalid line width")}),r});case iN:return s(function(e){return er.commandParameter(e,a8,o,t.commandStr),a8[e]},function(e,t,r){return er.optional(function(){e.assert(t,r+'==="cw"||'+r+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),t.def(r+'==="cw"?'+aH+":"+aV)});case iG:return s(function(e){return er.command(t0(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map(function(e){return!!e})},function(e,t,r){return er.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===4","invalid color.mask")}),eR(4,function(e){return"!!"+r+"["+e+"]"})});case iK:return s(function(e){er.command("object"==typeof e&&e,o,t.commandStr);var r="value"in e?e.value:1,n=!!e.invert;return er.command("number"==typeof r&&r>=0&&r<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[r,n]},function(e,t,r){return er.optional(function(){e.assert(t,r+"&&typeof "+r+'==="object"',"invalid sample.coverage")}),[t.def('"value" in ',r,"?+",r,".value:1"),t.def("!!",r,".invert")]})}}),a}function N(e,t){var r=e.static,n=e.dynamic,i={};return Object.keys(r).forEach(function(e){var n,a=r[e];if("number"==typeof a||"boolean"==typeof a)n=or(function(){return a});else if("function"==typeof a){var o=a._reglType;"texture2d"===o||"textureCube"===o?n=or(function(e){return e.link(a)}):"framebuffer"===o||"framebufferCube"===o?(er.command(a.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),n=or(function(e){return e.link(a.color[0])})):er.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else t0(a)?n=or(function(t){return t.global.def("[",eR(a.length,function(r){return er.command("number"==typeof a[r]||"boolean"==typeof a[r],"invalid uniform "+e,t.commandStr),a[r]}),"]")}):er.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);n.value=a,i[e]=n}),Object.keys(n).forEach(function(e){var t=n[e];i[e]=on(t,function(e,r){return e.invoke(r,t)})}),i}function W(e,t){var n=e.static,i=e.dynamic,o={};return Object.keys(n).forEach(function(e){var i=n[e],s=r.id(e),p=new h;if(a7(i))p.state=ib,p.buffer=a.getBuffer(a.create(i,ac,!1,!0)),p.type=0;else{var d=a.getBuffer(i);if(d)p.state=ib,p.buffer=d,p.type=0;else if(er.command("object"==typeof i&&i,"invalid data for attribute "+e,t.commandStr),"constant"in i){var l=i.constant;p.buffer="null",p.state=i_,"number"==typeof l?p.x=l:(er.command(t0(l)&&l.length>0&&l.length<=4,"invalid constant for attribute "+e,t.commandStr),iy.forEach(function(e,t){t<l.length&&(p[e]=l[t])}))}else{d=a7(i.buffer)?a.getBuffer(a.create(i.buffer,ac,!1,!0)):a.getBuffer(i.buffer),er.command(!!d,'missing buffer for attribute "'+e+'"',t.commandStr);var c=0|i.offset;er.command(c>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var u=0|i.stride;er.command(u>=0&&u<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var f=0|i.size;er.command(!("size"in i)||f>0&&f<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var m=!!i.normalized,g=0;"type"in i&&(er.commandParameter(i.type,tF,"invalid type for attribute "+e,t.commandStr),g=tF[i.type]);var y=0|i.divisor;er.optional(function(){"divisor"in i&&(er.command(0===y||v,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),er.command(y>=0,'invalid divisor for attribute "'+e+'"',t.commandStr));var r=t.commandStr,n=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach(function(t){er.command(n.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+n+")",r)})}),p.buffer=d,p.state=ib,p.size=f,p.normalized=m,p.type=g||d.dtype,p.offset=c,p.stride=u,p.divisor=y}}o[e]=or(function(e,t){var r=e.attribCache;if(s in r)return r[s];var n={isStream:!1};return Object.keys(p).forEach(function(e){n[e]=p[e]}),p.buffer&&(n.buffer=e.link(p.buffer),n.type=n.type||n.buffer+".dtype"),r[s]=n,n})}),Object.keys(i).forEach(function(e){var t=i[e];function r(r,n){var i=r.invoke(n,t),a=r.shared,o=r.constants,s=a.isBufferArgs,p=a.buffer;er.optional(function(){r.assert(n,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+s+"("+i+")||"+p+".getBuffer("+i+")||"+p+".getBuffer("+i+".buffer)||"+s+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+a.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+e+'"')});var d={isStream:n.def(!1)},l=new h;l.state=ib,Object.keys(l).forEach(function(e){d[e]=n.def(""+l[e])});var c=d.buffer,u=d.type;function f(e){n(d[e],"=",i,".",e,"|0;")}return n("if(",s,"(",i,")){",d.isStream,"=true;",c,"=",p,".createStream(",ac,",",i,");",u,"=",c,".dtype;","}else{",c,"=",p,".getBuffer(",i,");","if(",c,"){",u,"=",c,".dtype;",'}else if("constant" in ',i,"){",d.state,"=",i_,";","if(typeof "+i+'.constant === "number"){',d[iy[0]],"=",i,".constant;",iy.slice(1).map(function(e){return d[e]}).join("="),"=0;","}else{",iy.map(function(e,t){return d[e]+"="+i+".constant.length>"+t+"?"+i+".constant["+t+"]:0;"}).join(""),"}}else{","if(",s,"(",i,".buffer)){",c,"=",p,".createStream(",ac,",",i,".buffer);","}else{",c,"=",p,".getBuffer(",i,".buffer);","}",u,'="type" in ',i,"?",o.glTypes,"[",i,".type]:",c,".dtype;",d.normalized,"=!!",i,".normalized;"),f("size"),f("offset"),f("stride"),f("divisor"),n("}}"),n.exit("if(",d.isStream,"){",p,".destroyStream(",c,");","}"),d}o[e]=on(t,r)}),o}function U(e){var t=e.static,r=e.dynamic,n={};return Object.keys(t).forEach(function(e){var r=t[e];n[e]=or(function(e,t){return"number"==typeof r||"boolean"==typeof r?""+r:e.link(r)})}),Object.keys(r).forEach(function(e){var t=r[e];n[e]=on(t,function(e,r){return e.invoke(r,t)})}),n}function j(e,t,r,i,a){var o=e.static,s=e.dynamic;er.optional(function(){var e=[i2,i3,i4,i6,i5,i7,i8,i9,i1,ae].concat(F);function t(t){Object.keys(t).forEach(function(t){er.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',a.commandStr)})}t(o),t(s)});var p=I(e,t),d=L(e,a),c=D(e,d,a),u=P(e,a),f=z(e,a),m=G(e,a,p);function g(e){var t=c[e];t&&(f[e]=t)}g(i0),g(R(iQ));var h=Object.keys(f).length>0,y={framebuffer:d,draw:u,shader:m,state:f,dirty:h,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(y.profile=B(e,a),y.uniforms=N(r,a),y.drawVAO=y.scopeVAO=u.vao,!y.drawVAO&&m.program&&!p&&n.angle_instanced_arrays&&u.static.elements){var v=!0,b=m.program.attributes.map(function(e){var r=t.static[e];return v=v&&!!r,r});if(v&&b.length>0){var _=l.getVAO(l.createVAO({attributes:b,elements:u.static.elements}));y.drawVAO=new oe(null,null,null,function(e,t){return e.link(_)}),y.useVAO=!0}}return p?y.useVAO=!0:y.attributes=W(t,a),y.context=U(i,a),y}function H(e,t,r){var n=e.shared.context,i=e.scope();Object.keys(r).forEach(function(a){t.save(n,"."+a);var o=r[a].append(e,t);Array.isArray(o)?i(n,".",a,"=[",o.join(),"];"):i(n,".",a,"=",o,";")}),t(i)}function V(e,t,r,n){var i,a,o=e.shared,s=o.gl,p=o.framebuffer;b&&(i=t.def(o.extensions,".webgl_draw_buffers"));var d=e.constants,l=d.drawBuffer,c=d.backBuffer;a=r?r.append(e,t):t.def(p,".next"),n||t("if(",a,"!==",p,".cur){"),t("if(",a,"){",s,".bindFramebuffer(",a0,",",a,".framebuffer);"),b&&t(i,".drawBuffersWEBGL(",l,"[",a,".colorAttachments.length]);"),t("}else{",s,".bindFramebuffer(",a0,",null);"),b&&t(i,".drawBuffersWEBGL(",c,");"),t("}",p,".cur=",a,";"),n||t("}")}function K(e,t,r){var n=e.shared,i=n.gl,a=e.current,o=e.next,s=n.current,p=n.next,d=e.cond(s,".dirty");F.forEach(function(t){var n,l,c=R(t);if(!(c in r.state))if(c in o){n=o[c],l=a[c];var u=eR(O[c].length,function(e){return d.def(n,"[",e,"]")});d(e.cond(u.map(function(e,t){return e+"!=="+l+"["+t+"]"}).join("||")).then(i,".",T[c],"(",u,");",u.map(function(e,t){return l+"["+t+"]="+e}).join(";"),";"))}else{n=d.def(p,".",c);var f=e.cond(n,"!==",s,".",c);d(f),c in S?f(e.cond(n).then(i,".enable(",S[c],");").else(i,".disable(",S[c],");"),s,".",c,"=",n,";"):f(i,".",T[c],"(",n,");",s,".",c,"=",n,";")}}),0===Object.keys(r.state).length&&d(s,".dirty=false;"),t(d)}function $(e,t,r,n){var i=e.shared,a=e.current,o=i.current,s=i.gl;a9(Object.keys(r)).forEach(function(i){var p=r[i];if(!n||n(p)){var d=p.append(e,t);if(S[i]){var l=S[i];ot(p)?d?t(s,".enable(",l,");"):t(s,".disable(",l,");"):t(e.cond(d).then(s,".enable(",l,");").else(s,".disable(",l,");")),t(o,".",i,"=",d,";")}else if(t0(d)){var c=a[i];t(s,".",T[i],"(",d,");",d.map(function(e,t){return c+"["+t+"]="+e}).join(";"),";")}else t(s,".",T[i],"(",d,");",o,".",i,"=",d,";")}})}function Y(e,t){v&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function X(e,t,r,n,i){var a,o,s,p=e.shared,d=e.stats,l=p.current,c=p.timer,u=r.profile;function f(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function g(e){e(a=t.def(),"=",f(),";"),"string"==typeof i?e(d,".count+=",i,";"):e(d,".count++;"),m&&(n?e(o=t.def(),"=",c,".getNumPendingQueries();"):e(c,".beginQuery(",d,");"))}function h(e){e(d,".cpuTime+=",f(),"-",a,";"),m&&(n?e(c,".pushScopeStats(",o,",",c,".getNumPendingQueries(),",d,");"):e(c,".endQuery();"))}function y(e){var r=t.def(l,".profile");t(l,".profile=",e,";"),t.exit(l,".profile=",r,";")}if(u){if(ot(u))return void(u.enable?(g(t),h(t.exit),y("true")):y("false"));y(s=u.append(e,t))}else s=t.def(l,".profile");var v=e.block();g(v),t("if(",s,"){",v,"}");var b=e.block();h(b),t.exit("if(",s,"){",b,"}")}function q(e,t,r,n,i){var a=e.shared;function o(e){switch(e){case aT:case ak:case aB:return 2;case aR:case aE:case aL:return 3;case ax:case aC:case aD:return 4;default:return 1}}function s(r,n,i){var o=a.gl,s=t.def(r,".location"),p=t.def(a.attributes,"[",s,"]"),d=i.state,l=i.buffer,c=[i.x,i.y,i.z,i.w],u=["buffer","normalized","offset","stride"];function f(){t("if(!",p,".buffer){",o,".enableVertexAttribArray(",s,");}");var r,a=i.type;if(r=i.size?t.def(i.size,"||",n):n,t("if(",p,".type!==",a,"||",p,".size!==",r,"||",u.map(function(e){return p+"."+e+"!=="+i[e]}).join("||"),"){",o,".bindBuffer(",ac,",",l,".buffer);",o,".vertexAttribPointer(",[s,r,a,i.normalized,i.stride,i.offset],");",p,".type=",a,";",p,".size=",r,";",u.map(function(e){return p+"."+e+"="+i[e]+";"}).join(""),"}"),v){var d=i.divisor;t("if(",p,".divisor!==",d,"){",e.instancing,".vertexAttribDivisorANGLE(",[s,d],");",p,".divisor=",d,";}")}}function m(){t("if(",p,".buffer){",o,".disableVertexAttribArray(",s,");",p,".buffer=null;","}if(",iy.map(function(e,t){return p+"."+e+"!=="+c[t]}).join("||"),"){",o,".vertexAttrib4f(",s,",",c,");",iy.map(function(e,t){return p+"."+e+"="+c[t]+";"}).join(""),"}")}d===ib?f():d===i_?m():(t("if(",d,"===",ib,"){"),f(),t("}else{"),m(),t("}"))}n.forEach(function(n){var a,p=n.name,d=r.attributes[p];if(d){if(!i(d))return;a=d.append(e,t)}else{if(!i(oi))return;var l=e.scopeAttrib(p);er.optional(function(){e.assert(t,l+".state","missing attribute "+p)}),a={},Object.keys(new h).forEach(function(e){a[e]=t.def(l,".",e)})}s(e.link(n),o(n.info.type),a)})}function J(e,t,n,i,a,o){for(var s=e.shared,p=s.gl,d=0;d<i.length;++d){var l,c,u=i[d],f=u.name,m=u.info.type,g=n.uniforms[f],h=e.link(u)+".location";if(g){if(!a(g))continue;if(ot(g)){var y=g.value;if(er.command(null!=y,'missing uniform "'+f+'"',e.commandStr),m===az||m===aN){er.command("function"==typeof y&&(m===az&&("texture2d"===y._reglType||"framebuffer"===y._reglType)||m===aN&&("textureCube"===y._reglType||"framebufferCube"===y._reglType)),"invalid texture for uniform "+f,e.commandStr);var v=e.link(y._texture||y.color[0]._texture);t(p,".uniform1i(",h,",",v+".bind());"),t.exit(v,".unbind();")}else if(m===aI||m===aG||m===aP){er.optional(function(){er.command(t0(y),"invalid matrix for uniform "+f,e.commandStr),er.command(m===aI&&4===y.length||m===aG&&9===y.length||m===aP&&16===y.length,"invalid length for matrix uniform "+f,e.commandStr)});var b=e.global.def("new Float32Array(["+Array.prototype.slice.call(y)+"])"),_=2;m===aG?_=3:m===aP&&(_=4),t(p,".uniformMatrix",_,"fv(",h,",false,",b,");")}else{switch(m){case aS:er.commandType(y,"number","uniform "+f,e.commandStr),l="1f";break;case aT:er.command(t0(y)&&2===y.length,"uniform "+f,e.commandStr),l="2f";break;case aR:er.command(t0(y)&&3===y.length,"uniform "+f,e.commandStr),l="3f";break;case ax:er.command(t0(y)&&4===y.length,"uniform "+f,e.commandStr),l="4f";break;case aA:er.commandType(y,"boolean","uniform "+f,e.commandStr),l="1i";break;case aw:er.commandType(y,"number","uniform "+f,e.commandStr),l="1i";break;case aB:case ak:er.command(t0(y)&&2===y.length,"uniform "+f,e.commandStr),l="2i";break;case aL:case aE:er.command(t0(y)&&3===y.length,"uniform "+f,e.commandStr),l="3i";break;case aD:case aC:er.command(t0(y)&&4===y.length,"uniform "+f,e.commandStr),l="4i"}t(p,".uniform",l,"(",h,",",t0(y)?Array.prototype.slice.call(y):y,");")}continue}c=g.append(e,t)}else{if(!a(oi))continue;c=t.def(s.uniforms,"[",r.id(f),"]")}m===az?(er(!Array.isArray(c),"must specify a scalar prop for textures"),t("if(",c,"&&",c,'._reglType==="framebuffer"){',c,"=",c,".color[0];","}")):m===aN&&(er(!Array.isArray(c),"must specify a scalar prop for cube maps"),t("if(",c,"&&",c,'._reglType==="framebufferCube"){',c,"=",c,".color[0];","}")),er.optional(function(){function r(r,n){e.assert(t,r,'bad data or missing for uniform "'+f+'".  '+n)}function n(e){er(!Array.isArray(c),"must not specify an array type for uniform"),r("typeof "+c+'==="'+e+'"',"invalid type, expected "+e)}function i(t,n){Array.isArray(c)?er(c.length===t,"must have length "+t):r(s.isArrayLike+"("+c+")&&"+c+".length==="+t,"invalid vector, should have length "+t,e.commandStr)}function a(t){er(!Array.isArray(c),"must not specify a value type"),r("typeof "+c+'==="function"&&'+c+'._reglType==="texture'+(t===af?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(m){case aw:n("number");break;case ak:i(2,"number");break;case aE:i(3,"number");break;case aC:i(4,"number");break;case aS:n("number");break;case aT:i(2,"number");break;case aR:i(3,"number");break;case ax:i(4,"number");break;case aA:n("boolean");break;case aB:i(2,"boolean");break;case aL:i(3,"boolean");break;case aD:i(4,"boolean");break;case aI:i(4,"number");break;case aG:i(9,"number");break;case aP:i(16,"number");break;case az:a(af);break;case aN:a(am)}});var O=1;switch(m){case az:case aN:var M=t.def(c,"._texture");t(p,".uniform1i(",h,",",M,".bind());"),t.exit(M,".unbind();");continue;case aw:case aA:l="1i";break;case ak:case aB:l="2i",O=2;break;case aE:case aL:l="3i",O=3;break;case aC:case aD:l="4i",O=4;break;case aS:l="1f";break;case aT:l="2f",O=2;break;case aR:l="3f",O=3;break;case ax:l="4f",O=4;break;case aI:l="Matrix2fv";break;case aG:l="Matrix3fv";break;case aP:l="Matrix4fv"}if("M"===l.charAt(0)){t(p,".uniform",l,"(",h,",");var F=Math.pow(m-aI+2,2),S=e.global.def("new Float32Array(",F,")");Array.isArray(c)?t("false,(",eR(F,function(e){return S+"["+e+"]="+c[e]}),",",S,")"):t("false,(Array.isArray(",c,")||",c," instanceof Float32Array)?",c,":(",eR(F,function(e){return S+"["+e+"]="+c+"["+e+"]"}),",",S,")"),t(");")}else if(O>1){for(var T=[],R=[],x=0;x<O;++x)Array.isArray(c)?R.push(c[x]):R.push(t.def(c+"["+x+"]")),o&&T.push(t.def());o&&t("if(!",e.batchId,"||",T.map(function(e,t){return e+"!=="+R[t]}).join("||"),"){",T.map(function(e,t){return e+"="+R[t]+";"}).join("")),t(p,".uniform",l,"(",h,",",R.join(","),");"),o&&t("}")}else{if(er(!Array.isArray(c),"uniform value must not be an array"),o){var w=t.def();t("if(!",e.batchId,"||",w,"!==",c,"){",w,"=",c,";")}t(p,".uniform",l,"(",h,",",c,");"),o&&t("}")}}}function Z(e,t,r,n){var i,a,o=e.shared,s=o.gl,p=o.draw,d=n.draw;function l(){var i,a=d.count,o=t;return a?((a.contextDep&&n.contextDynamic||a.propDep)&&(o=r),i=a.append(e,o),er.optional(function(){a.MISSING&&e.assert(t,"false","missing vertex count"),a.DYNAMIC&&e.assert(o,i+">=0","missing vertex count")})):(i=o.def(p,".",i8),er.optional(function(){e.assert(o,i+">=0","missing vertex count")})),i}var c=function(){var i,a=d.elements,l=t;return a?((a.contextDep&&n.contextDynamic||a.propDep)&&(l=r),i=a.append(e,l),d.elementsActive&&l("if("+i+")"+s+".bindBuffer("+au+","+i+".buffer.buffer);")):(i=l.def(),l(i,"=",p,".",i6,";","if(",i,"){",s,".bindBuffer(",au,",",i,".buffer.buffer);}","else if(",o.vao,".currentVAO){",i,"=",e.shared.elements+".getElements("+o.vao,".currentVAO.elements);",_?"":"if("+i+")"+s+".bindBuffer("+au+","+i+".buffer.buffer);","}")),i}();function u(i){var a=d[i];return a?a.contextDep&&n.contextDynamic||a.propDep?a.append(e,r):a.append(e,t):t.def(p,".",i)}var f=u(i5),m=u(i7),g=l();if("number"==typeof g){if(0===g)return}else r("if(",g,"){"),r.exit("}");v&&(i=u(i9),a=e.instancing);var h=c+".type",y=d.elements&&ot(d.elements)&&!d.vaoActive;function b(){function e(){r(a,".drawElementsInstancedANGLE(",[f,g,h,m+"<<(("+h+"-"+iv+")>>1)",i],");")}function t(){r(a,".drawArraysInstancedANGLE(",[f,m,g,i],");")}c&&"null"!==c?y?e():(r("if(",c,"){"),e(),r("}else{"),t(),r("}")):t()}function O(){function e(){r(s+".drawElements("+[f,g,h,m+"<<(("+h+"-"+iv+")>>1)"]+");")}function t(){r(s+".drawArrays("+[f,m,g]+");")}c&&"null"!==c?y?e():(r("if(",c,"){"),e(),r("}else{"),t(),r("}")):t()}v&&("number"!=typeof i||i>=0)?"string"==typeof i?(r("if(",i,">0){"),b(),r("}else if(",i,"<0){"),O(),r("}")):b():O()}function Q(e,t,r,n,i){var a=A(),o=a.proc("body",i);return er.optional(function(){a.commandStr=t.commandStr,a.command=a.link(t.commandStr)}),v&&(a.instancing=o.def(a.shared.extensions,".angle_instanced_arrays")),e(a,o,r,n),a.compile().body}function ee(e,t,r,n){Y(e,t),r.useVAO?r.drawVAO?t(e.shared.vao,".setVAO(",r.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),q(e,t,r,n.attributes,function(){return!0})),J(e,t,r,n.uniforms,function(){return!0},!1),Z(e,t,t,r)}function et(e,t){var r=e.proc("draw",1);Y(e,r),H(e,r,t.context),V(e,r,t.framebuffer),K(e,r,t),$(e,r,t.state),X(e,r,t,!1,!0);var n=t.shader.progVar.append(e,r);if(r(e.shared.gl,".useProgram(",n,".program);"),t.shader.program)ee(e,r,t,t.shader.program);else{r(e.shared.vao,".setVAO(null);");var i=e.global.def("{}"),a=r.def(n,".id"),o=r.def(i,"[",a,"]");r(e.cond(o).then(o,".call(this,a0);").else(o,"=",i,"[",a,"]=",e.link(function(r){return Q(ee,e,t,r,1)}),"(",n,");",o,".call(this,a0);"))}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;"),e.shared.vao&&r(e.shared.vao,".setVAO(null);")}function en(e,t,r,n){function i(){return!0}e.batchId="a1",Y(e,t),q(e,t,r,n.attributes,i),J(e,t,r,n.uniforms,i,!1),Z(e,t,t,r)}function ei(e,t,r,n){Y(e,t);var i=r.contextDep,a=t.def(),o="a0",s="a1",p=t.def();e.shared.props=p,e.batchId=a;var d=e.scope(),l=e.scope();function c(e){return e.contextDep&&i||e.propDep}function u(e){return!c(e)}if(t(d.entry,"for(",a,"=0;",a,"<",s,";++",a,"){",p,"=",o,"[",a,"];",l,"}",d.exit),r.needsContext&&H(e,l,r.context),r.needsFramebuffer&&V(e,l,r.framebuffer),$(e,l,r.state,c),r.profile&&c(r.profile)&&X(e,l,r,!1,!0),n)r.useVAO?r.drawVAO?c(r.drawVAO)?l(e.shared.vao,".setVAO(",r.drawVAO.append(e,l),");"):d(e.shared.vao,".setVAO(",r.drawVAO.append(e,d),");"):d(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(d(e.shared.vao,".setVAO(null);"),q(e,d,r,n.attributes,u),q(e,l,r,n.attributes,c)),J(e,d,r,n.uniforms,u,!1),J(e,l,r,n.uniforms,c,!0),Z(e,d,l,r);else{var f=e.global.def("{}"),m=r.shader.progVar.append(e,l),g=l.def(m,".id"),h=l.def(f,"[",g,"]");l(e.shared.gl,".useProgram(",m,".program);","if(!",h,"){",h,"=",f,"[",g,"]=",e.link(function(t){return Q(en,e,r,t,2)}),"(",m,");}",h,".call(this,a0[",a,"],",a,");")}}function ea(e,t){var r=e.proc("batch",2);e.batchId="0",Y(e,r);var n=!1,i=!0;Object.keys(t.context).forEach(function(e){n=n||t.context[e].propDep}),n||(H(e,r,t.context),i=!1);var a=t.framebuffer,o=!1;function s(e){return e.contextDep&&n||e.propDep}a?(a.propDep?n=o=!0:a.contextDep&&n&&(o=!0),o||V(e,r,a)):V(e,r,null),t.state.viewport&&t.state.viewport.propDep&&(n=!0),K(e,r,t),$(e,r,t.state,function(e){return!s(e)}),t.profile&&s(t.profile)||X(e,r,t,!1,"a1"),t.contextDep=n,t.needsContext=i,t.needsFramebuffer=o;var p=t.shader.progVar;if(p.contextDep&&n||p.propDep)ei(e,r,t,null);else{var d=p.append(e,r);if(r(e.shared.gl,".useProgram(",d,".program);"),t.shader.program)ei(e,r,t,t.shader.program);else{r(e.shared.vao,".setVAO(null);");var l=e.global.def("{}"),c=r.def(d,".id"),u=r.def(l,"[",c,"]");r(e.cond(u).then(u,".call(this,a0,a1);").else(u,"=",l,"[",c,"]=",e.link(function(r){return Q(ei,e,t,r,2)}),"(",d,");",u,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;"),e.shared.vao&&r(e.shared.vao,".setVAO(null);")}function eo(e,t){var n=e.proc("scope",3);e.batchId="a2";var i=e.shared,a=i.current;function o(r){var a=t.shader[r];a&&n.set(i.shader,"."+r,a.append(e,n))}H(e,n,t.context),t.framebuffer&&t.framebuffer.append(e,n),a9(Object.keys(t.state)).forEach(function(r){var a=t.state[r].append(e,n);t0(a)?a.forEach(function(t,i){n.set(e.next[r],"["+i+"]",t)}):n.set(i.next,"."+r,a)}),X(e,n,t,!0,!0),[i6,i7,i8,i9,i5].forEach(function(r){var a=t.draw[r];a&&n.set(i.draw,"."+r,""+a.append(e,n))}),Object.keys(t.uniforms).forEach(function(a){var o=t.uniforms[a].append(e,n);Array.isArray(o)&&(o="["+o.join()+"]"),n.set(i.uniforms,"["+r.id(a)+"]",o)}),Object.keys(t.attributes).forEach(function(r){var i=t.attributes[r].append(e,n),a=e.scopeAttrib(r);Object.keys(new h).forEach(function(e){n.set(a,"."+e,i[e])})}),t.scopeVAO&&n.set(i.vao,".targetVAO",t.scopeVAO.append(e,n)),o(i3),o(i4),Object.keys(t.state).length>0&&(n(a,".dirty=true;"),n.exit(a,".dirty=true;")),n("a1(",e.shared.context,",a0,",e.batchId,");")}function es(e){if(!("object"!=typeof e||t0(e))){for(var t=Object.keys(e),r=0;r<t.length;++r)if(em.isDynamic(e[t[r]]))return!0;return!1}}function ep(e,t,r){var n=t.static[r];if(n&&es(n)){var i=e.global,a=Object.keys(n),o=!1,s=!1,p=!1,d=e.global.def("{}");a.forEach(function(t){var r=n[t];if(em.isDynamic(r)){"function"==typeof r&&(r=n[t]=em.unbox(r));var a=on(r,null);o=o||a.thisDep,p=p||a.propDep,s=s||a.contextDep}else{switch(i(d,".",t,"="),typeof r){case"number":i(r);break;case"string":i('"',r,'"');break;case"object":Array.isArray(r)&&i("[",r.join(),"]");break;default:i(e.link(r))}i(";")}}),t.dynamic[r]=new em.DynamicVariable(iT,{thisDep:o,contextDep:s,propDep:p,ref:d,append:l}),delete t.static[r]}function l(e,t){a.forEach(function(r){var i=n[r];if(em.isDynamic(i)){var a=e.invoke(t,i);t(d,".",r,"=",a,";")}})}}function ed(e,r,n,i,a){var o=A();o.stats=o.link(a),Object.keys(r.static).forEach(function(e){ep(o,r,e)}),al.forEach(function(t){ep(o,e,t)});var s=j(e,r,n,i,o);return et(o,s),eo(o,s),ea(o,s),t(o.compile(),{destroy:function(){s.shader.program.destroy()}})}return{next:M,current:O,procs:function(){var e,t=A(),r=t.proc("poll"),a=t.proc("refresh"),o=t.block();r(o),a(o);var s=t.shared,p=s.gl,d=s.next,l=s.current;o(l,".dirty=false;"),V(t,r),V(t,a,null,!0),v&&(e=t.link(v)),n.oes_vertex_array_object&&a(t.link(n.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var c=0;c<i.maxAttributes;++c){var u=a.def(s.attributes,"[",c,"]"),f=t.cond(u,".buffer");f.then(p,".enableVertexAttribArray(",c,");",p,".bindBuffer(",ac,",",u,".buffer.buffer);",p,".vertexAttribPointer(",c,",",u,".size,",u,".type,",u,".normalized,",u,".stride,",u,".offset);").else(p,".disableVertexAttribArray(",c,");",p,".vertexAttrib4f(",c,",",u,".x,",u,".y,",u,".z,",u,".w);",u,".buffer=null;"),a(f),v&&a(e,".vertexAttribDivisorANGLE(",c,",",u,".divisor);")}return a(t.shared.vao,".currentVAO=null;",t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"),Object.keys(S).forEach(function(e){var n=S[e],i=o.def(d,".",e),s=t.block();s("if(",i,"){",p,".enable(",n,")}else{",p,".disable(",n,")}",l,".",e,"=",i,";"),a(s),r("if(",i,"!==",l,".",e,"){",s,"}")}),Object.keys(T).forEach(function(e){var n,i,s=T[e],c=O[e],u=t.block();if(u(p,".",s,"("),t0(c)){var f=c.length;n=t.global.def(d,".",e),i=t.global.def(l,".",e),u(eR(f,function(e){return n+"["+e+"]"}),");",eR(f,function(e){return i+"["+e+"]="+n+"["+e+"];"}).join("")),r("if(",eR(f,function(e){return n+"["+e+"]!=="+i+"["+e+"]"}).join("||"),"){",u,"}")}else n=o.def(d,".",e),i=o.def(l,".",e),u(n,");",l,".",e,"=",n,";"),r("if(",n,"!==",i,"){",u,"}");a(u)}),t.compile()}(),compile:ed}}function oo(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var os=34918,op=34919,od=35007,ol=function(e,t){if(!t.ext_disjoint_timer_query)return null;var r=[];function n(){return r.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function i(e){r.push(e)}var a=[];function o(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var s=[];function p(){return s.pop()||new o}function d(e){s.push(e)}var l=[];function c(e,t,r){var n=p();n.startQueryIndex=e,n.endQueryIndex=t,n.sum=0,n.stats=r,l.push(n)}var u=[],f=[];return{beginQuery:function(e){var r=n();t.ext_disjoint_timer_query.beginQueryEXT(od,r),a.push(r),c(a.length-1,a.length,e)},endQuery:function(){t.ext_disjoint_timer_query.endQueryEXT(od)},pushScopeStats:c,update:function(){var e,r,n=a.length;if(0!==n){f.length=Math.max(f.length,n+1),u.length=Math.max(u.length,n+1),u[0]=0,f[0]=0;var o=0;for(r=0,e=0;r<a.length;++r){var s=a[r];t.ext_disjoint_timer_query.getQueryObjectEXT(s,op)?(o+=t.ext_disjoint_timer_query.getQueryObjectEXT(s,os),i(s)):a[e++]=s,u[r+1]=o,f[r+1]=e}for(r=0,a.length=e,e=0;r<l.length;++r){var p=l[r],c=p.startQueryIndex,m=p.endQueryIndex;p.sum+=u[m]-u[c];var g=f[c],h=f[m];h===g?(p.stats.gpuTime+=p.sum/1e6,d(p)):(p.startQueryIndex=g,p.endQueryIndex=h,l[e++]=p)}l.length=e}},getNumPendingQueries:function(){return a.length},clear:function(){r.push.apply(r,a);for(var e=0;e<r.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(r[e]);a.length=0,r.length=0},restore:function(){a.length=0,r.length=0}}},oc=16384,ou=256,of=1024,om=34962,og="webglcontextlost",oh="webglcontextrestored",oy=1,ov=2,ob=3;function o_(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return r;return -1}return function(e){var r=eS(e);if(!r)return null;var n=r.gl,i=n.getContextAttributes(),a=n.isContextLost(),o=eT(n,r);if(!o)return null;var s=ey(),p=oo(),d=o.extensions,l=ol(n,d),c=eh(),u=n.drawingBufferWidth,f=n.drawingBufferHeight,m={tick:0,time:0,viewportWidth:u,viewportHeight:f,framebufferWidth:u,framebufferHeight:f,drawingBufferWidth:u,drawingBufferHeight:f,pixelRatio:r.pixelRatio},g={},h={elements:null,primitive:4,count:-1,offset:0,instances:-1},y=tu(n,d),v=tD(n,p,r,O),b=tX(n,d,v,p),_=it(n,d,y,p,v,b,h);function O(e){return _.destroyBuffer(e)}var M=is(n,s,p,r),F=nv(n,d,y,function(){R.procs.poll()},m,p,r),S=nA(n,d,y,p,r),T=n6(n,d,y,F,S,p),R=oa(n,s,d,y,v,b,F,T,g,_,M,h,m,l,r),x=iu(n,T,R.procs.poll,m,i,d,y),w=R.next,k=n.canvas,E=[],C=[],A=[],B=[r.onDestroy],L=null;function D(){if(0===E.length){l&&l.update(),L=null;return}L=eg.next(D),$();for(var e=E.length-1;e>=0;--e){var t=E[e];t&&t(m,null,0)}n.flush(),l&&l.update()}function I(){!L&&E.length>0&&(L=eg.next(D))}function G(){L&&(eg.cancel(D),L=null)}function P(e){e.preventDefault(),a=!0,G(),C.forEach(function(e){e()})}function z(e){n.getError(),a=!1,o.restore(),M.restore(),v.restore(),F.restore(),S.restore(),T.restore(),_.restore(),l&&l.restore(),R.procs.refresh(),I(),A.forEach(function(e){e()})}function N(){E.length=0,G(),k&&(k.removeEventListener(og,P),k.removeEventListener(oh,z)),M.clear(),T.clear(),S.clear(),_.clear(),F.clear(),b.clear(),v.clear(),l&&l.clear(),B.forEach(function(e){e()})}function W(e){function r(e){var r=t({},e);function n(e){if(e in r){var t=r[e];delete r[e],Object.keys(t).forEach(function(n){r[e+"."+n]=t[n]})}}return delete r.uniforms,delete r.attributes,delete r.context,delete r.vao,"stencil"in r&&r.stencil.op&&(r.stencil.opBack=r.stencil.opFront=r.stencil.op,delete r.stencil.op),n("blend"),n("depth"),n("cull"),n("stencil"),n("polygonOffset"),n("scissor"),n("sample"),"vao"in e&&(r.vao=e.vao),r}function n(e,t){var r={},n={};return Object.keys(e).forEach(function(i){var a=e[i];if(em.isDynamic(a)){n[i]=em.unbox(a,i);return}if(t&&Array.isArray(a)){for(var o=0;o<a.length;++o)if(em.isDynamic(a[o])){n[i]=em.unbox(a,i);return}}r[i]=a}),{dynamic:n,static:r}}er(!!e,"invalid args to regl({...})"),er.type(e,"object","invalid args to regl({...})");var i=n(e.context||{},!0),o=n(e.uniforms||{},!0),s=n(e.attributes||{},!1),p=n(r(e),!1),d={gpuTime:0,cpuTime:0,count:0},l=R.compile(p,s,o,i,d),c=l.draw,u=l.batch,f=l.scope,m=[];function g(e){for(;m.length<e;)m.push(null);return m}return t(function(e,t){var r;if(a&&er.raise("context lost"),"function"==typeof e)return f.call(this,null,e,0);if("function"==typeof t)if("number"==typeof e)for(r=0;r<e;++r)f.call(this,null,t,r);else if(!Array.isArray(e))return f.call(this,e,t,0);else for(r=0;r<e.length;++r)f.call(this,e[r],t,r);else if("number"==typeof e){if(e>0)return u.call(this,g(0|e),0|e)}else if(!Array.isArray(e))return c.call(this,e);else if(e.length)return u.call(this,e,e.length)},{stats:d,destroy:function(){l.destroy()}})}k&&(k.addEventListener(og,P,!1),k.addEventListener(oh,z,!1));var U=T.setFBO=W({framebuffer:em.define.call(null,oy,"framebuffer")});function j(e,t){var r=0;R.procs.poll();var i=t.color;i&&(n.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),r|=oc),"depth"in t&&(n.clearDepth(+t.depth),r|=ou),"stencil"in t&&(n.clearStencil(0|t.stencil),r|=of),er(!!r,"called regl.clear with no buffer specified"),n.clear(r)}function H(e){if(er("object"==typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var r=0;r<6;++r)U(t({framebuffer:e.framebuffer.faces[r]},e),j);else U(e,j);else j(null,e)}function V(e){function t(){var t=o_(E,e);function r(){var e=o_(E,r);E[e]=E[E.length-1],E.length-=1,E.length<=0&&G()}er(t>=0,"cannot cancel a frame twice"),E[t]=r}return er.type(e,"function","regl.frame() callback must be a function"),E.push(e),I(),{cancel:t}}function K(){var e=w.viewport,t=w.scissor_box;e[0]=e[1]=t[0]=t[1]=0,m.viewportWidth=m.framebufferWidth=m.drawingBufferWidth=e[2]=t[2]=n.drawingBufferWidth,m.viewportHeight=m.framebufferHeight=m.drawingBufferHeight=e[3]=t[3]=n.drawingBufferHeight}function $(){m.tick+=1,m.time=X(),K(),R.procs.poll()}function Y(){F.refresh(),K(),R.procs.refresh(),l&&l.update()}function X(){return(eh()-c)/1e3}function q(e,t){var r;switch(er.type(t,"function","listener callback must be a function"),e){case"frame":return V(t);case"lost":r=C;break;case"restore":r=A;break;case"destroy":r=B;break;default:er.raise("invalid event, must be one of frame,lost,restore,destroy")}return r.push(t),{cancel:function(){for(var e=0;e<r.length;++e)if(r[e]===t){r[e]=r[r.length-1],r.pop();return}}}}Y();var J=t(W,{clear:H,prop:em.define.bind(null,oy),context:em.define.bind(null,ov),this:em.define.bind(null,ob),draw:W({}),buffer:function(e){return v.create(e,om,!1,!1)},elements:function(e){return b.create(e,!1)},texture:F.create2D,cube:F.createCube,renderbuffer:S.create,framebuffer:T.create,framebufferCube:T.createCube,vao:_.createVAO,attributes:i,frame:V,on:q,limits:y,hasExtension:function(e){return y.extensions.indexOf(e.toLowerCase())>=0},read:x,destroy:N,_gl:n,_refresh:Y,poll:function(){$(),l&&l.update()},now:X,stats:p});return r.onDone(null,J),J}});const[$98c2955056125f78$export$6747e444d0e25f8e,$98c2955056125f78$export$c8a0e366d15bb712,$98c2955056125f78$export$cb6d410f870ee721,$98c2955056125f78$export$9e7986c53a12814a]=$091aada83ba48e39$export$24ecd06eea36a882("/"),[$207eda5607aed8ca$export$6897c284b6f9f4dc,$207eda5607aed8ca$export$eb08a4e6e8934de4,$207eda5607aed8ca$export$2f6df6f9964c34d8,$207eda5607aed8ca$export$2cac2c285d867dd]=$091aada83ba48e39$export$e40cf5ce9a490533(([e,t])=>`${e}=1/${t};`);var $bYNp4=parcelRequire("bYNp4"),$2jQ4E=parcelRequire("2jQ4E");const $d349685615015b96$export$fe6a5064d53faf98=(e,t)=>e[0]*t[0]+e[1]*t[1],$d349685615015b96$export$6f9aa2c904053c13=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2],$d349685615015b96$export$2e1971da4e839d07=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3];(0,$2jQ4E.vop)(0,(e,t)=>{let r=0;for(let n=e.length;n-- >0;)r+=e[n]*t[n];return r},$d349685615015b96$export$fe6a5064d53faf98,$d349685615015b96$export$6f9aa2c904053c13,$d349685615015b96$export$2e1971da4e839d07);const $e0ab6433b18bd206$export$68855e3505eedafd=(e,t=$c8f1865052673f80$export$1a74005704ec0a02)=>$d349685615015b96$export$6f9aa2c904053c13(e,t),$568e50e0dd660773$export$84dfe7a7188c2429=(e,t)=>{let r=t[0],n=t[1],i=t[2],a=$7e02ed4143b0a33c$export$3d9bf1c19a0bc433(e||t,r,$8f95e2aa30b8d61b$export$4598496351993abf(t[3])),o=$e0ab6433b18bd206$export$68855e3505eedafd(a);return i<o?n*=i/o:o<1&&(n*=(1-i)/(1-o)),$4e7503a19e75dec6$export$ba8c70ce75474f8d(a,(0,$bYNp4.clamp01)((a[0]-o)*n+i),(0,$bYNp4.clamp01)((a[1]-o)*n+i),(0,$bYNp4.clamp01)((a[2]-o)*n+i))},$e941d5325a74fa69$export$54f13de7f2ebc467=(e,t)=>{let r=(e=$fb1f8d32179df63c$export$dd799b5658f51338(e||t,t))[1],n=e[2];if(r<1e-6)return $4e7503a19e75dec6$export$ba8c70ce75474f8d(e,n,n,n);let i=6*e[0]%6,a=n*(1-r),o=1-Math.abs(i%2-1),s=3*n*r/(1+o),p=s*o+a;switch(s+=a,0|i){case 0:return $4e7503a19e75dec6$export$ba8c70ce75474f8d(e,s,p,a);case 1:return $4e7503a19e75dec6$export$ba8c70ce75474f8d(e,p,s,a);case 2:return $4e7503a19e75dec6$export$ba8c70ce75474f8d(e,a,s,p);case 3:return $4e7503a19e75dec6$export$ba8c70ce75474f8d(e,a,p,s);case 4:return $4e7503a19e75dec6$export$ba8c70ce75474f8d(e,p,a,s);case 5:return $4e7503a19e75dec6$export$ba8c70ce75474f8d(e,s,a,p);default:return $4e7503a19e75dec6$export$ba8c70ce75474f8d(e,a,a,a)}},$b4e0ce65744527e9$export$3056d8eeaa70fa11=(e,t)=>{let r=(e=$fb1f8d32179df63c$export$dd799b5658f51338(e||t,t))[1],n=e[2];return $7e02ed4143b0a33c$export$3d9bf1c19a0bc433(e,t[0],e[3]),$4e7503a19e75dec6$export$ba8c70ce75474f8d(e,((e[0]-1)*r+1)*n,((e[1]-1)*r+1)*n,((e[2]-1)*r+1)*n)},$30d04e9b83126315$export$73738998bb7f180b=(e,t)=>$4e7503a19e75dec6$export$abee0037e1db715(e||t,$5be17e1fe1ce9375$export$7a3b4878f4bbb062(t[0]),$5be17e1fe1ce9375$export$7a3b4878f4bbb062(t[1]),$5be17e1fe1ce9375$export$7a3b4878f4bbb062(t[2]),$8f95e2aa30b8d61b$export$4598496351993abf(t[3])),$b852b9a0de950cfc$export$f772f42bf67d946c=$04115fa0004dba84$export$dd366fca209b6b9f({mode:"srgb",order:["r","g","b","alpha"],from:{abgr32:(e,t)=>$01aaeea7479387b1$export$bb762bbbffb67d5(e,t[0]),argb32:(e,t)=>$01aaeea7479387b1$export$b9b70ffa6eb909fa(e,t[0]),hcy:$568e50e0dd660773$export$84dfe7a7188c2429,hsi:$e941d5325a74fa69$export$54f13de7f2ebc467,hsl:$6aa657369daf25f9$export$8b5c95800cbf8ce0,hsv:$b4e0ce65744527e9$export$3056d8eeaa70fa11,rgb:$388e86d7d4567f5a$export$b06545aaa0d83879},toRgb:$30d04e9b83126315$export$73738998bb7f180b});var $b7df158080be806d$exports={},$94ce8a4eb653d6ee$exports={},$24880878a6ac623b$exports={},$de853134146c98b0$exports={},$de853134146c98b0$var$process=$de853134146c98b0$exports={};function $de853134146c98b0$var$defaultSetTimout(){throw Error("setTimeout has not been defined")}function $de853134146c98b0$var$defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function $de853134146c98b0$var$runTimeout(e){if($de853134146c98b0$var$cachedSetTimeout===setTimeout)return setTimeout(e,0);if(($de853134146c98b0$var$cachedSetTimeout===$de853134146c98b0$var$defaultSetTimout||!$de853134146c98b0$var$cachedSetTimeout)&&setTimeout)return $de853134146c98b0$var$cachedSetTimeout=setTimeout,setTimeout(e,0);try{return $de853134146c98b0$var$cachedSetTimeout(e,0)}catch(t){try{return $de853134146c98b0$var$cachedSetTimeout.call(null,e,0)}catch(t){return $de853134146c98b0$var$cachedSetTimeout.call(this,e,0)}}}function $de853134146c98b0$var$runClearTimeout(e){if($de853134146c98b0$var$cachedClearTimeout===clearTimeout)return clearTimeout(e);if(($de853134146c98b0$var$cachedClearTimeout===$de853134146c98b0$var$defaultClearTimeout||!$de853134146c98b0$var$cachedClearTimeout)&&clearTimeout)return $de853134146c98b0$var$cachedClearTimeout=clearTimeout,clearTimeout(e);try{return $de853134146c98b0$var$cachedClearTimeout(e)}catch(t){try{return $de853134146c98b0$var$cachedClearTimeout.call(null,e)}catch(t){return $de853134146c98b0$var$cachedClearTimeout.call(this,e)}}}!function(){try{$de853134146c98b0$var$cachedSetTimeout="function"==typeof setTimeout?setTimeout:$de853134146c98b0$var$defaultSetTimout}catch(e){$de853134146c98b0$var$cachedSetTimeout=$de853134146c98b0$var$defaultSetTimout}try{$de853134146c98b0$var$cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:$de853134146c98b0$var$defaultClearTimeout}catch(e){$de853134146c98b0$var$cachedClearTimeout=$de853134146c98b0$var$defaultClearTimeout}}();var $de853134146c98b0$var$queue=[],$de853134146c98b0$var$draining=!1,$de853134146c98b0$var$queueIndex=-1;function $de853134146c98b0$var$cleanUpNextTick(){$de853134146c98b0$var$draining&&$de853134146c98b0$var$currentQueue&&($de853134146c98b0$var$draining=!1,$de853134146c98b0$var$currentQueue.length?$de853134146c98b0$var$queue=$de853134146c98b0$var$currentQueue.concat($de853134146c98b0$var$queue):$de853134146c98b0$var$queueIndex=-1,$de853134146c98b0$var$queue.length&&$de853134146c98b0$var$drainQueue())}function $de853134146c98b0$var$drainQueue(){if(!$de853134146c98b0$var$draining){var e=$de853134146c98b0$var$runTimeout($de853134146c98b0$var$cleanUpNextTick);$de853134146c98b0$var$draining=!0;for(var t=$de853134146c98b0$var$queue.length;t;){for($de853134146c98b0$var$currentQueue=$de853134146c98b0$var$queue,$de853134146c98b0$var$queue=[];++$de853134146c98b0$var$queueIndex<t;)$de853134146c98b0$var$currentQueue&&$de853134146c98b0$var$currentQueue[$de853134146c98b0$var$queueIndex].run();$de853134146c98b0$var$queueIndex=-1,t=$de853134146c98b0$var$queue.length}$de853134146c98b0$var$currentQueue=null,$de853134146c98b0$var$draining=!1,$de853134146c98b0$var$runClearTimeout(e)}}function $de853134146c98b0$var$Item(e,t){this.fun=e,this.array=t}function $de853134146c98b0$var$noop(){}$de853134146c98b0$var$process.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];$de853134146c98b0$var$queue.push(new $de853134146c98b0$var$Item(e,t)),1!==$de853134146c98b0$var$queue.length||$de853134146c98b0$var$draining||$de853134146c98b0$var$runTimeout($de853134146c98b0$var$drainQueue)},$de853134146c98b0$var$Item.prototype.run=function(){this.fun.apply(null,this.array)},$de853134146c98b0$var$process.title="browser",$de853134146c98b0$var$process.browser=!0,$de853134146c98b0$var$process.env={},$de853134146c98b0$var$process.argv=[],$de853134146c98b0$var$process.version="",$de853134146c98b0$var$process.versions={},$de853134146c98b0$var$process.on=$de853134146c98b0$var$noop,$de853134146c98b0$var$process.addListener=$de853134146c98b0$var$noop,$de853134146c98b0$var$process.once=$de853134146c98b0$var$noop,$de853134146c98b0$var$process.off=$de853134146c98b0$var$noop,$de853134146c98b0$var$process.removeListener=$de853134146c98b0$var$noop,$de853134146c98b0$var$process.removeAllListeners=$de853134146c98b0$var$noop,$de853134146c98b0$var$process.emit=$de853134146c98b0$var$noop,$de853134146c98b0$var$process.prependListener=$de853134146c98b0$var$noop,$de853134146c98b0$var$process.prependOnceListener=$de853134146c98b0$var$noop,$de853134146c98b0$var$process.listeners=function(e){return[]},$de853134146c98b0$var$process.binding=function(e){throw Error("process.binding is not supported")},$de853134146c98b0$var$process.cwd=function(){return"/"},$de853134146c98b0$var$process.chdir=function(e){throw Error("process.chdir is not supported")},$de853134146c98b0$var$process.umask=function(){return 0},(function(){var e,t,r,n;"undefined"!=typeof performance&&null!==performance&&performance.now?$24880878a6ac623b$exports=function(){return performance.now()}:null!=$de853134146c98b0$exports&&$de853134146c98b0$exports.hrtime?($24880878a6ac623b$exports=function(){return(e()-n)/1e6},t=$de853134146c98b0$exports.hrtime,n=(e=function(){var e;return 1e9*(e=t())[0]+e[1]})()-1e9*$de853134146c98b0$exports.uptime()):Date.now?($24880878a6ac623b$exports=function(){return Date.now()-r},r=Date.now()):($24880878a6ac623b$exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call($24880878a6ac623b$exports);for(var $94ce8a4eb653d6ee$var$root="undefined"==typeof window?$parcel$global:window,$94ce8a4eb653d6ee$var$vendors=["moz","webkit"],$94ce8a4eb653d6ee$var$suffix="AnimationFrame",$94ce8a4eb653d6ee$var$raf=$94ce8a4eb653d6ee$var$root["request"+$94ce8a4eb653d6ee$var$suffix],$94ce8a4eb653d6ee$var$caf=$94ce8a4eb653d6ee$var$root["cancel"+$94ce8a4eb653d6ee$var$suffix]||$94ce8a4eb653d6ee$var$root["cancelRequest"+$94ce8a4eb653d6ee$var$suffix],$94ce8a4eb653d6ee$var$i=0;!$94ce8a4eb653d6ee$var$raf&&$94ce8a4eb653d6ee$var$i<$94ce8a4eb653d6ee$var$vendors.length;$94ce8a4eb653d6ee$var$i++)$94ce8a4eb653d6ee$var$raf=$94ce8a4eb653d6ee$var$root[$94ce8a4eb653d6ee$var$vendors[$94ce8a4eb653d6ee$var$i]+"Request"+$94ce8a4eb653d6ee$var$suffix],$94ce8a4eb653d6ee$var$caf=$94ce8a4eb653d6ee$var$root[$94ce8a4eb653d6ee$var$vendors[$94ce8a4eb653d6ee$var$i]+"Cancel"+$94ce8a4eb653d6ee$var$suffix]||$94ce8a4eb653d6ee$var$root[$94ce8a4eb653d6ee$var$vendors[$94ce8a4eb653d6ee$var$i]+"CancelRequest"+$94ce8a4eb653d6ee$var$suffix];if(!$94ce8a4eb653d6ee$var$raf||!$94ce8a4eb653d6ee$var$caf){var $94ce8a4eb653d6ee$var$last=0,$94ce8a4eb653d6ee$var$id=0,$94ce8a4eb653d6ee$var$queue=[],$94ce8a4eb653d6ee$var$frameDuration=1e3/60;$94ce8a4eb653d6ee$var$raf=function(e){if(0===$94ce8a4eb653d6ee$var$queue.length){var t=$24880878a6ac623b$exports(),r=Math.max(0,$94ce8a4eb653d6ee$var$frameDuration-(t-$94ce8a4eb653d6ee$var$last));$94ce8a4eb653d6ee$var$last=r+t,setTimeout(function(){var e=$94ce8a4eb653d6ee$var$queue.slice(0);$94ce8a4eb653d6ee$var$queue.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback($94ce8a4eb653d6ee$var$last)}catch(e){setTimeout(function(){throw e},0)}},Math.round(r))}return $94ce8a4eb653d6ee$var$queue.push({handle:++$94ce8a4eb653d6ee$var$id,callback:e,cancelled:!1}),$94ce8a4eb653d6ee$var$id},$94ce8a4eb653d6ee$var$caf=function(e){for(var t=0;t<$94ce8a4eb653d6ee$var$queue.length;t++)$94ce8a4eb653d6ee$var$queue[t].handle===e&&($94ce8a4eb653d6ee$var$queue[t].cancelled=!0)}}$94ce8a4eb653d6ee$exports=function(e){return $94ce8a4eb653d6ee$var$raf.call($94ce8a4eb653d6ee$var$root,e)},$94ce8a4eb653d6ee$exports.cancel=function(){$94ce8a4eb653d6ee$var$caf.apply($94ce8a4eb653d6ee$var$root,arguments)},$94ce8a4eb653d6ee$exports.polyfill=function(e){e||(e=$94ce8a4eb653d6ee$var$root),e.requestAnimationFrame=$94ce8a4eb653d6ee$var$raf,e.cancelAnimationFrame=$94ce8a4eb653d6ee$var$caf};var $960fac3ed7926a22$exports={};$960fac3ed7926a22$exports=$parcel$global.performance&&$parcel$global.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date};var $02d7d8d0e7014eac$exports={},$b14bff6a84745601$exports={},$b14bff6a84745601$var$res="";function $b14bff6a84745601$var$repeat(e,t){if("string"!=typeof e)throw TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var r=e.length*t;if($b14bff6a84745601$var$cache!==e||void 0===$b14bff6a84745601$var$cache)$b14bff6a84745601$var$cache=e,$b14bff6a84745601$var$res="";else if($b14bff6a84745601$var$res.length>=r)return $b14bff6a84745601$var$res.substr(0,r);for(;r>$b14bff6a84745601$var$res.length&&t>1;)1&t&&($b14bff6a84745601$var$res+=e),t>>=1,e+=e;return $b14bff6a84745601$var$res+=e,$b14bff6a84745601$var$res=$b14bff6a84745601$var$res.substr(0,r)}$b14bff6a84745601$exports=$b14bff6a84745601$var$repeat;var $19bf3df086f4a80e$exports={},$19bf3df086f4a80e$var$getOwnPropertySymbols=Object.getOwnPropertySymbols,$19bf3df086f4a80e$var$hasOwnProperty=Object.prototype.hasOwnProperty,$19bf3df086f4a80e$var$propIsEnumerable=Object.prototype.propertyIsEnumerable;function $19bf3df086f4a80e$var$toObject(e){if(null==e)throw TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function $19bf3df086f4a80e$var$shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==n.join(""))return!1;var i={};if("abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join(""))return!1;return!0}catch(e){return!1}}$19bf3df086f4a80e$exports=$19bf3df086f4a80e$var$shouldUseNative()?Object.assign:function(e,t){for(var r,n,i=$19bf3df086f4a80e$var$toObject(e),a=1;a<arguments.length;a++){for(var o in r=Object(arguments[a]))$19bf3df086f4a80e$var$hasOwnProperty.call(r,o)&&(i[o]=r[o]);if($19bf3df086f4a80e$var$getOwnPropertySymbols){n=$19bf3df086f4a80e$var$getOwnPropertySymbols(r);for(var s=0;s<n.length;s++)$19bf3df086f4a80e$var$propIsEnumerable.call(r,n[s])&&(i[n[s]]=r[n[s]])}}return i};var $38926dd097a14f49$exports={};function $02d7d8d0e7014eac$var$nest(e,t){var r={};return r[e]=t,r}function $02d7d8d0e7014eac$var$isLastLevel(e){return"string"==typeof e||Array.isArray(e)&&e.length&&"object"!=typeof e[0]}function $02d7d8d0e7014eac$var$oneMoreLevelExists(e){return"object"==typeof e&&!Array.isArray(e)}function $02d7d8d0e7014eac$var$identity(e){return e}function $02d7d8d0e7014eac$var$lineStart(e,t){return e?$b14bff6a84745601$exports(e,t):""}function $02d7d8d0e7014eac$var$space(e){return e?" ":""}function $02d7d8d0e7014eac$var$lineEnd(e){return e?"\n":""}function $02d7d8d0e7014eac$var$start(e,t,r){return $02d7d8d0e7014eac$var$lineStart(t,r)+e+$02d7d8d0e7014eac$var$space(t)+"{"+$02d7d8d0e7014eac$var$lineEnd(t)}function $02d7d8d0e7014eac$var$end(e,t){return $02d7d8d0e7014eac$var$lineStart(e,t)+"}"+$02d7d8d0e7014eac$var$lineEnd(e)}function $02d7d8d0e7014eac$var$rule(e,t,r,n){for(var i=$02d7d8d0e7014eac$var$lineStart(r,n+1),a=$02d7d8d0e7014eac$var$lineEnd(r),o=$02d7d8d0e7014eac$var$space(r),s="",p=0,d=e.length;p<d;p++)for(var l=0,c=t.length;l<c;l++)s+=i+e[p]+($02d7d8d0e7014eac$var$isAtRule(e[p])?" ":":")+o+t[l]+";"+a;return s}function $02d7d8d0e7014eac$var$isAtRule(e){return 0===e.indexOf("@")}function $b7df158080be806d$var$fps(e){if(!(this instanceof $b7df158080be806d$var$fps))return new $b7df158080be806d$var$fps(e);"string"==typeof e&&(e=$b7df158080be806d$var$positions[e]?{position:e}:{container:e}),(e=e||{}).container?"string"==typeof e.container?this.container=document.querySelector(e.container):this.container=e.container:this.container=document.body||document.documentElement,this.element=document.createElement("div"),this.element.className="fps",this.element.innerHTML='<div class="fps-bg"></div><canvas class="fps-canvas"></canvas><span class="fps-text">fps <span class="fps-value">60.0</span></span>',this.container.appendChild(this.element),this.canvas=this.element.querySelector(".fps-canvas"),this.textEl=this.element.querySelector(".fps-text"),this.valueEl=this.element.querySelector(".fps-value"),this.bgEl=this.element.querySelector(".fps-bg");var t=e.css||e.style||"";"object"==typeof t&&(t=$02d7d8d0e7014eac$exports(t));var r="";r=$b7df158080be806d$var$positions[e.position]||$b7df158080be806d$var$positions["top-left"],this.element.style.cssText=["line-height: 1;","position: fixed;","font-family: Roboto, sans-serif;","z-index: 1;","font-weight: 300;","font-size: small;","padding: 1rem;",r,e.color?"color:"+e.color:"",t].join(""),this.canvas.style.cssText="position: relative;width: 2em;height: 1em;display: block;float: left;margin-right: .333em;",this.bgEl.style.cssText="position: absolute;height: 1em;width: 2em;background: currentcolor;opacity: .1;",this.canvas.width=parseInt(getComputedStyle(this.canvas).width)||1,this.canvas.height=parseInt(getComputedStyle(this.canvas).height)||1,this.context=this.canvas.getContext("2d");var n=this.context,i=this.canvas.width,a=this.canvas.height,o=0,s=0,p=e.values||Array(this.canvas.width),d=e.period||1e3,l=e.max||100,c=this;$94ce8a4eb653d6ee$exports(function e(){o++;var t=$960fac3ed7926a22$exports();if(t-s>d){s=t,p.push(o/(l*d*.001)),p=p.slice(-i),o=0,n.clearRect(0,0,i,a),n.fillStyle=getComputedStyle(c.canvas).color;for(var r=i;r--;){var u=p[r];if(null==u)break;n.fillRect(r,a-a*u,1,a*u)}c.valueEl.innerHTML=(p[p.length-1]*l).toFixed(1)}$94ce8a4eb653d6ee$exports(e)})}$38926dd097a14f49$exports=function(e){return null==e?[]:Array.isArray(e)?e:[e]},$02d7d8d0e7014eac$exports=function(e,t){function r(e,r){return $38926dd097a14f49$exports(e).reduce(function(e,n){return e.concat(t.property(n,r))},[])}function n(e,r){return $38926dd097a14f49$exports(e).reduce(function(e,n){return e.concat(t.value(n,r))},[])}function i(e,r){return $38926dd097a14f49$exports(e).reduce(function(e,n){return e.concat(t.selector(n,r))},[])}function a(e,o){var s="";return Object.keys(e).forEach(function(p){var d=e[p];if($02d7d8d0e7014eac$var$isLastLevel(d)){s+=$02d7d8d0e7014eac$var$rule(r(p,d),n(d,p),t.indent,o-1);return}if(Array.isArray(d))return void d.forEach(function(e){s+=a($02d7d8d0e7014eac$var$nest(p,e),o)});i(p,d).forEach(function(i){s+=$02d7d8d0e7014eac$var$start(i,t.indent,o),Object.keys(d).forEach(function(i){var d=e[p][i];$02d7d8d0e7014eac$var$oneMoreLevelExists(d)?s+=a($02d7d8d0e7014eac$var$nest(i,d),o+1):s+=$02d7d8d0e7014eac$var$rule(r(i,d),n(d,i),t.indent,o)}),s+=$02d7d8d0e7014eac$var$end(t.indent,o)})}),s}return"number"==typeof(t=$19bf3df086f4a80e$exports({indent:"",property:$02d7d8d0e7014eac$var$identity,value:$02d7d8d0e7014eac$var$identity,selector:$02d7d8d0e7014eac$var$identity},t)).indent&&(t.indent=$b14bff6a84745601$exports(" ",t.indent)),$38926dd097a14f49$exports(e).map(function(e){return a(e,0)}).join($02d7d8d0e7014eac$var$lineEnd(t.indent))},$b7df158080be806d$exports=$b7df158080be806d$var$fps;var $b7df158080be806d$var$positions={"top-left":"left: 0; top: 0;","top-right":"right: 0; top: 0;","bottom-right":"right: 0; bottom: 0;","bottom-left":"left: 0; bottom: 0;"},$jegOU=parcelRequire("jegOU"),$j3ERp=parcelRequire("j3ERp"),$1fb83dcbc192a430$exports={};$1fb83dcbc192a430$exports="/** Grid-fade fragment shader. */\n\nprecision highp float;\n#define GLSLIFY 1\n\n#if defined(gridFade_output_fade)\n  #define typeHash 0\n  #define typeGauss 1\n\n  #ifndef type\n    #define type typeHash\n  #endif\n\n  #if type == typeGauss\n    #define qualityTap5 0\n    #define qualityTap9 1\n    #define qualityTap13 2\n\n    #ifndef quality\n      #define quality qualityTap5\n    #endif\n  #elif !defined(quality)\n    #define quality 3\n  #endif\n\n  gridFade_useSamples\n  gridFade_useReads_fade\n\n  #ifdef gridFade_splits\n    uniform sampler2D gridFade_states[gridFade_splits];\n  #else\n    uniform sampler2D gridFade_states;\n  #endif\n\n  uniform float gridFade_stepNow;\n  uniform vec4 gridFade_stateShape;\n\n  uniform float fade;\n  uniform float expose;\n  uniform float scale;\n\n  uniform vec4 colorLo;\n  uniform float dt;\n\n  #if type == typeHash\n    uniform float chaos;\n  #endif\n\n  varying vec2 gridFade_uv;\n\n  #if type == typeGauss\n    const vec2 axis = vec2(1, 0);\n    const float passes = 2.0;\n  #else\n    const float passes = 1.0;\n  #endif\n\n  #if type == typeGauss\n    #if quality > qualityTap9\n      vec4 blur13(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.411764705882353) * direction;\n  vec2 off2 = vec2(3.2941176470588234) * direction;\n  vec2 off3 = vec2(5.176470588235294) * direction;\n  color += texture2D(image, uv) * 0.1964825501511404;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\n  color += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\n  return color;\n}\n\n    #elif quality > qualityTap5\n      vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\n    #elif quality > qualityHash\n      vec4 blur5(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3333333333333333) * direction;\n  color += texture2D(image, uv) * 0.29411764705882354;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.35294117647058826;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.35294117647058826;\n  return color; \n}\n\n    #endif\n  #else\n    vec4 sampleFade(vec2 uv) {\n      gridFade_tapState(uv);\n\n      return gridFade_data[gridFade_reads_fade_fade].gridFade_channels_fade;\n    }\n\n    vec3 sampleHash(vec2 uv) { return sampleFade(uv).rgb; }\n\n    highp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n#ifndef TAU\n  #define TAU 6.28318530718\n#endif\n\n//Use last part of hash function to generate new random radius and angle\nvec2 mult(inout vec2 r) {\n  r = fract(r * vec2(12.9898,78.233));\n  return sqrt(r.x + .001) * vec2(sin(r.y * TAU), cos(r.y * TAU));\n}\n\nvec3 blur(vec2 uv, float radius, float aspect, float offset) {\n  vec2 circle = vec2(radius);\n  circle.x *= aspect;\n  vec2 rnd = vec2(random(vec2(uv + offset)));\n\n  vec3 acc = vec3(0.0);\n  for (int i = 0; i < quality; i++) {\n    acc += sampleHash(uv + circle * mult(rnd)).xyz;\n  }\n  return acc / float(quality);\n}\n\nvec3 blur(vec2 uv, float radius, float aspect) {\n  return blur(uv, radius, aspect, 0.0);\n}\n\nvec3 blur(vec2 uv, float radius) {\n  return blur(uv, radius, 1.0);\n}\n\n  #endif\n\n  float when_eq_2281831123(float x, float y) {\n  return 1.0 - abs(sign(x - y));\n}\n\nvec2 when_eq_2281831123(vec2 x, vec2 y) {\n  return 1.0 - abs(sign(x - y));\n}\n\nvec3 when_eq_2281831123(vec3 x, vec3 y) {\n  return 1.0 - abs(sign(x - y));\n}\n\nvec4 when_eq_2281831123(vec4 x, vec4 y) {\n  return 1.0 - abs(sign(x - y));\n}\n\n#endif\n\nvoid main() {\n  #if defined(gridFade_output_fade)\n    float end = when_eq_2281831123(fract(gridFade_stepNow/passes), 0.0);\n\n    #if type == typeGauss\n      vec4 to = blur(gridFade_states[0], gridFade_uv, gridFade_stateShape.xy,\n        mix(axis.xy, axis.yx, end)*scale);\n    #else\n      float radius = scale/max(gridFade_stateShape.x, gridFade_stateShape.y);\n      float aspect = gridFade_stateShape.x/gridFade_stateShape.y;\n\n      vec4 to = vec4(blur(gridFade_uv, radius, aspect, chaos),\n        /** @todo Can this extra tap be removed? */\n        sampleFade(gridFade_uv).a);\n    #endif\n\n    gridFade_output_fade =\n      mix(to, mix(to*(1.0+(expose*dt)), colorLo, fade*dt), end);\n  #endif\n}\n";var $760a75214d1da918$exports={};$760a75214d1da918$exports="/** Grid-fade-to-screen fragment shader. */\n\nprecision highp float;\n#define GLSLIFY 1\n\ngridFade_useSamples\ngridFade_useReads_fade\n\n#ifdef gridFade_splits\n  uniform sampler2D gridFade_states[gridFade_splits];\n#else\n  uniform sampler2D gridFade_states;\n#endif\n\nuniform float gridFade_stepNow;\nuniform vec4 gridFade_stateShape;\n\nvarying vec2 gridFade_uv;\n\n/**\n * Convenience to sample entries safely at their texel center.\n * Where `spreadUV` is for lookup ranges, `offsetUV` is for lookup queries.\n *\n * @see [`spreadUV`](./spread-uv.glsl)\n *\n * @param {vec2} `uv` UV texture sample coordinate, expect range `[0, 1]`.\n * @param {float|int|vec2|ivec2} `[size=1.0]` Texture's size, expect\n *   `[width, height]`, or if given a scalar interpret both as `side`.\n * @param {float|vec2} `[pad=0.5]` Texel `pad` to offset, expect range `[0, 1]`.\n *\n * @returns {vec2} The `uv` offset by `pad` to texel center, expect range\n *   `[0+pad, 1-pad]`.\n */\n\nvec2 offsetUV(vec2 uv, float size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, vec2 pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, int size, float pad) {\n  return offsetUV(uv, float(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, float pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, vec2 pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, float size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, vec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, int size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, ivec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv) { return offsetUV(uv, 1.0, 0.5); }\n\nvoid main() {\n  vec2 uv = offsetUV(gridFade_uv, gridFade_stateShape.xy);\n  // vec2 uv = gridFade_uv;\n\n  gridFade_tapState(uv);\n\n  vec4 to = gridFade_data[gridFade_reads_fade_fade].gridFade_channels_fade;\n\n  gl_FragColor = to;\n  gl_FragColor.rgb *= gl_FragColor.a;\n}\n";var $10d2c77390f67a22$exports={};$10d2c77390f67a22$exports="/** Optical-flow fragment shader. */\n\nprecision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D next;\nuniform sampler2D past;\nuniform float gap;\nuniform float lambda;\nuniform float alpha;\nuniform vec2 flip;\nuniform vec4 offset;\nuniform vec2 frameAspect;\nuniform vec2 screenAspect;\n\nvarying vec2 opticalFlow_uv;\n\nfloat when_gt_1540259130(float x, float y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec2 when_gt_1540259130(vec2 x, vec2 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec3 when_gt_1540259130(vec3 x, vec3 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec4 when_gt_1540259130(vec4 x, vec4 y) {\n  return max(sign(x - y), 0.0);\n}\n\nfloat when_le_2281831123(float x, float y) {\n  return 1.0 - when_gt_1540259130(x, y);\n}\n\nvec2 when_le_2281831123(vec2 x, vec2 y) {\n  return 1.0 - when_gt_1540259130(x, y);\n}\n\nvec3 when_le_2281831123(vec3 x, vec3 y) {\n  return 1.0 - when_gt_1540259130(x, y);\n}\n\nvec4 when_le_2281831123(vec4 x, vec4 y) {\n  return 1.0 - when_gt_1540259130(x, y);\n}\n\n/**\n * Optical flow GLSL module.\n * May work best if the views are pre-processed (e.g: blur).\n *\n * @see https://forum.openframeworks.cc/t/ofxflowtools-optical-flow-fluid-dynamics-and-particles-in-glsl/15470\n * @see https://github.com/moostrik/ofxFlowTools\n * @see https://github.com/diwi/PixelFlow\n * @see http://thomasdiewald.com/blog/?p=2766\n * @see https://adamferriss.com/gush/\n * @see https://github.com/princemio/ofxMIOFlowGLSL/blob/master/src/FlowShader.cpp\n */\n\n#define opticalFlowPixel_extern 0\n#define opticalFlowPixel_normal 1\n#define opticalFlowPixel_luma 2\n#ifndef opticalFlowPixel\n  #define opticalFlowPixel opticalFlowPixel_luma\n#endif\n\n#if opticalFlowPixel == opticalFlowPixel_luma\n  float luma(vec3 color) {\n  return dot(color, vec3(0.299, 0.587, 0.114));\n}\n\nfloat luma(vec4 color) {\n  return dot(color.rgb, vec3(0.299, 0.587, 0.114));\n}\n\n  vec4 pixel(sampler2D texture, vec2 uv) {\n    vec4 color = texture2D(texture, uv);\n\n    return vec4(vec3(luma(color)), color.a);\n  }\n#elif opticalFlowPixel == opticalFlowPixel_normal\n  vec4 pixel(sampler2D texture, vec2 uv) { return texture2D(texture, uv); }\n#else\n  // To provide external `pixel` lookup function.\n  vec4 pixel(sampler2D texture, vec2 uv);\n#endif\n\n// @todo Sample mimaps at different LODs/scales to capture wider features.\nvec2 opticalFlow(in vec2 uv, in sampler2D next, in sampler2D past,\n    in float offset, in float lambda) {\n  vec2 off = vec2(offset, 0.0);\n\n  vec4 gradX = (pixel(next, uv+off.xy)-pixel(next, uv-off.xy))+\n    (pixel(past, uv+off.xy)-pixel(past, uv-off.xy));\n\n  vec4 gradY = (pixel(next, uv+off.yx)-pixel(next, uv-off.yx))+\n    (pixel(past, uv+off.yx)-pixel(past, uv-off.yx));\n\n  vec4 gradMag = sqrt((gradX*gradX)+(gradY*gradY)+vec4(lambda));\n\n  vec4 diff = pixel(next, uv)-pixel(past, uv);\n\n  return vec2((diff*(gradX/gradMag)).x, (diff*(gradY/gradMag)).x);\n}\n\nvec2 opticalFlow(in vec2 uv, in sampler2D views[2], in float offset,\n    in float lambda) {\n  return opticalFlow(uv, views[0], views[1], offset, lambda);\n}\n\n// Implementations for each dimension.\n\nfloat aspect(in float size, in float scale) {\n    return scale/size;\n}\n\nvec2 aspect(in vec2 size, in vec2 scale) {\n    return scale/size;\n}\n\nvec3 aspect(in vec3 size, in vec3 scale) {\n    return scale/size;\n}\n\nvec4 aspect(in vec4 size, in vec4 scale) {\n    return scale/size;\n}\n\n// These are for `scale` always `float`:\n\nvec2 aspect(in vec2 size, in float scale) {\n    return aspect(size, vec2(scale));\n}\n\nvec3 aspect(in vec3 size, in float scale) {\n    return aspect(size, vec3(scale));\n}\n\nvec4 aspect(in vec4 size, in float scale) {\n    return aspect(size, vec4(scale));\n}\n\nvec2 aspectCover(in vec2 size) {\n    return aspect(size, min(size.x, size.y));\n}\n\nvec3 aspectCover(in vec3 size) {\n    return aspect(size, min(size.x, min(size.y, size.z)));\n}\n\nvec4 aspectCover(in vec4 size) {\n    return aspect(size, min(size.x, min(size.y, min(size.z, size.w))));\n}\n\nconst vec2 v1 = vec2(1);\nconst vec2 v0 = v1*0.0;\n\nvoid main() {\n  vec2 scale = screenAspect*aspectCover(screenAspect/frameAspect);\n  vec2 shift = (screenAspect-scale)*0.5;\n  vec2 uv = clamp((opticalFlow_uv/offset.zw)-offset.xy, v0, v1);\n  vec2 st = fract(uv*flip);\n\n  gl_FragColor.xy =\n    opticalFlow(((st*scale)+shift)/screenAspect, next, past, gap, lambda);\n}\n";var $bf9327d20fbce7e8$exports={};$bf9327d20fbce7e8$exports="/**\n * Optical-flow-to-grid fragment shader.\n *\n * @todo Center the flow and cover the grid/screen.\n */\n\n#ifdef GL_EXT_draw_buffers\n  #extension GL_EXT_draw_buffers : require\n#endif\n\nprecision highp float;\n#define GLSLIFY 1\n\n#if defined(grid_output_motionFull)\n  uniform vec2 rescaleFlow;\n  uniform sampler2D opticalFlow;\n  uniform float dt;\n\n  #ifdef rescale_motion\n    uniform vec2 rescaleMotion;\n  #else\n    const float rescaledMotion = 1.0;\n  #endif\n#endif\n\nvarying vec2 opticalFlowToGrid_uv;\n\n#ifdef grid_output_motionFull\n  /** Exponential notation packed into a vector. */\nfloat exponent(vec2 basePower) { return basePower.s*pow(1e1, basePower.t); }\n\n#endif\n\nvoid main() {\n  #ifdef grid_output_motionFull\n    #ifdef rescale_motion\n      float rescaledMotion = exponent(rescaleMotion);\n    #endif\n\n    float rescaledFlow = exponent(rescaleFlow);\n    vec2 flow = dt*texture2D(opticalFlow, opticalFlowToGrid_uv).xy*rescaledFlow;\n\n    grid_output_motionFull = flow/rescaledMotion;\n  #endif\n}\n";const{min:$9909834506eb223b$var$min,max:$9909834506eb223b$var$max,sign:$9909834506eb223b$var$sign,log2:$9909834506eb223b$var$log2}=Math,{isFinite:$9909834506eb223b$var$isFinite,isInteger:$9909834506eb223b$var$isInteger}=Number,{assign:$9909834506eb223b$var$assign}=Object,{parse:$9909834506eb223b$var$parse}=JSON,{createObjectURL:$9909834506eb223b$var$createObjectURL}=URL,$9909834506eb223b$var$_=void 0,$9909834506eb223b$var$screenPositions=$c34a44976d3d9d2f$export$cfdc3a7c4cb854c6(),$9909834506eb223b$export$dce0f7906c5e6747=(e,t,r,n=[])=>{let[i,a]=e,o=t(i,a);return o?$98c2955056125f78$export$c8a0e366d15bb712(n,e,o):$b98f4ad8ca787886$export$dcfbb7940cfb3a48(n,1,1),r?$207eda5607aed8ca$export$eb08a4e6e8934de4(n,n):n},$9909834506eb223b$export$f40320abe5266d8b=(e=location.search)=>new URLSearchParams(e),$9909834506eb223b$export$cf13531c653ea47b=(e,t,r=$9909834506eb223b$export$f40320abe5266d8b())=>r.get(e)||t,$9909834506eb223b$export$e4c26796fa37df17=(e,t,r)=>parseFloat($9909834506eb223b$export$cf13531c653ea47b(e,t,r),10);function $9909834506eb223b$export$4ed14f056d634df7(e,t,r){let n=$9909834506eb223b$export$cf13531c653ea47b(e,t,r);return"true"===n||"false"!==n&&t}const $9909834506eb223b$export$62c0e5826d412260=(e,t,r,n=$22ee496980731f5f$export$d02631cccf789723(e),i)=>(0,$j3ERp.reduce)((e,n,a)=>{let o=$9909834506eb223b$export$e4c26796fa37df17(`${t}[${a}]`,r?.[a],i);return $9909834506eb223b$var$isFinite(o)?e[a]=o:void 0===e[a]&&delete e[a],e},n,n),$9909834506eb223b$export$e42b9bfa6349b9e2=(e,t,r)=>(0,$jegOU.map)(e=>parseFloat(e,10),parseFloat($9909834506eb223b$export$cf13531c653ea47b(e,t,r),10).toExponential().split("e"),0);function $9909834506eb223b$export$4ffb24a4cbf3cb1f(e,t,r=$b852b9a0de950cfc$export$f772f42bf67d946c,n,i){let a=$9909834506eb223b$export$cf13531c653ea47b(e,t,i),o=r(("#"!==a[0]&&0>a.indexOf("(")?"#":"")+a).buf;return n?$9909834506eb223b$var$assign(n,o):o}const $9909834506eb223b$export$8069d817115baadd=(e=$9909834506eb223b$export$f40320abe5266d8b(),t="")=>({pixelRatio:$9909834506eb223b$export$e4c26796fa37df17(t+"pixelRatio",$9909834506eb223b$var$max(devicePixelRatio,1)||1,e),timer:{step:$9909834506eb223b$export$e4c26796fa37df17(t+"timer.step",1e3/30,e)},g:$9909834506eb223b$export$62c0e5826d412260(3,t+"g",$9909834506eb223b$var$_,$9909834506eb223b$var$_,e),pointsToGrid:{on:$9909834506eb223b$export$4ed14f056d634df7(t+"pointsToGrid.on",!0,e),quads:$9909834506eb223b$export$4ed14f056d634df7(t+"pointsToGrid.quads",$9909834506eb223b$var$_,e),instanced:$9909834506eb223b$export$4ed14f056d634df7(t+"pointsToGrid.instanced",$9909834506eb223b$var$_,e),batch:$9909834506eb223b$export$4ed14f056d634df7(t+"pointsToGrid.batch",$9909834506eb223b$var$_,e),order:$9909834506eb223b$export$cf13531c653ea47b(t+"pointsToGrid.order",$9909834506eb223b$var$_,e)},grid:{on:$9909834506eb223b$export$4ed14f056d634df7(t+"grid.on",!0,e),detail:$9909834506eb223b$export$e4c26796fa37df17(t+"grid.detail",90,e),limit:$9909834506eb223b$export$e4c26796fa37df17(t+"grid.limit",1e9,e),bounds:$9909834506eb223b$export$62c0e5826d412260(4,t+"grid.bounds",[-1,-1,1,1],$9909834506eb223b$var$_,e),boundsIn:$9909834506eb223b$export$62c0e5826d412260(4,t+"grid.boundsIn",[1,1,-1,-1],$9909834506eb223b$var$_,e),boundsHit:$9909834506eb223b$export$e4c26796fa37df17(t+"grid.boundsHit",1,e)},gridToPoints:{on:$9909834506eb223b$export$4ed14f056d634df7(t+"gridToPoints.on",!0,e),gpgpu:{scale:$9909834506eb223b$export$e4c26796fa37df17(t+"gridToPoints.gpgpu.scale",9,e),steps:$9909834506eb223b$export$e4c26796fa37df17(t+"gridToPoints.gpgpu.steps",2,e)},mass:$9909834506eb223b$export$e4c26796fa37df17(t+"gridToPoints.mass",1,e),volume:$9909834506eb223b$export$e4c26796fa37df17(t+"gridToPoints.volume",5e-4,e),volumeSplit:$9909834506eb223b$export$62c0e5826d412260(2,t+"gridToPoints.volumeSplit",[1e-6,-.001],$9909834506eb223b$var$_,e),motionAdjust:$9909834506eb223b$export$e4c26796fa37df17(t+"gridToPoints.motionAdjust",.97,e),positionAdjusts:$9909834506eb223b$export$62c0e5826d412260(2,t+"gridToPoints.positionAdjusts",[0,1],$9909834506eb223b$var$_,e),wander:$9909834506eb223b$export$62c0e5826d412260(3,t+"gridToPoints.wander",[-1e-5,.01,1e-6],$9909834506eb223b$var$_,e),spawnOn:{any:$9909834506eb223b$export$4ed14f056d634df7(t+"gridToPoints.spawnOn.any",!0,e),out:$9909834506eb223b$export$4ed14f056d634df7(t+"gridToPoints.spawnOn.out",!0,e),slow:$9909834506eb223b$export$4ed14f056d634df7(t+"gridToPoints.spawnOn.slow",!1,e),centre:$9909834506eb223b$export$4ed14f056d634df7(t+"gridToPoints.spawnOn.centre",!1,e)},speedClamp:$9909834506eb223b$export$62c0e5826d412260(2,t+"gridToPoints.speedClamp",[1,1e9],$9909834506eb223b$var$_,e),boundsClamp:$9909834506eb223b$export$4ed14f056d634df7(t+"gridToPoints.boundsClamp",!0,e)},gridToScreen:{on:$9909834506eb223b$export$4ed14f056d634df7(t+"gridToScreen.on",!0,e),colorHi:$9909834506eb223b$export$4ffb24a4cbf3cb1f(t+"gridToScreen.colorHi","#000b",$9909834506eb223b$var$_,$9909834506eb223b$var$_,e),colorLo:$9909834506eb223b$export$4ffb24a4cbf3cb1f(t+"gridToScreen.colorLo","#0000",$9909834506eb223b$var$_,$9909834506eb223b$var$_,e),angleHSLA:$9909834506eb223b$export$4ffb24a4cbf3cb1f(t+"gridToScreen.angleHSLA","hsla(0deg 50% 50% / 0.2)",$1c292cfdfd890a6f$export$8f4a7c0bb78e6ea8,$9909834506eb223b$var$_,e)},pointsToScreen:{on:$9909834506eb223b$export$4ed14f056d634df7(t+"pointsToScreen.on",!0,e),colorHi:$9909834506eb223b$export$4ffb24a4cbf3cb1f(t+"pointsToScreen.colorHi","#f847",$9909834506eb223b$var$_,$9909834506eb223b$var$_,e),colorLo:$9909834506eb223b$export$4ffb24a4cbf3cb1f(t+"pointsToScreen.colorLo","#0000",$9909834506eb223b$var$_,$9909834506eb223b$var$_,e),form:$9909834506eb223b$export$e4c26796fa37df17(t+"pointsToScreen.form",1,e)},demo:{fps:$9909834506eb223b$export$4ed14f056d634df7(t+"demo.fps",$9909834506eb223b$var$_,e),opticalFlow:{on:$9909834506eb223b$export$4ed14f056d634df7(t+"demo.opticalFlow.on",!0,e),media:(()=>{let r,n={},i=t+"demo.opticalFlow.media.video",a=$9909834506eb223b$export$cf13531c653ea47b(i,$9909834506eb223b$var$_,e),o="true"===a;if(o||"false"===a)return n.video=o,n;let s=$9909834506eb223b$export$e4c26796fa37df17(i+".width",$9909834506eb223b$var$_,e),p=$9909834506eb223b$export$e4c26796fa37df17(i+".height",$9909834506eb223b$var$_,e);return $9909834506eb223b$var$isInteger(s)&&((r??=n.video={}).width=s),$9909834506eb223b$var$isInteger(p)&&((r??=n.video={}).height=p),n})(),$root:(()=>{let r=$9909834506eb223b$export$4ed14f056d634df7(t+"demo.opticalFlow.$root",$9909834506eb223b$var$_,e);return!0===r?document.body:r&&document.querySelector(r)})(),flip:$9909834506eb223b$export$62c0e5826d412260(2,t+"demo.opticalFlow.flip",[-1,-1],$9909834506eb223b$var$_,e),offset:$9909834506eb223b$export$62c0e5826d412260(4,t+"demo.opticalFlow.offset",[0,0,1,1],$9909834506eb223b$var$_,e)},opticalFlowToGrid:{rescaleFlow:$9909834506eb223b$export$62c0e5826d412260(2,t+"demo.opticalFlowToGrid.rescaleFlow",[2,5],$9909834506eb223b$var$_,e)},gridFade:{on:$9909834506eb223b$export$4ed14f056d634df7(t+"demo.gridFade.on",!0,e),fade:$9909834506eb223b$export$e4c26796fa37df17(t+"demo.gridFade.fade",.002,e)}},passes:$9909834506eb223b$export$e4c26796fa37df17(t+"passes",2,e)});async function $9909834506eb223b$export$13fba5ef04f03938(e){let{$canvas:t,pixelRatio:r=devicePixelRatio}=e,n=$parcel$interopDefault($79abe6b84db31140$exports)({canvas:t,pixelRatio:r,extensions:$c6e61e3321a7075c$export$cc3e2d3244e01b7f(),optionalExtensions:$c6e61e3321a7075c$export$918e5821fc7288cd(),...e.api}),{command:i=n,frame:a,texture:o,buffer:s,framebuffer:p,clear:d}=n;$c6e61e3321a7075c$export$48f580ce092b95a(n,e);let{grid:l,gridToScreen:c,pointsToScreen:u}=e,{fields:{index:f},gpgpu:m}=l,{pre:g,size:h,merge:y,maps:v}=m,b=e.demo={to:e,...e.demo},_="opticalFlow_",O=$c34a44976d3d9d2f$export$dc207adda608f979.replaceAll($c34a44976d3d9d2f$export$b4781c2237bde956,_),M=[1,-1],F=b.opticalFlow={to:e,vert:O,frag:$parcel$interopDefault($10d2c77390f67a22$exports),count:$c34a44976d3d9d2f$export$832d88422d279bbc,gap:3,lambda:.001,alpha:100,flip:[-1,-1],aspect:[1,1],size:[0,0],offset:[0,0,1,1],at:0,$root:null,on:!0,...b.opticalFlow,media:{facingMode:"user",video:!0,...b.opticalFlow?.media},input:{data:document.createElement("video"),min:"linear",mag:"linear",...b.opticalFlow?.input},frames:(0,$jegOU.map)(()=>o(),$22ee496980731f5f$export$d02631cccf789723(2),0),blend:{enable:!0,func:{src:1,dst:0}},depth:{enable:!1},framebuffer:p({colorType:"float",depth:!1,stencil:!1})};F.pass=i(F.pipeline={vert:(e,t)=>t.vert,frag:(e,t)=>t.frag,attributes:{opticalFlow_position:s($9909834506eb223b$var$screenPositions)},uniforms:{next:(e,{frames:t,at:r})=>$dee57f889e3b703d$export$4997ffc0176396a6(r,t),past:(e,{frames:t,at:r})=>$dee57f889e3b703d$export$4997ffc0176396a6(r+1,t),gap:(e,t)=>t.gap,lambda:(e,t)=>t.lambda,alpha:(e,t)=>t.alpha,flip:(e,t)=>t.flip,offset:(e,t)=>t.offset,frameAspect:(e,t)=>t.aspect,screenAspect:(e,t)=>t.to.screen.aspect},blend:{enable:(e,t)=>t.blend.enable,func:{srcRGB:(e,{blend:{func:{src:t,srcRGB:r}}})=>r??t,srcAlpha:(e,{blend:{func:{src:t,srcAlpha:r}}})=>r??t,dstRGB:(e,{blend:{func:{dst:t,dstRGB:r}}})=>r??t,dstAlpha:(e,{blend:{func:{dst:t,dstAlpha:r}}})=>r??t}},depth:{enable:(e,t)=>t.depth.enable},count:(e,t)=>t.count,framebuffer:(e,t)=>t.framebuffer}),F.step=(e=F)=>{let t=e.onStep?.(e)??e,{on:r,pass:n,at:i,frames:a,input:o}=t;return r&&(a[t.at=(i+1)%a.length].subimage(o.data),n(t)),t};let S="opticalFlowToGrid_",T=$c34a44976d3d9d2f$export$dc207adda608f979.replaceAll($c34a44976d3d9d2f$export$b4781c2237bde956,S),R=b.opticalFlowToGrid={to:e,vert:T,frag:$parcel$interopDefault($bf9327d20fbce7e8$exports),count:$c34a44976d3d9d2f$export$832d88422d279bbc,rescaleFlow:[2,5],blend:{enable:!0,func:{src:1,dst:1}},depth:{enable:!1},onStep:null,...b.opticalFlowToGrid},x=$c6e61e3321a7075c$export$bd2891254e1e5b30({...$c6e61e3321a7075c$export$47b243153dce5032,pre:g,steps:h.steps,merge:y,macros:{samples:0,taps:0},maps:$82eaf3e5ff5bc05d$export$798cdecdcbbf9755({...v,...$c6e61e3321a7075c$export$47b243153dce5032.maps,derives:null})},(e,t)=>t.to.grid.gpgpu);R.link={grid:x},R.pass=i(R.pipeline={vert:(e,t)=>t.vert,frag:(e,{frag:t,link:r,to:{head:n}})=>n.glsl(n)+r.grid.macros+t,attributes:{opticalFlowToGrid_position:s($9909834506eb223b$var$screenPositions)},uniforms:{...x.state.uniforms,rescaleFlow:(e,t)=>t.rescaleFlow,opticalFlow:(e,t)=>t.to.demo.opticalFlow.framebuffer.color[0],dt:(e,t)=>t.to.timer.dt,rescaleMotion:(e,t)=>t.to.rescale.motion},blend:{enable:(e,t)=>t.blend.enable,func:{srcRGB:(e,{blend:{func:{src:t,srcRGB:r}}})=>r??t,srcAlpha:(e,{blend:{func:{src:t,srcAlpha:r}}})=>r??t,dstRGB:(e,{blend:{func:{dst:t,dstRGB:r}}})=>r??t,dstAlpha:(e,{blend:{func:{dst:t,dstAlpha:r}}})=>r??t}},depth:{enable:(e,t)=>t.depth.enable},count:(e,t)=>t.count,framebuffer:(e,t)=>$13c03cc1b86f8a58$export$d86e3abd7686c23f(t.to.grid.gpgpu)?.framebuffer}),R.step=(e=R)=>{let t=e.onStep?.(e)??e,{pass:r,to:{demo:n,grid:i}}=t;if(!n.opticalFlow.on)return t;let{gpgpu:a,fields:o}=i,{maps:s,passNow:p,stepBy:d}=a;d(a,-1),a.passNow=s.valueToPass[o.index.motionFull],r(t),a.merge?.update?.(a),a.passNow=p,d(a,1)},F.setup=async()=>{let{demo:{opticalFlow:t,opticalFlowToGrid:r},gridToPoints:n}=e,{$root:i,input:a,frames:o,setup:s,offset:p,flip:d,aspect:l,size:c}=t,u=n.gpgpu,{onStep:f}=u,m=a.data,g=i?.appendChild?.(m)?.style,{videoWidth:h,videoHeight:y}=m;await m.play(),$9909834506eb223b$export$dce0f7906c5e6747($b98f4ad8ca787886$export$dcfbb7940cfb3a48(c,h,y),$9909834506eb223b$var$max,!0,l),t.framebuffer.resize(h,y),t.gap/=$9909834506eb223b$var$max(h,y),$02472921bf7b74d2$export$79b2f7037acddd43(e=>e(a),o),g&&(g.transform=`scale(${(0,$j3ERp.reduce)((e,t,r)=>e+(e?",":"")+t*M[r],d,"")})`,g.objectFit="cover",g.aspectRatio=h/y),u.onStep=e=>{let t=f?.(e)??e,{passAt:r,demo:{opticalFlow:n,opticalFlowToGrid:i}}=t.to;return r||n.step(n),i.step(i),t},t.on=!0,m.removeEventListener("canplay",s)};let w=F.start=async(e=F)=>{let{media:t,setup:r,input:{data:n}}=e;if(!t.video)return e;try{let i=e.stream=await navigator.mediaDevices.getUserMedia(t);n.addEventListener("canplay",r),"srcObject"in n?n.srcObject=i:n.src=$9909834506eb223b$var$createObjectURL(i)}catch(e){console.warn(e)}return e};F.stop=(e=F)=>{let{input:{data:t},$root:r}=e;return $02472921bf7b74d2$export$79b2f7037acddd43(e=>e.stop(),t.srcObject?.getTracks?.()),r?.removeChild?.(t),e.on=!1,e};let k=b.gridFade={to:e,frag:$parcel$interopDefault($1fb83dcbc192a430$exports),fade:.002,expose:0,scale:30,order:"next",on:!0,...b.gridFade},E="gridFade_",C=2,A=!1,B=k.fields=$c6e61e3321a7075c$export$82ee245e4549d21(new Map().set("fade",4)),L=k.derives=[],{index:D,values:I,alias:G}=B,{fade:P}=D;L[P]=[P];let z={values:I,alias:G,derives:L};k.gpgpu=$91cae31a339c057f$export$2e2bcd8739ae039(n,{to:e,pre:E,steps:C,stepMax:C,stepNow:0,passNow:0,shape:[...h.shape],maps:z,merge:A,macros:{vert:0},frag:(e,{to:{demo:{gridFade:{frag:t,type:r,quality:n}}}})=>(r?`#define type ${r}

`:"")+(n?`#define quality ${n}

`:"")+t,type:"uint8",min:"linear",mag:"linear",uniforms:{fade:(e,t)=>t.to.demo.gridFade.fade,expose:(e,t)=>t.to.demo.gridFade.expose,scale:(e,t)=>t.to.demo.gridFade.scale,colorLo:(e,t)=>t.to.gridToScreen.colorLo,dt:(e,t)=>t.to.timer.dt,chaos:(e,t)=>t.to.chaos}}),k.step=(e=k)=>{let{on:t,type:r,gpgpu:n}=e;if(!t)return e;let{step:i}=n;return i(n),(1===r||"typeGauss"===r)&&i(n),e};let N=b.gridFadeToScreen={to:e,frag:$parcel$interopDefault($760a75214d1da918$exports),blend:{enable:!0,func:{src:1,dst:"one minus src alpha"}},depth:{enable:!1}},W=$c6e61e3321a7075c$export$bd2891254e1e5b30({...$c6e61e3321a7075c$export$9f9ef40fe2e7f9e0,pre:E,steps:C,merge:A,macros:{output:0},maps:$82eaf3e5ff5bc05d$export$798cdecdcbbf9755({...z,...$c6e61e3321a7075c$export$9f9ef40fe2e7f9e0.maps,derives:[[P]]})},(e,t)=>t.to.demo.gridFade.gpgpu);N.link={gridFade:W},N.pass=i(N.pipeline={vert:(e,t)=>t.to.demo.gridFade.gpgpu.vert,frag:(e,{frag:t,link:{gridFade:r},to:{head:n}})=>n.glsl(n)+r.macros+t,attributes:{gridFade_position:s($9909834506eb223b$var$screenPositions)},uniforms:{...W.state.uniforms},blend:{enable:(e,t)=>t.blend.enable,func:{srcRGB:(e,{blend:{func:{src:t,srcRGB:r}}})=>r??t,srcAlpha:(e,{blend:{func:{src:t,srcAlpha:r}}})=>r??t,dstRGB:(e,{blend:{func:{dst:t,dstRGB:r}}})=>r??t,dstAlpha:(e,{blend:{func:{dst:t,dstAlpha:r}}})=>r??t}},depth:{enable:(e,t)=>t.depth.enable},count:(e,t)=>t.to.demo.gridFade.gpgpu.count}),N.draw=(e=N)=>{let{pass:t,to:r}=e;return r.demo.gridFade.on&&t(e),e};let{onDraw:U}=c,{onDraw:j}=u;return c.onDraw=e=>{let t=U?.(e)??e,{gridFade:r}=t.to.demo,{on:n,order:i,step:a,gpgpu:o}=r;return"past"===i&&a(r),e.framebuffer=n?$13c03cc1b86f8a58$export$d86e3abd7686c23f(o)?.framebuffer:null,t},u.onDraw=e=>{let t=j?.(e)??e,{gridFade:r,gridFadeToScreen:n}=t.to.demo,{order:i,step:a}=r;return"next"===i&&a(r),n.draw(n),t},b.view??=[],b.resize=(e=b)=>{let t=e.onResize?.(e)??e,{to:n,gridFade:i,view:a,onResized:o}=t,{$canvas:s,screen:p,grid:d}=n,[l=innerWidth,c=innerHeight]=a,{bounds:u,limit:f,detail:m,gpgpu:g}=d,h=g.size.shape,{size:y,aspect:v}=p,[_,O]=$4dca6ea416ca7312$export$b54ddf06b57709b1(y,$b98f4ad8ca787886$export$dcfbb7940cfb3a48(y,l,c),r);return s.width=_,s.height=O,$9909834506eb223b$export$dce0f7906c5e6747(y,$9909834506eb223b$var$max,!1,v),(0,$jegOU.map)((e,t)=>f*$9909834506eb223b$var$sign(e)*$dee57f889e3b703d$export$4997ffc0176396a6(t,v),u,0),g.resize($4dca6ea416ca7312$export$b54ddf06b57709b1(h,v,m)),i.gpgpu.resize(y),$9909834506eb223b$export$dce0f7906c5e6747(y,$9909834506eb223b$var$max,!0,v),o?.(t,_,O)},b.fps??=$parcel$interopDefault($b7df158080be806d$exports)({style:"color: #fff; background-color: #0006;"}),b.start=async(e=b)=>{let{opticalFlow:t,resize:r,to:{timer:n,frame:i}}=e;t.on&&await w(),addEventListener("resize",()=>r()),r();let o=n.step;return b.queued=$9909834506eb223b$var$isFinite(o)?function e(){return b.queued=setTimeout(()=>b.queued=a(()=>e(i().demo.queued.cancel())),o)}():a(i),e},self.mpm=e}var $j3ERp=parcelRequire("j3ERp");const $12061a95917d0533$export$bbad7a7572082193=.05,$12061a95917d0533$export$b4679e0ab506dc3c=()=>$22ee496980731f5f$export$d02631cccf789723(3).fill($12061a95917d0533$export$bbad7a7572082193,1);function $12061a95917d0533$export$fd1881807163f68c(e){e.at??=0}function $12061a95917d0533$export$675e357d5e71ab76(e,t,r){e.at=$0947ac56be18c505$export$2c9e8a9632a706b2(e.at,t.at,r)}function $12061a95917d0533$export$9a20b1f1e83b884e(e,t=$12061a95917d0533$export$fd1881807163f68c){let r=null==e||isFinite(e)?{by:e}:e;return t?.(r)??r}const $12061a95917d0533$export$94bbdd3c066c4e1=(e,t,r=$12061a95917d0533$export$675e357d5e71ab76)=>(0,$j3ERp.reduce)((n,i,a)=>{let o=e[a-1]=$12061a95917d0533$export$9a20b1f1e83b884e(n,t),s=$12061a95917d0533$export$9a20b1f1e83b884e(i,t);return e[a]=r(s,o,s.by??=$12061a95917d0533$export$bbad7a7572082193)??s},e);function $12061a95917d0533$export$ed393cde13ae8472(e,t,r,n={}){return n.eases=e??=$12061a95917d0533$export$b4679e0ab506dc3c(),n.make=t??=$12061a95917d0533$export$fd1881807163f68c,n.mix=r??=$12061a95917d0533$export$675e357d5e71ab76,n.easeTo=({eases:e,make:t,mix:r}=n)=>$12061a95917d0533$export$94bbdd3c066c4e1(e,t,r),n}var $12061a95917d0533$export$2e2bcd8739ae039=$12061a95917d0533$export$ed393cde13ae8472,$21EMZ=parcelRequire("21EMZ"),$a47e21dc63c43b84$exports={};$a47e21dc63c43b84$exports="/** Form-flow fragment shader. */\n\nprecision highp float;\n#define GLSLIFY 1\n\nformFlow_useSamples\n\n#ifdef formFlow_output_signedDistance\n  formFlow_useReads_signedDistance\n\n  #ifdef formFlow_mergedStates\n    uniform sampler2D formFlow_states;\n  #else\n    uniform sampler2D formFlow_states[formFlow_stepsPast*formFlow_textures];\n  #endif\n\n  #ifndef spreadRadius\n    #define spreadRadius 0\n  #endif\n  #if spreadRadius > 0\n    #define spreadRadius0 spreadRadius\n    #define spreadRadius1 spreadRadius\n  #else\n    #define spreadRadius0 0\n    #define spreadRadius1 1\n  #endif\n\n  #ifndef opticalFlowRadius\n    #define opticalFlowRadius 0\n  #endif\n  #if opticalFlowRadius > 0\n    #define opticalFlowRadius0 opticalFlowRadius\n    #define opticalFlowRadius1 opticalFlowRadius\n  #else\n    #define opticalFlowRadius0 0\n    #define opticalFlowRadius1 1\n  #endif\n\n  uniform float formFlow_stepNow;\n  uniform vec4 formFlow_stateShape;\n\n  /** The full SDF image. */\n  uniform sampler2D sdf;\n  /** The rate the field spreads. */\n  uniform vec4 spans;\n  /** How much of the central value to keep; all of it if negative. */\n  uniform float keep;\n\n  uniform vec2 flip;\n  uniform vec2 aspect;\n  uniform vec4 offset;\n  // uniform vec2 size;\n\n  uniform vec2 aspectScreen;\n  uniform vec2 aspectOptical;\n\n  /** The current optical-flow frame. */\n  uniform sampler2D opticalFlow;\n  uniform vec2 opticalFlowSize;\n\n  uniform float dt;\n\n  uniform vec2 rescaleOpticalFlow;\n  uniform vec2 rescaleSpreadPace;\n  uniform vec2 rescaleSpreadSpan;\n#endif\n\nvarying vec2 formFlow_uv;\n\n#if defined(formFlow_output_signedDistance)\n  float map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\n  float when_gt_529295689(float x, float y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec2 when_gt_529295689(vec2 x, vec2 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec3 when_gt_529295689(vec3 x, vec3 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec4 when_gt_529295689(vec4 x, vec4 y) {\n  return max(sign(x - y), 0.0);\n}\n\nfloat when_le_1062606552(float x, float y) {\n  return 1.0 - when_gt_529295689(x, y);\n}\n\nvec2 when_le_1062606552(vec2 x, vec2 y) {\n  return 1.0 - when_gt_529295689(x, y);\n}\n\nvec3 when_le_1062606552(vec3 x, vec3 y) {\n  return 1.0 - when_gt_529295689(x, y);\n}\n\nvec4 when_le_1062606552(vec4 x, vec4 y) {\n  return 1.0 - when_gt_529295689(x, y);\n}\n\n  float when_lt_1604150559(float x, float y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec2 when_lt_1604150559(vec2 x, vec2 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec3 when_lt_1604150559(vec3 x, vec3 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec4 when_lt_1604150559(vec4 x, vec4 y) {\n  return max(sign(y - x), 0.0);\n}\n\n  /**\n * Convenience to sample entries safely at their texel center.\n * Where `spreadUV` is for lookup ranges, `offsetUV` is for lookup queries.\n *\n * @see [`spreadUV`](./spread-uv.glsl)\n *\n * @param {vec2} `uv` UV texture sample coordinate, expect range `[0, 1]`.\n * @param {float|int|vec2|ivec2} `[size=1.0]` Texture's size, expect\n *   `[width, height]`, or if given a scalar interpret both as `side`.\n * @param {float|vec2} `[pad=0.5]` Texel `pad` to offset, expect range `[0, 1]`.\n *\n * @returns {vec2} The `uv` offset by `pad` to texel center, expect range\n *   `[0+pad, 1-pad]`.\n */\n\nvec2 offsetUV(vec2 uv, float size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, vec2 pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, int size, float pad) {\n  return offsetUV(uv, float(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, float pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, vec2 pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, float size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, vec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, int size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, ivec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv) { return offsetUV(uv, 1.0, 0.5); }\n\n  /** Exponential notation packed into a vector. */\nfloat exponent(vec2 basePower) { return basePower.s*pow(1e1, basePower.t); }\n\n  float spreadSample(vec2 uv) {\n    formFlow_tapState(uv);\n\n    return formFlow_data[formFlow_reads_signedDistance_signedDistance]\n      .formFlow_channels_signedDistance;\n  }\n#endif\n\nvoid main() {\n  #if defined(formFlow_output_signedDistance)\n    float rescaledOpticalFlow = exponent(rescaleOpticalFlow);\n    float rescaledSpreadPace = exponent(rescaleSpreadPace);\n    float rescaledSpreadSpan = exponent(rescaleSpreadSpan);\n\n    vec2 uv = offsetUV(formFlow_uv, formFlow_stateShape.xy);\n    // vec2 uv = formFlow_uv;\n\n    #ifdef blurGauss\n      #if blurGauss < 5\n        vec3 blurWeights = vec3(0.2042, 0.3040, 0.0938);\n      #else\n        float blurWeights[5];\n\n        blurWeights[0] = 0.2270;\n        blurWeights[1] = 0.1946;\n        blurWeights[2] = 0.1210;\n        blurWeights[3] = 0.0540;\n        blurWeights[4] = 0.0162;\n      #endif\n\n      vec2 texelSize = 1.0/formFlow_stateShape.xy;\n      vec2 sds = vec2(spreadSample(uv)*blurWeights[0]);\n\n      sds.x += spreadSample(uv+vec2(texelSize.x, 0))*blurWeights[1];\n      sds.x += spreadSample(uv-vec2(texelSize.x, 0))*blurWeights[1];\n      sds.x += spreadSample(uv+vec2(2.0*texelSize.x, 0))*blurWeights[2];\n      sds.x += spreadSample(uv-vec2(2.0*texelSize.x, 0))*blurWeights[2];\n\n      sds.y += spreadSample(uv+vec2(0, texelSize.y))*blurWeights[1];\n      sds.y += spreadSample(uv-vec2(0, texelSize.y))*blurWeights[1];\n      sds.y += spreadSample(uv+vec2(0, 2.0*texelSize.y))*blurWeights[2];\n      sds.y += spreadSample(uv-vec2(0, 2.0*texelSize.y))*blurWeights[2];\n\n      #if blurGauss > 5\n        sds.x += spreadSample(uv+vec2(3.0*texelSize.x, 0))*blurWeights[3];\n        sds.x += spreadSample(uv-vec2(3.0*texelSize.x, 0))*blurWeights[3];\n        sds.x += spreadSample(uv+vec2(4.0*texelSize.x, 0))*blurWeights[4];\n        sds.x += spreadSample(uv-vec2(4.0*texelSize.x, 0))*blurWeights[4];\n\n        sds.y += spreadSample(uv+vec2(0, 3.0*texelSize.y))*blurWeights[3];\n        sds.y += spreadSample(uv-vec2(0, 3.0*texelSize.y))*blurWeights[3];\n        sds.y += spreadSample(uv+vec2(0, 4.0*texelSize.y))*blurWeights[4];\n        sds.y += spreadSample(uv-vec2(0, 4.0*texelSize.y))*blurWeights[4];\n      #endif\n\n      float to = (sds.x+sds.y)*0.5;\n    #else\n      float spreadPace = rescaledSpreadPace*dt;\n      vec3 spread = vec3(0);\n\n      for(int sx = -spreadRadius0; sx <= spreadRadius1; ++sx) {\n        for(int sy = -spreadRadius0; sy <= spreadRadius1; ++sy) {\n          vec2 by = rescaledSpreadSpan*vec2(sx, sy);\n\n          // float sd = spreadSample(offsetUV(formFlow_uv+(by/formFlow_stateShape.xy),\n          //   formFlow_stateShape.xy));\n          float sd = spreadSample(uv+(by/formFlow_stateShape.xy));\n\n          #ifdef lengthLinear\n            float fade = length(by);\n          #else\n            float fade = dot(by, by);\n          #endif\n\n          float kept = when_le_1062606552(fade, 0.0);\n          float blurry = 1.0-kept;\n\n          /** Central value unaltered, offset values aggregated. */\n          spread.x += sd*kept;\n          spread.y += sd*spreadPace*blurry;\n          spread.z += fade*blurry;\n        }\n      }\n\n      float to =\n        (spread.x*mix(keep*dt, 1.0, when_lt_1604150559(keep, 0.0)))+(spread.y/spread.z);\n    #endif\n\n    vec2 st = ((fract(uv*flip)*(aspect/aspectScreen))/offset.zw)-offset.xy;\n    float full = texture2D(sdf, st).a;\n\n    /** @todo Update this to handle different sizes and scales. */\n    vec2 pq = uv;\n    // vec2 pq = ((fract(uv*flip)*(aspect/aspectOptical))/offset.zw)-offset.xy;\n    vec3 flow = vec3(0);\n\n    /** @todo Finish multi-sampling optical-flow to allow lower resolutions. */\n    for(int ox = -opticalFlowRadius0; ox <= opticalFlowRadius1; ++ox) {\n      for(int oy = -opticalFlowRadius0; oy <= opticalFlowRadius1; ++oy) {\n        flow.xy += texture2D(opticalFlow, pq+(vec2(ox, oy)/opticalFlowSize)).xy;\n        ++flow.z;\n      }\n    }\n\n    flow.xy = (flow.xy/flow.z)*rescaledOpticalFlow*dt;\n\n    to = min(to+dot(flow.xy, flow.xy),\n      map(full, spans.x, spans.y, spans.z, spans.w));\n\n    /** Mask out anything out of range. */\n    formFlow_output_signedDistance = to*when_le_1062606552(spans.z, to)*when_le_1062606552(to, spans.w);\n  #endif\n}\n";var $a4860e9f702574aa$exports={};$a4860e9f702574aa$exports="/** Form-flow-to-grid fragment shader. */\n\nprecision highp float;\n\n#ifdef GL_EXT_draw_buffers\n  #extension GL_EXT_draw_buffers : require\n#define GLSLIFY 1\n#endif\n\nformFlow_useSamples\n\n#ifdef grid_output_motionFull\n  formFlow_useReads_signedDistance\n\n  #ifdef formFlow_mergedStates\n    uniform sampler2D formFlow_states;\n  #else\n    uniform sampler2D formFlow_states[formFlow_stepsPast*formFlow_textures];\n  #endif\n\n  uniform float formFlow_stepNow;\n  uniform vec4 formFlow_stateShape;\n\n  uniform float limit;\n  uniform vec2 detail;\n  uniform vec4 normalTo;\n  uniform vec2 rescaleFormFlow;\n  uniform vec2 rescaleMotion;\n  uniform float dt;\n#endif\n\nvarying vec2 formFlow_uv;\n\n#if defined(grid_output_motionFull)\n  float map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\n  float when_gt_1604150559(float x, float y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec2 when_gt_1604150559(vec2 x, vec2 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec3 when_gt_1604150559(vec3 x, vec3 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec4 when_gt_1604150559(vec4 x, vec4 y) {\n  return max(sign(x - y), 0.0);\n}\n\n  /**\n * Convenience to sample entries safely at their texel center.\n * Where `spreadUV` is for lookup ranges, `offsetUV` is for lookup queries.\n *\n * @see [`spreadUV`](./spread-uv.glsl)\n *\n * @param {vec2} `uv` UV texture sample coordinate, expect range `[0, 1]`.\n * @param {float|int|vec2|ivec2} `[size=1.0]` Texture's size, expect\n *   `[width, height]`, or if given a scalar interpret both as `side`.\n * @param {float|vec2} `[pad=0.5]` Texel `pad` to offset, expect range `[0, 1]`.\n *\n * @returns {vec2} The `uv` offset by `pad` to texel center, expect range\n *   `[0+pad, 1-pad]`.\n */\n\nvec2 offsetUV(vec2 uv, float size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, vec2 pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, int size, float pad) {\n  return offsetUV(uv, float(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, float pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, vec2 pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, float size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, vec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, int size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, ivec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv) { return offsetUV(uv, 1.0, 0.5); }\n\n  /** Exponential notation packed into a vector. */\nfloat exponent(vec2 basePower) { return basePower.s*pow(1e1, basePower.t); }\n\n  float sampleSDF(vec2 uv) {\n    formFlow_tapState(uv);\n\n    return formFlow_data[formFlow_reads_signedDistance_signedDistance]\n      .formFlow_channels_signedDistance;\n  }\n\n  float sampleSDF(vec3 uv) { return sampleSDF(uv.xy); }\n  float sampleSDF(vec4 uv) { return sampleSDF(uv.xy); }\n\n  /**\n * SDF normal method of `glsl-sdf-normal`, in more dimensions.\n *\n * @see [3D `glsl-sdf-normal` implementation](https://github.com/glslify/glsl-sdf-normal/blob/master/index.glsl)\n * @see [Original Inigo Quilez article](https://iquilezles.org/articles/normalsSDF/)\n * @see [Original Inigo Quilez ShaderToy](https://www.shadertoy.com/view/ldfSWs)\n *\n * @todo Verify this works as expected other than in 3 dimensions.\n */\n\n#define createToNormal(vec, n, sample, gt) \\\n \\\nvec toNormal(vec at, float offset, float eps, out vec to) { \\\n  vec by = vec(1); \\\n   \\\n  to = by*sample(at+(by*offset)); \\\n   \\\n  for(int i = 0; i < n; ++i) { \\\n    by = vec(-1); \\\n    by[i] = 1.0; \\\n    to += by*sample(at+(by*offset)); \\\n  } \\\n   \\\n  float l = length(to); \\\n  float ok = gt(l, eps); \\\n   \\\n  return (to = (to*ok)/mix(1.0, l, ok)); \\\n} \\\n \\\nvec toNormal(vec at, float offset, float eps) { \\\n  vec to; \\\n   \\\n  return toNormal(at, offset, eps, to); \\\n} \\\n \\\nvec toNormal(vec at, float offset) { return toNormal(at, offset, offset); } \\\n \\\nvec toNormal(vec at) { return toNormal(at, 1e-3); }\n\ncreateToNormal(vec2, 2, sampleSDF, when_gt_1604150559)\ncreateToNormal(vec3, 3, sampleSDF, when_gt_1604150559)\ncreateToNormal(vec4, 4, sampleSDF, when_gt_1604150559)\n\n  const vec2 v1 = vec2(1);\n#endif\n\nvoid main() {\n  #if defined(grid_output_motionFull)\n    float rescaledFormFlow = exponent(rescaleFormFlow);\n    float rescaledMotion = exponent(rescaleMotion);\n    vec2 uv = offsetUV(formFlow_uv, formFlow_stateShape.xy);\n    // vec2 uv = formFlow_uv;\n    /** @todo Fix this 2D version. */\n    // vec2 normal = toSDFNormal(uv, detail.s, detail.t);\n    vec2 normal = toNormal(uv.xyy, detail.s, detail.t).xy;\n    /** @todo Can this extra tap be removed? */\n    float on = when_gt_1604150559(sampleSDF(uv), limit);\n\n    vec2 to = rescaledFormFlow*\n      map(normal*on, -v1, v1, normalTo.xy, normalTo.zw);\n\n    grid_output_motionFull = to/rescaledMotion;\n  #endif\n}\n";var $4c5d70daa126e974$exports={};$4c5d70daa126e974$exports="/** Form-flow-to-points cache fragment shader. */\n\nprecision highp float;\n#define GLSLIFY 1\n\npoints_useSamples\npoints_useReads_mass\n\n#ifdef points_mergedStates\n  uniform sampler2D points_states;\n#else\n  uniform sampler2D points_states[points_stepsPast*points_textures];\n#endif\n\nuniform vec4 points_stateShape;\nuniform float points_stepNow;\n\nvarying vec2 formFlow_uv;\n\n/**\n * Convenience to sample entries safely at their texel center.\n * Where `spreadUV` is for lookup ranges, `offsetUV` is for lookup queries.\n *\n * @see [`spreadUV`](./spread-uv.glsl)\n *\n * @param {vec2} `uv` UV texture sample coordinate, expect range `[0, 1]`.\n * @param {float|int|vec2|ivec2} `[size=1.0]` Texture's size, expect\n *   `[width, height]`, or if given a scalar interpret both as `side`.\n * @param {float|vec2} `[pad=0.5]` Texel `pad` to offset, expect range `[0, 1]`.\n *\n * @returns {vec2} The `uv` offset by `pad` to texel center, expect range\n *   `[0+pad, 1-pad]`.\n */\n\nvec2 offsetUV(vec2 uv, float size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, vec2 pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, int size, float pad) {\n  return offsetUV(uv, float(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, float pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, vec2 pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, float size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, vec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, int size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, ivec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv) { return offsetUV(uv, 1.0, 0.5); }\n\nvoid main() {\n  points_tapState(offsetUV(formFlow_uv, points_stateShape.xy));\n  // points_tapState(formFlow_uv);\n\n  // Copy the values across to the cache.\n  gl_FragColor = points_data[0];\n}\n";var $08a4e01c367df293$exports={};$08a4e01c367df293$exports="/** Form-flow-to-points main fragment shader. */\n\nprecision highp float;\n#define GLSLIFY 1\n\nformFlow_useSamples\nformFlow_useReads_signedDistance\n\n#ifdef formFlow_mergedStates\n  uniform sampler2D formFlow_states;\n#else\n  uniform sampler2D formFlow_states[formFlow_stepsPast*formFlow_textures];\n#endif\n\nuniform float formFlow_stepNow;\nuniform vec4 formFlow_stateShape;\n\nuniform vec4 points_stateShape;\n\nuniform sampler2D cache;\nuniform float formSpawn;\nuniform vec2 massSpawn;\n\nuniform float dt;\nuniform vec4 bounds;\n\n#ifdef rescale_mass\n  uniform vec2 rescaleMass;\n#else\n  const float rescaledMass = 1.0;\n#endif\n\nvarying vec2 formFlow_uv;\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nfloat when_gt_1604150559(float x, float y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec2 when_gt_1604150559(vec2 x, vec2 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec3 when_gt_1604150559(vec3 x, vec3 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec4 when_gt_1604150559(vec4 x, vec4 y) {\n  return max(sign(x - y), 0.0);\n}\n\nfloat when_eq_1117569599(float x, float y) {\n  return 1.0 - abs(sign(x - y));\n}\n\nvec2 when_eq_1117569599(vec2 x, vec2 y) {\n  return 1.0 - abs(sign(x - y));\n}\n\nvec3 when_eq_1117569599(vec3 x, vec3 y) {\n  return 1.0 - abs(sign(x - y));\n}\n\nvec4 when_eq_1117569599(vec4 x, vec4 y) {\n  return 1.0 - abs(sign(x - y));\n}\n\n/**\n * Convenience to sample entries safely at their texel center.\n * Where `spreadUV` is for lookup ranges, `offsetUV` is for lookup queries.\n *\n * @see [`spreadUV`](./spread-uv.glsl)\n *\n * @param {vec2} `uv` UV texture sample coordinate, expect range `[0, 1]`.\n * @param {float|int|vec2|ivec2} `[size=1.0]` Texture's size, expect\n *   `[width, height]`, or if given a scalar interpret both as `side`.\n * @param {float|vec2} `[pad=0.5]` Texel `pad` to offset, expect range `[0, 1]`.\n *\n * @returns {vec2} The `uv` offset by `pad` to texel center, expect range\n *   `[0+pad, 1-pad]`.\n */\n\nvec2 offsetUV(vec2 uv, float size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, vec2 pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, int size, float pad) {\n  return offsetUV(uv, float(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, float pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, vec2 pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, float size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, vec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, int size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, ivec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv) { return offsetUV(uv, 1.0, 0.5); }\n\n/** Exponential notation packed into a vector. */\nfloat exponent(vec2 basePower) { return basePower.s*pow(1e1, basePower.t); }\n\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\nconst vec4 seed = vec4(0.34238, -0.86761, 0.69201, 0.57872);\nconst vec2 off = vec2(-1, 1)*0.49;\n\nvec2 by(vec2 v) { return vec2(random(v.xy+seed.xy), random(v.yx+seed.zw)); }\n\nvec3 by(vec3 v) {\n  return vec3(random(v.xy+seed.xy), random(v.zx+seed.zw), random(v.xz+seed.zx));\n}\n\n#define createSpawn(f, vec, off0, off1) \\\n \\\nvec f(vec at, vec lo, vec hi) { return mix(lo, hi, by(at)); } \\\n \\\nvec f(vec at, vec lo, vec hi, vec scale) { \\\n  return mix(lo, hi, at+(mix(off0, off1, by(at))*scale)); \\\n}\n\ncreateSpawn(spawn, vec2, off.xx, off.yy)\ncreateSpawn(spawn, vec3, off.xxx, off.yyy)\n\nconst vec2 v1 = vec2(1);\nconst vec2 v0 = v1*0.0;\n\nvoid main() {\n  // Copy the values across from the cache.\n  vec4 cached = texture2D(cache, offsetUV(formFlow_uv, points_stateShape.xy));\n  // vec4 cached = texture2D(cache, formFlow_uv);\n\n  gl_FragColor = cached;\n\n  #ifdef rescale_mass\n    float rescaledMass = exponent(rescaleMass);\n  #endif\n\n  vec2 spawnPosition =\n    spawn(formFlow_uv, bounds.xy, bounds.zw, 1.0/points_stateShape.xy);\n\n  vec2 spawnUV = map(spawnPosition, bounds.xy, bounds.zw, v0, v1);\n\n  formFlow_tapState(offsetUV(spawnUV, formFlow_stateShape.xy));\n  // formFlow_tapState(spawnUV);\n\n  float sd = formFlow_data[formFlow_reads_signedDistance_signedDistance]\n    .formFlow_channels_signedDistance;\n\n  /**\n   * @todo Animate mass towards respawn, by either a range threshold or steady\n   *   animation, without letting points get stuck by missing the threshold?\n   */\n  float massAt = cached.points_channels_mass*rescaledMass;\n  float formIn = when_gt_1604150559(sd, formSpawn);\n  float formInPast = when_eq_1117569599(massAt, massSpawn.x);\n  float massTo = mix(mix(massAt, massSpawn.y, formInPast), massSpawn.x, formIn);\n\n  gl_FragColor.points_channels_mass = massTo/rescaledMass;\n}\n";var $775c7e72e1bc38a2$exports={};$775c7e72e1bc38a2$exports="/** Form-flow-to-screen fragment shader. */\n\nprecision highp float;\n#define GLSLIFY 1\n\nformFlow_useSamples\nformFlow_useReads_signedDistance\n\n#ifdef formFlow_mergedStates\n  uniform sampler2D formFlow_states;\n#else\n  uniform sampler2D formFlow_states[formFlow_stepsPast*formFlow_textures];\n#endif\n\nuniform float formFlow_stepNow;\nuniform vec4 formFlow_stateShape;\n\nuniform sampler2D form;\nuniform vec2 curve[4];\nuniform vec2 flip;\nuniform vec2 aspect;\nuniform vec4 offset;\n\nuniform vec2 aspectScreen;\n\nvarying vec2 formFlow_uv;\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nfloat when_gt_1117569599(float x, float y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec2 when_gt_1117569599(vec2 x, vec2 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec3 when_gt_1117569599(vec3 x, vec3 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec4 when_gt_1117569599(vec4 x, vec4 y) {\n  return max(sign(x - y), 0.0);\n}\n\nfloat when_le_529295689(float x, float y) {\n  return 1.0 - when_gt_1117569599(x, y);\n}\n\nvec2 when_le_529295689(vec2 x, vec2 y) {\n  return 1.0 - when_gt_1117569599(x, y);\n}\n\nvec3 when_le_529295689(vec3 x, vec3 y) {\n  return 1.0 - when_gt_1117569599(x, y);\n}\n\nvec4 when_le_529295689(vec4 x, vec4 y) {\n  return 1.0 - when_gt_1117569599(x, y);\n}\n\n/**\n * Convenience to sample entries safely at their texel center.\n * Where `spreadUV` is for lookup ranges, `offsetUV` is for lookup queries.\n *\n * @see [`spreadUV`](./spread-uv.glsl)\n *\n * @param {vec2} `uv` UV texture sample coordinate, expect range `[0, 1]`.\n * @param {float|int|vec2|ivec2} `[size=1.0]` Texture's size, expect\n *   `[width, height]`, or if given a scalar interpret both as `side`.\n * @param {float|vec2} `[pad=0.5]` Texel `pad` to offset, expect range `[0, 1]`.\n *\n * @returns {vec2} The `uv` offset by `pad` to texel center, expect range\n *   `[0+pad, 1-pad]`.\n */\n\nvec2 offsetUV(vec2 uv, float size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, float pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, vec2 size, vec2 pad) {\n  return ((uv*(size-1.0))+pad)/size;\n}\n\nvec2 offsetUV(vec2 uv, int size, float pad) {\n  return offsetUV(uv, float(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, float pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, ivec2 size, vec2 pad) {\n  return offsetUV(uv, vec2(size), pad);\n}\n\nvec2 offsetUV(vec2 uv, float size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, vec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, int size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv, ivec2 size) { return offsetUV(uv, size, 0.5); }\nvec2 offsetUV(vec2 uv) { return offsetUV(uv, 1.0, 0.5); }\n\n/**\n * Cubic Bézier interpolation, CSS-style.\n * Given p0, p1, p2, p3 as control points, and an input `x` value, find the\n * corresponding `y` value using the Bézier curve; note that this doesn't\n * directly use the usual `t` value as input for interpolation.\n *\n * @todo Split up and generalise.\n *\n * @see [Y-for-X in Pomax's guide](https://pomax.github.io/bezierinfo/#yforx)\n * @see [Finding Bézier roots and Newton-Raphson method in Pomax's guide](https://pomax.github.io/bezierinfo/#extremities)\n */\n\n// Code generated by `bezier-gen` - start:\n\nfloat bezier(float cp0, float cp1, float cp2, float t) {\n    float p0 = mix(cp0, cp1, t);\n    float p1 = mix(cp1, cp2, t);\n\n    return mix(p0, p1, t);\n}\n\nfloat bezier(float cp0, float cp1, float cp2, float cp3, float t) {\n    float p0 = mix(cp0, cp1, t);\n    float p1 = mix(cp1, cp2, t);\n    float p2 = mix(cp2, cp3, t);\n\n    p0 = mix(p0, p1, t);\n    p1 = mix(p1, p2, t);\n\n    return mix(p0, p1, t);\n}\n\nfloat bezier(float cp0, float cp1, float cp2, float cp3, float cp4, float t) {\n    float p0 = mix(cp0, cp1, t);\n    float p1 = mix(cp1, cp2, t);\n    float p2 = mix(cp2, cp3, t);\n    float p3 = mix(cp3, cp4, t);\n\n    p0 = mix(p0, p1, t);\n    p1 = mix(p1, p2, t);\n    p2 = mix(p2, p3, t);\n\n    p0 = mix(p0, p1, t);\n    p1 = mix(p1, p2, t);\n\n    return mix(p0, p1, t);\n}\n\n// Code generated by `bezier-gen` - end.\n\n// float bezier(float p0, float p1, float p2, float p3, float t) {\n//   float u = 1.0-t;\n\n//   return (3.0*u*u*t*p1)+(3.0*u*t*t*p2)+(t*t*t*p3);\n// }\n\n/** @todo Generalise to other orders. */\nfloat derivativeCubic(float p0, float p1, float p2, float p3, float t) {\n  float u = 1.0-t;\n\n  return (9.0*p1*u*u)+(6.0*(p2-p1)*u*t)+(3.0*p3*t*t);\n}\n\nfloat xToY(vec2 p0, vec2 p1, vec2 p2, vec2 p3, float x) {\n  float t = x;\n\n  // Netwon's method iteration.\n  for(int i = 0; i < 4; ++i) {\n    float xt = bezier(p0.x, p1.x, p2.x, p3.x, t);\n    float dtx = derivativeCubic(p0.x, p1.x, p2.x, p3.x, t);\n    float error = xt-x;\n\n    // Newton's iteration.\n    t = clamp(t-(error/dtx), 0.0, 1.0);\n  }\n\n  // Now that we have `t`, compute the corresponding `y` value.\n  return bezier(p0.y, p1.y, p2.y, p3.y, t);\n}\n\nvoid main() {\n  vec2 uv = offsetUV(formFlow_uv, formFlow_stateShape.xy);\n  // vec2 uv = formFlow_uv;\n\n  formFlow_tapState(uv);\n\n  float sd = formFlow_data[formFlow_reads_signedDistance_signedDistance]\n    .formFlow_channels_signedDistance;\n\n  float to =\n    clamp(xToY(curve[0], curve[1], curve[2], curve[3], sd), 0.0, 1.0);\n\n  vec2 ar = aspect/aspectScreen;\n\n  gl_FragColor = to*texture2D(form, ((fract(uv*flip)*ar)/offset.zw)-offset.xy);\n  gl_FragColor.rgb *= gl_FragColor.a;\n}\n";const{min:$cd657224f5082af6$var$min,max:$cd657224f5082af6$var$max,abs:$cd657224f5082af6$var$abs,sign:$cd657224f5082af6$var$sign,random:$cd657224f5082af6$var$random,round:$cd657224f5082af6$var$round,PI:$cd657224f5082af6$var$pi,TAU:$cd657224f5082af6$var$tau=2*$cd657224f5082af6$var$pi}=Math,{assign:$cd657224f5082af6$var$assign}=Object,$cd657224f5082af6$var$_=void 0,$cd657224f5082af6$var$screenPositions=$c34a44976d3d9d2f$export$cfdc3a7c4cb854c6(),$cd657224f5082af6$var$query=$9909834506eb223b$export$f40320abe5266d8b(),$cd657224f5082af6$var$$body=document.body,$cd657224f5082af6$var$$canvas=$cd657224f5082af6$var$$body.querySelector("canvas");var $7087ede51bd2a8b1$exports={};$7087ede51bd2a8b1$exports=new URL("tracker.worker.dc19c1e3.js",import.meta.url).toString();var $f89d436e1f36b074$exports={};$f89d436e1f36b074$exports=new URL("worker.956d6e52.js",import.meta.url).toString();var $6a254b26df89d1c1$exports={};$6a254b26df89d1c1$exports=new URL("test.28ab4560.png",import.meta.url).toString();var $b6a42afa4163adec$exports={};$b6a42afa4163adec$exports=new URL("test.498d74a2.png",import.meta.url).toString(),(async()=>{let e,t=$9909834506eb223b$export$8069d817115baadd($cd657224f5082af6$var$query);$cd657224f5082af6$var$assign(t,{gridToPoints:{...t.gridToPoints,boundsClamp:$9909834506eb223b$export$4ed14f056d634df7("gridToPoints.boundsClamp",!1,$cd657224f5082af6$var$query)},grid:{...t.grid,boundsHit:$9909834506eb223b$export$e4c26796fa37df17("grid.boundsHit",-1,$cd657224f5082af6$var$query)},app:{...t.app,resetLoop:$9909834506eb223b$export$e4c26796fa37df17("app.resetLoop",9e5,$cd657224f5082af6$var$query),formFlow:{...t.app?.formFlow,keep:$9909834506eb223b$export$e4c26796fa37df17("app.formFlow.keep",-1,$cd657224f5082af6$var$query),rescaleSpreadPace:$9909834506eb223b$export$e42b9bfa6349b9e2("app.formFlow.rescaleSpreadPace","2e3",$cd657224f5082af6$var$query)},formFlowToPoints:{...t.app?.formFlowToPoints,massSpawn:$9909834506eb223b$export$62c0e5826d412260(2,"app.formFlowToPoints.massSpawn",void 0,[-1e3,null],$cd657224f5082af6$var$query)},joints:{...t.app?.joints,radii:$9909834506eb223b$export$62c0e5826d412260(2,"app.joints.radii",void 0,void 0,$cd657224f5082af6$var$query),trail:$9909834506eb223b$export$e4c26796fa37df17("app.joints.trail",.9,$cd657224f5082af6$var$query)},tracker:{...t.app?.tracker,poser:{...t.app?.tracker.poser,hands:$9909834506eb223b$export$e4c26796fa37df17("app.tracker.poser.hands",1,$cd657224f5082af6$var$query),mode:$9909834506eb223b$export$cf13531c653ea47b("app.tracker.poser.mode","VIDEO",$cd657224f5082af6$var$query)}},store:{...t.app?.store,wait:$9909834506eb223b$export$e4c26796fa37df17("app.store.wait",3e3,$cd657224f5082af6$var$query),force:$9909834506eb223b$export$e4c26796fa37df17("app.store.force",-5e3,$cd657224f5082af6$var$query),chance:$9909834506eb223b$export$e4c26796fa37df17("app.store.chance",.5,$cd657224f5082af6$var$query)}}});let r=1e3/(parseFloat(t.timer.step,10)||60);t.$canvas=$cd657224f5082af6$var$$canvas,await $9909834506eb223b$export$13fba5ef04f03938(t);let{api:n,g:i,grid:a,points:o,pointsToGrid:s,gridToPoints:p,gridToScreen:d,pointsToScreen:l,demo:c,onDraw:u,reset:f}=t,{start:m,opticalFlow:g,opticalFlowToGrid:h,gridFade:y,onResized:v}=c,{command:b=n,texture:_,buffer:O,framebuffer:M}=n,F=t.app={to:t,...t.app},S=F.joints={trail:.9,...F.joints,radii:$cd657224f5082af6$var$assign([.08,.02],F.joints.radii),to:t,poses:new Map,links:$21EMZ.handLinksDraw,$canvas:void 0,context:void 0,cache:void 0,setup(e=S){let t=e.$canvas??=document.createElement("canvas");return e.context??=t.getContext("2d"),e},draw(e=S){let{poses:t,links:r,radii:n,trail:i,setup:a,$canvas:o=a(e).$canvas,to:{screen:{size:s}}}=e,p=e.context??=o.getContext("2d"),[d,l]=s;if(i?(p.save(),p.globalAlpha=i,p.globalCompositeOperation="destination-in",p.fillStyle="#fff",p.fillRect(0,0,...s),p.restore()):o.width=d,!t.size)return e;let c=e.cache??={},u=$c04ac02773bf3d23$export$b54ddf06b57709b1(c.radius??=[],s,.5),f=$cd657224f5082af6$var$max(...u),m=$9909834506eb223b$export$dce0f7906c5e6747(s,$cd657224f5082af6$var$max,!1,c.screenAR??=[]),g=c.ar??=[];return p.save(),p.translate(...u),p.scale(f,f),t.forEach(({tracked:e,size:t,color:i="#fff"})=>{e?.length&&$cd657224f5082af6$var$max(...t)&&($77be82665409b19e$export$10e8ca711ec57747(g,m,$9909834506eb223b$export$dce0f7906c5e6747($c85e0e548bd3f6b9$export$87ee28508e334108(g,t,s),$cd657224f5082af6$var$min,!1,g)),p.save(),p.fillStyle=p.shadowColor=i,$02472921bf7b74d2$export$79b2f7037acddd43(e=>{let[t,i,a,o,s,d]=(0,$j3ERp.reduce)((e,[t,r,n])=>{let[i,a,o,s,p,d]=e;return $4e7503a19e75dec6$export$644e79245f7d24b5(e,$cd657224f5082af6$var$min(i,t),$cd657224f5082af6$var$max(a,t),$cd657224f5082af6$var$min(o,r),$cd657224f5082af6$var$max(s,r),$cd657224f5082af6$var$min(p,n),$cd657224f5082af6$var$max(d,n))},e,(0,$jegOU.map)((e,t)=>-(1/0*(t%2-.5)),c.box??=$22ee496980731f5f$export$d02631cccf789723(6),0));.01>$cd657224f5082af6$var$abs(s-d)&&(s+=.01*($cd657224f5082af6$var$sign(s-d)||1));let l=$c04ac02773bf3d23$export$b54ddf06b57709b1(c.dr??=[],n,$cd657224f5082af6$var$max(10/f,$cd657224f5082af6$var$min($cd657224f5082af6$var$abs(i-t),$cd657224f5082af6$var$abs(o-a))));$02472921bf7b74d2$export$79b2f7037acddd43(([t,r])=>{let{[t]:n,[r]:i}=e;if(!n||!i)return;let a=$77be82665409b19e$export$10e8ca711ec57747(c.p0??=[],n,g),o=$77be82665409b19e$export$10e8ca711ec57747(c.p1??=[],i,g),[u,f]=a,[m,h]=o,y=(0,$cXii6.fit)(n[2],s,d,...l),v=(0,$cXii6.fit)(i[2],s,d,...l),b=$2f8c9c970effb521$export$6de3c7fd2b1bf410(c.n??=[],a,o),_=c.ring??=[];p.shadowBlur=2*$cd657224f5082af6$var$max(y,v),p.beginPath(),p.moveTo(...$677cbcd23aae3f7f$export$bdcca9e6efe5625a(_,b,y,a)),p.lineTo(...$677cbcd23aae3f7f$export$bdcca9e6efe5625a(_,b,v,o)),p.lineTo(...$677cbcd23aae3f7f$export$bdcca9e6efe5625a(_,b,-v,o)),p.lineTo(...$677cbcd23aae3f7f$export$bdcca9e6efe5625a(_,b,-y,a)),p.closePath(),p.fill(),p.beginPath(),p.arc(u,f,y,0,$cd657224f5082af6$var$tau),p.arc(m,h,v,0,$cd657224f5082af6$var$tau),p.closePath(),p.fill()},r)},e),p.restore())}),p.restore(),e},resize(e=S){let{setup:t,$canvas:r=t(e).$canvas,to:n}=e;return[r.width,r.height]=n.screen.size,e}};S.setup();let T=F.tracker={on:void 0,worker:new URL($7087ede51bd2a8b1$exports).href,...F.tracker,poser:{hands:1,mode:"VIDEO",...F.tracker.poser},to:t,at:void 0,pose:{tracked:void 0,mean:void 0,size:void 0},$canvas:void 0,context:void 0,onUpdate:void 0,cache:void 0,async setup(e=T){let{worker:t,pose:r,poser:n,frame:i,update:a,to:o}=e;if(t&&"false"!==t){let r=e.worker=new Worker(t);r.onmessage=({data:{ping:t,pose:r}})=>{t&&console.log("ping",t),r&&i(a(r,e))};let o=new URL($f89d436e1f36b074$exports).href;r.postMessage({scripts:o,poser:n})}else e.poser=await (0,$21EMZ.getHandPoser)(n);return e},async track(e=T){let{on:t,at:r,worker:n,poser:i,pose:a,frame:o,update:s,clear:p,to:d}=e;if(!t)return e;let{input:{data:l},size:c}=d.demo.opticalFlow;if(a.size=c,!l)return o(e);let{videoWidth:u=0,videoHeight:f=0,currentTime:m}=l;if(u&&f)if(r===(e.at=m))o(e);else if(n){let t=e.$canvas??=document.createElement("canvas");(e.context??=t.getContext("2d")).drawImage(l,0,0,t.width=u,t.height=f);let r=await createImageBitmap(t);n.postMessage({video:r},[r])}else o(s(i?.track?.(l),e));else o(p(e));return e},draw(e=T){let{on:t,pose:r,to:{app:{joints:n},demo:i}}=e;if(!t)return e;let{poses:a}=n;return r.tracked?a.set("tracker",r):a.delete("tracker"),e},update({landmarksNDC:e,meanNDC:t},r=T){let{pose:n,clear:i,onUpdate:a}=r;return(n.tracked=e?.length?e:void i(r))&&(n.mean=t),a?.(n,r),r},clear(e=T){let{pose:t,to:r}=e;return t.tracked=t.mean=void 0,r.app.joints.poses.delete("tracker"),e},frame(e=T){let{on:t,loop:r}=e;return t&&(e.on=requestAnimationFrame(()=>r(e))),e},loop(e=T){let{on:t,draw:r,track:n}=e;return t?(e.on=!0,r(e),n(e)):e},stop(e=T){let{on:t,clear:r,to:n}=e;return e.on=cancelAnimationFrame(t),r(e),e},go(e=T){let{on:t,frame:r}=e;return t?e:(e.on=!0,r(e))}};(await T.setup()).go();let R=F.store={force:-5e3,chance:.5,...F.store,wait:{add:3e3,past:6e3,idle:9e3,...F.store.wait},on:{add:void 0,loop:void 0},to:t,past:[],shadow:void 0,added:void 0,cache:void 0,links:$21EMZ.handLinksFull,collides:[$4177a5820f8e2bc6$export$28e23bba31d0f3b2.COINCIDENT,$4177a5820f8e2bc6$export$28e23bba31d0f3b2.INTERSECT],add(e=R){let{past:t,wait:r,force:n,keep:i,on:a,stop:o,cache:s=e.cache={},to:p}=e,{g:d,app:{tracker:l,joints:c,formFlow:u}}=p,{tracked:f,mean:m,size:g}=l.pose;if(!f?.length||!1===a.add)return e;e.added&&i(e),$eab63462a8c01445$export$9cbac02f28c9a9a9(s.g??=[],d),$77be82665409b19e$export$10e8ca711ec57747(d,u.flip,$4e7503a19e75dec6$export$ba8c70ce75474f8d(d,...m,n)),s.looping=a.loop,o(e);let h=e.added={tracked:f,mean:m,size:g,color:`hsl(${$cd657224f5082af6$var$round(360*$cd657224f5082af6$var$random())}, 100%, 69%)`};return l.stop(l),c.poses.set("store.add",h).delete("tracker"),a.add=setTimeout(()=>i(e),r.add),e},keep(e=R){let{added:t,past:r,on:n,loop:i,wait:a,cache:o=e.cache={},to:s}=e;if(!1===n.add)return e;let{g:p,app:{tracker:d,joints:l}}=s,{g:c,looping:u}=o;return d.go(d),e.added=void(r.push(t)&&l.poses.delete("store.add")),c&&$4e7503a19e75dec6$export$ba8c70ce75474f8d(p,...c),n.add=clearTimeout(n.add),!1!==u&&(n.loop=setTimeout(()=>i(e),a.idle)),o.looping=void 0,e},loop(e=R){let t,{past:r,loop:n,on:i,chance:a,wait:{past:o,idle:s},to:p}=e;if(!1===i.loop)return e;let d=r.length,{poses:l}=p.app.joints;if(clearTimeout(i.loop),e.shadow=void l.delete("store.past"),!d)return(i.loop=setTimeout(()=>n(e),s))&&e;let{mean:c}=p.app.tracker.pose;return c?(0,$j3ERp.reduce)((e,r)=>{let n=$84f9cd351a52ccc6$export$f5e9931e7fc73125(r.mean,c)*$0947ac56be18c505$export$2c9e8a9632a706b2(1,$cd657224f5082af6$var$random(),a);return e>n?e:(t=r)&&n},r,-1/0):t=r[$cd657224f5082af6$var$round($cd657224f5082af6$var$random()*(d-1))],l.set("store.past",e.shadow=t),i.loop=setTimeout(()=>{!1!==i.loop&&(e.shadow=void l.delete("store.past"),clearTimeout(i.loop),i.loop=setTimeout(()=>n(e),s))},o),e},stop(e=R){let{on:t,to:{app:{joints:{poses:r}}}}=e;return t.loop=!!clearTimeout(t.loop),t.add=!!clearTimeout(t.add),e.shadow=void r.delete("store.past"),e.added=void r.delete("store.add"),e},collide(e=R){let{add:t,shadow:r,collides:n,links:i,to:a}=e,o=r?.tracked,s=a.app.tracker.pose?.tracked;return o&&s&&i.some(([e,t])=>o.some(({[e]:r,[t]:a})=>i.some(([e,t])=>s.some(({[e]:i,[t]:o})=>n.includes($f206bcd7bd7c3e93$export$ca0920dc1c7025a5(r,a,i,o).type)))))?t(e):e}};e=T.onUpdate,T.onUpdate=(t,r)=>{e?.(t,r),R.collide(R)},setTimeout(()=>R.loop(),R.wait.idle);let x=F.media={all:{joints:{rgb:S.$canvas,sdf:S.$canvas,offset:$9909834506eb223b$export$62c0e5826d412260(4,"app.media.all.joints.offset",[0,0,1,1],$cd657224f5082af6$var$_,$cd657224f5082af6$var$query)},test:{rgb:new URL($6a254b26df89d1c1$exports),sdf:new URL($b6a42afa4163adec$exports),offset:$9909834506eb223b$export$62c0e5826d412260(4,"app.media.all.test.offset",[0,0,1,1],$cd657224f5082af6$var$_,$cd657224f5082af6$var$query)}},at:$9909834506eb223b$export$cf13531c653ea47b("app.media.at","joints",$cd657224f5082af6$var$query)},w=F.ease={formFlow:{spans:$12061a95917d0533$export$2e2bcd8739ae039($22ee496980731f5f$export$d02631cccf789723(3).fill($9909834506eb223b$export$e4c26796fa37df17("app.ease.formFlow.spans",.2,$cd657224f5082af6$var$query),1),e=>{e.at??=[.5,1,0,1]},({at:e},{at:t},r)=>{$54524c990b2e7d8e$export$ac3d7e053306bfaa(e,e,t,r)})},formToPoints:{colorBy:$12061a95917d0533$export$2e2bcd8739ae039($22ee496980731f5f$export$d02631cccf789723(3).fill($9909834506eb223b$export$e4c26796fa37df17("app.ease.formToPoints.colorBy",.1,$cd657224f5082af6$var$query),1))}};w.formFlow.spans.easeTo(),w.formToPoints.colorBy.easeTo();let k=F.formFlow={to:t,frag:$parcel$interopDefault($a47e21dc63c43b84$exports),input:{data:void 0,channels:1,format:"alpha",mag:"linear",min:"linear"},inputs:{$image:void 0,$node:void 0},sdf:_(),spans:w.formFlow.spans.eases.at(-1).at,keep:1.7/r,flip:[-1,-1],aspect:[1,1],size:[0,0],spreadRadius:2,opticalFlowRadius:0,lengthLinear:!1,rescaleOpticalFlow:[6,-1],rescaleSpreadPace:[2,-1],rescaleSpreadSpan:[[1,1],[7,-1]],spanToHiPick:[.1,1],on:!0,...F.formFlow},E="formFlow_",C=2,A=k.fields=$c6e61e3321a7075c$export$82ee245e4549d21(new Map().set("signedDistance",1)),B=k.derives=[],{index:L,values:D,alias:I}=A,{signedDistance:G}=L;B[G]=[G];let{merge:P,maps:z}=k.gpgpu=$91cae31a339c057f$export$2e2bcd8739ae039(n,{to:t,pre:E,steps:C,side:1,maps:{values:D,alias:I,derives:B},macros:{vert:0},frag:(e,t)=>{let{frag:r,lengthLinear:n,spreadRadius:i,blurGauss:a,opticalFlowRadius:o}=t.to.app.formFlow;return(n?"#define lengthLinear\n\n":"")+(i?`#define spreadRadius ${i}

`:"")+(a?`#define blurGauss ${a}

`:"")+(o?`#define opticalFlowRadius ${o}

`:"")+r},uniforms:{sdf:(e,t)=>t.to.app.formFlow.sdf,keep:(e,t)=>t.to.app.formFlow.keep,spans:(e,t)=>t.to.app.formFlow.spans,flip:(e,t)=>t.to.app.formFlow.flip,aspect:(e,t)=>t.to.app.formFlow.aspect,size:(e,t)=>t.to.app.formFlow.size,offset:(e,{to:{app:{media:{all:t,at:r}}}})=>t[r].offset,rescaleOpticalFlow:(e,t)=>t.to.app.formFlow.rescaleOpticalFlow,rescaleSpreadPace:(e,t)=>t.to.app.formFlow.rescaleSpreadPace,rescaleSpreadSpan:(e,t)=>{let{rescaleSpreadSpan:r,lengthLinear:n}=t.to.app.formFlow;return r[+n]},dt:(e,t)=>t.to.timer.dt,aspectScreen:(e,t)=>t.to.screen.aspect,opticalFlow:(e,t)=>t.to.demo.opticalFlow.framebuffer.color[0],opticalFlowSize:(e,t)=>t.to.demo.opticalFlow.size}});k.step=(e=k)=>{let{on:t,setup:r,input:n,inputs:i,gpgpu:a,to:o}=e;return t&&(n.data===i.$node&&r(e),o.app.ease.formFlow.spans.easeTo(),a.step(a)),e},k.setup=(e=k)=>{let{input:t,sdf:r,aspect:n,size:i,gpgpu:a,to:o}=e,{app:s,pixelRatio:p}=o,{width:d,height:l}=t.data,{resize:c,size:{shape:[u,f]}}=a;return r(t),$4e7503a19e75dec6$export$dcfbb7940cfb3a48(i,d,l),d!==u&&l!==f&&c($c04ac02773bf3d23$export$b54ddf06b57709b1(null,i,p)),$9909834506eb223b$export$dce0f7906c5e6747(i,$cd657224f5082af6$var$max,!0,n),W.detail[0]=1/$cd657224f5082af6$var$max(d,l),e},k.start=async(e=k)=>{let{setup:t,input:r,inputs:n,sdf:i,to:a}=e,{all:o,at:s}=a.app.media,{sdf:p}=o[s],{href:d}=i;if(d){let e=r.data=n.$image??=new Image;e.src="",i(r);let t=new Promise(t=>e.addEventListener("load",function r(){t(e.removeEventListener("load",r))}));(e.src=d)&&await t}else r.data=n.$node=p;return t(e)};let N=$c34a44976d3d9d2f$export$dc207adda608f979.replaceAll($c34a44976d3d9d2f$export$b4781c2237bde956,E),W=F.formFlowToGrid={to:t,vert:N,frag:$parcel$interopDefault($a4860e9f702574aa$exports),count:$c34a44976d3d9d2f$export$832d88422d279bbc,limit:.01,detail:[1,.001],normalTo:[1,1,-1,-1],rescaleFormFlow:[1,6],blend:{enable:!0,func:{src:1,dst:1}},depth:{enable:!1},on:!1,...F.formFlowToGrid},U=$c6e61e3321a7075c$export$bd2891254e1e5b30({...$c6e61e3321a7075c$export$47b243153dce5032,pre:E,steps:C,merge:P,macros:{output:0},maps:$82eaf3e5ff5bc05d$export$798cdecdcbbf9755({...z,...$c6e61e3321a7075c$export$47b243153dce5032.maps,derives:[[G]]})},(e,t)=>t.to.app.formFlow.gpgpu),{fields:{index:j},gpgpu:H}=a,{pre:V,size:K,merge:$,maps:Y}=H,X=$c6e61e3321a7075c$export$bd2891254e1e5b30({...$c6e61e3321a7075c$export$47b243153dce5032,pre:V,steps:K.steps,merge:$,macros:{samples:0,taps:0},maps:$82eaf3e5ff5bc05d$export$798cdecdcbbf9755({...Y,...$c6e61e3321a7075c$export$47b243153dce5032.maps,derives:null})},(e,t)=>t.to.grid.gpgpu);W.link={formFlow:U,grid:X},W.pass=b(W.pipeline={vert:(e,t)=>t.vert,frag:(e,{frag:t,link:{formFlow:r,grid:n},to:{head:i}})=>i.glsl(i)+r.macros+n.macros+t,attributes:{formFlow_position:O($cd657224f5082af6$var$screenPositions)},uniforms:{...U.state.uniforms,limit:(e,t)=>t.limit,detail:(e,t)=>t.detail,normalTo:(e,t)=>t.normalTo,rescaleFormFlow:(e,t)=>t.rescaleFormFlow,rescaleMotion:(e,t)=>t.to.rescale.motion,dt:(e,t)=>t.to.timer.dt},blend:{enable:(e,t)=>t.blend.enable,func:{srcRGB:(e,{blend:{func:{src:t,srcRGB:r}}})=>r??t,srcAlpha:(e,{blend:{func:{src:t,srcAlpha:r}}})=>r??t,dstRGB:(e,{blend:{func:{dst:t,dstRGB:r}}})=>r??t,dstAlpha:(e,{blend:{func:{dst:t,dstAlpha:r}}})=>r??t}},depth:{enable:(e,t)=>t.depth.enable},count:(e,t)=>t.count,framebuffer:(e,t)=>$13c03cc1b86f8a58$export$d86e3abd7686c23f(t.to.grid.gpgpu)?.framebuffer}),W.step=(e=W)=>{if(!e.on)return;let{pass:t,to:{grid:{gpgpu:r,fields:n}}}=e,{maps:i,passNow:a,stepBy:o}=r;o(r,-1),r.passNow=i.valueToPass[n.index.motionFull],t(e),r.merge?.update?.(r),r.passNow=a,o(r,1)};let q=F.formFlowToPoints={to:t,at:0,vert:N,frags:[$parcel$interopDefault($4c5d70daa126e974$exports),$parcel$interopDefault($08a4e01c367df293$exports)],count:$c34a44976d3d9d2f$export$832d88422d279bbc,formSpawn:1/255,massSpawn:[-1e3,null],blend:{enable:!1},depth:{enable:!1},cache:void 0,output:void 0,on:!0,...F.formFlowToPoints},J=$c6e61e3321a7075c$export$bd2891254e1e5b30({...$c6e61e3321a7075c$export$47b243153dce5032,pre:E,steps:C,merge:P,macros:{output:0},maps:$82eaf3e5ff5bc05d$export$798cdecdcbbf9755({...z,...$c6e61e3321a7075c$export$47b243153dce5032.maps,derives:[[G]]})},(e,t)=>t.to.app.formFlow.gpgpu),{index:{mass:Z}}=o.fields,{gpgpu:Q}=p,{pre:ee,size:et,merge:er,maps:en}=Q,ei=$c6e61e3321a7075c$export$bd2891254e1e5b30({...$c6e61e3321a7075c$export$47b243153dce5032,pre:ee,steps:et.steps,merge:er,maps:$82eaf3e5ff5bc05d$export$798cdecdcbbf9755({...en,...$c6e61e3321a7075c$export$47b243153dce5032.maps,derives:$22ee496980731f5f$export$d02631cccf789723(Z+1,[Z],Z)})},(e,t)=>t.to.gridToPoints.gpgpu);q.link={formFlow:J,gridToPoints:ei},q.pass=b(q.pipeline={vert:(e,t)=>t.vert,frag:(e,{at:t,frags:r,link:n,to:{head:i}})=>{let{formFlow:a,gridToPoints:o}=n;return i.glsl(i)+a.macros+o.macros+r[t]},attributes:{formFlow_position:O($cd657224f5082af6$var$screenPositions)},uniforms:{...J.state.uniforms,...ei.state.uniforms,cache:(e,t)=>t.cache,formSpawn:(e,t)=>t.formSpawn,massSpawn:(e,{massSpawn:t,to:r})=>null==t[1]?$22ee496980731f5f$export$d02631cccf789723(t,r.gridToPoints.mass,1):t,rescaleMass:(e,t)=>t.to.rescale.mass,dt:(e,t)=>t.to.timer.dt,bounds:(e,t)=>t.to.grid.bounds},blend:{enable:(e,t)=>t.blend.enable},depth:{enable:(e,t)=>t.depth.enable},count:(e,t)=>t.count,framebuffer:(e,t)=>{let{at:r,to:n,output:i=t.output={}}=t,a=i.framebuffer,{gpgpu:o}=n.gridToPoints,{textures:s,stepNow:p,maps:{valueToTexture:d,alias:l}}=o,{[l.indexOf("mass")]:c}=d,u=s[p][c];return $cd657224f5082af6$var$assign(i,$13c03cc1b86f8a58$export$d86e3abd7686c23f(o)).color=r?u.texture:t.cache?.(u)??(t.cache=_(u)),i.framebuffer=(a??M)(i)}}),q.step=(e=q)=>{if(!e.on)return e;let{pass:t,to:{gridToPoints:{gpgpu:r}}}=e,{maps:n,passNow:i,stepBy:a}=r,{valueToPass:o,alias:s}=n;return a(r,-1),r.passNow=o[s.indexOf("mass")],e.at=0,t(e),++e.at,a(r,1),t(e),r.merge?.update?.(r),r.passNow=i,e};let ea=F.formFlowToScreen={to:t,vert:N,frag:$parcel$interopDefault($775c7e72e1bc38a2$exports),count:$c34a44976d3d9d2f$export$832d88422d279bbc,input:{data:void 0,mag:"linear",min:"linear"},inputs:{$image:void 0,$node:void 0},form:_(),curve:[[0,0],[.1,0],[-.25,1.5],[1,1.5]],blend:{enable:!0,func:{src:1,dst:"one minus src alpha"}},depth:{enable:!1},on:!1,...F.formFlowToScreen},eo=$c6e61e3321a7075c$export$bd2891254e1e5b30({...$c6e61e3321a7075c$export$9f9ef40fe2e7f9e0,pre:E,steps:C,merge:P,macros:{output:0},maps:$82eaf3e5ff5bc05d$export$798cdecdcbbf9755({...z,...$c6e61e3321a7075c$export$9f9ef40fe2e7f9e0.maps,derives:[[G]]})},(e,t)=>t.to.app.formFlow.gpgpu);ea.link={formFlow:eo},ea.pass=b(ea.pipeline={vert:(e,t)=>t.vert,frag:(e,{frag:t,link:r,to:{head:n}})=>n.glsl(n)+r.formFlow.macros+t,attributes:{formFlow_position:O($cd657224f5082af6$var$screenPositions)},uniforms:{...eo.state.uniforms,form:(e,t)=>t.form,flip:(e,{flip:t,to:r})=>t??r.app.formFlow.flip,aspect:(e,{aspect:t,to:r})=>t??r.app.formFlow.aspect,size:(e,{size:t,to:r})=>t??r.app.formFlow.size,offset:(e,{to:{app:{media:{all:t,at:r}}}})=>t[r].offset,...(0,$j3ERp.reduce)((e,t,r)=>(e[`curve[${r}]`]=(e,t)=>t.curve[r])&&e,ea.curve,{}),aspectScreen:(e,t)=>t.to.screen.aspect},blend:{enable:(e,t)=>t.blend.enable,func:{srcRGB:(e,{blend:{func:{src:t,srcRGB:r}}})=>r??t,srcAlpha:(e,{blend:{func:{src:t,srcAlpha:r}}})=>r??t,dstRGB:(e,{blend:{func:{dst:t,dstRGB:r}}})=>r??t,dstAlpha:(e,{blend:{func:{dst:t,dstAlpha:r}}})=>r??t}},depth:{enable:(e,t)=>t.depth.enable},count:(e,t)=>t.count}),ea.draw=(e=ea)=>{let{on:t,pass:r,setup:n,input:i,inputs:a}=e;return i.data===a.$node&&n(e),t&&r(e),e},ea.setup=(e=ea)=>{let{form:t,input:r,size:n,aspect:i,to:a}=e,{pointsToScreen:o,app:{media:{all:s,at:p}}}=a;if(t(r),o.offset=s[p].offset,!n||!i)return e;let{width:d,height:l}=r.data;return $9909834506eb223b$export$dce0f7906c5e6747($4e7503a19e75dec6$export$dcfbb7940cfb3a48(n,d,l),$cd657224f5082af6$var$max,!0,i),e},ea.start=async(e=ea)=>{let{setup:t,input:r,inputs:n,form:i,to:a}=e,{all:o,at:s}=a.app.media,{rgb:p}=o[s],{href:d}=p;if(d){let e=r.data=n.$image??=new Image;e.src="",i(r);let t=new Promise(t=>e.addEventListener("load",function r(){t(e.removeEventListener("load",r))}));(e.src=d)&&await t}else r.data=n.$node=p;return t(e)};let es=0,ep=F.formToPoints={colorByPick:[-1,0]};$4e7503a19e75dec6$export$dcfbb7940cfb3a48(l.colorBy,es,2),l.flip=ea.flip??k.flip,l.colorImage=ea.form,l.aspectImage=ea.aspect??k.aspect;let ed=Q.onStep;Q.onStep=e=>{let t=ed?.(e)??e,{app:r,passAt:n,pointsToScreen:i}=t.to,{formFlow:a,formFlowToGrid:o,formFlowToPoints:s,ease:p,joints:d}=r;return n||(d.draw(d),a.step(a),i.colorBy[0]=p.formToPoints.colorBy.easeTo().at),o.step(o),s.step(s),t},t.onDraw=e=>{let t=u?.(e)??e,{formFlowToScreen:r}=t.app;return r.draw(r),t},c.onResized=e=>{let t=v?.(e)??e,{joints:r}=t.to.app;return r.resize(r),t};let el=F.formSwap={wait:{hold:2500,loop:3e4},on:!0,at:null,queued:null,order:(0,$jegOU.map)((e,t)=>t+1,$22ee496980731f5f$export$d02631cccf789723(1),0),keys:{j:()=>el.to("joints"),t:()=>el.to("test"),h:()=>el.keys.j(),1:()=>el.keys.j(),"\\":()=>el.flip(),"[":()=>el.loop(),"]":()=>el.stop()},hold:()=>new Promise(e=>setTimeout(e,el.wait.hold)),flip:()=>{let e=el.on=!el.on,{formFlow:t,formToPoints:r}=w;return t.spans.eases[0].at[3]=k.spanToHiPick[+e],r.colorBy.eases[0].at=ep.colorByPick[+e],el},go:async()=>await Promise.all([k.start(),ea.start()])&&el,to:async e=>{let{flip:t,hold:r,go:n}=el;return t(),await r(),x.at=e,await n(),await r(),t(),el},next(){let{keys:e,order:t,at:r}=el;return e[t[el.at=(null==r?0:r+1)%t.length]](),el},stop:()=>(el.queued=clearInterval(el.queued),el),loop(){let{stop:e,next:t,wait:{loop:r,hold:n}}=el;return e(),t(),el.queued=setInterval(t,r+2*n),el}},ec=F.keys={" ":()=>f(),Enter:()=>$cd657224f5082af6$var$$canvas.requestFullscreen(),Shift:()=>R.add()},eu=F.resetLoop??=9e5;eu&&setInterval(()=>f(),eu),$cd657224f5082af6$var$$body.addEventListener("keyup",({key:e})=>(el.keys[e]??ec[e])?.()),el.go(),m()})();